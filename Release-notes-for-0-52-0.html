<!DOCTYPE html>
<html lang="en">
<head>

<base href=".">

<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">


<title>Release 0.52.0</title>

<link rel="stylesheet" href="assets/css/custom_bootstrap.css" type="text/css">
<link rel="stylesheet" href="assets/css/bootstrap-toc.min.css" type="text/css">
<link rel="stylesheet" href="assets/css/frontend.css" type="text/css">
<link rel="stylesheet" href="assets/css/jquery.mCustomScrollbar.min.css">
<link rel="stylesheet" href="assets/js/search/enable_search.css" type="text/css">

<link rel="stylesheet" href="assets/css/prism-tomorrow.css" type="text/css">

<script src="assets/js/mustache.min.js"></script>
<script src="assets/js/jquery.js"></script>
<script src="assets/js/scrollspy.js"></script>
<script src="assets/js/bootstrap.js"></script>
<script src="assets/js/typeahead.jquery.min.js"></script>
<script src="assets/js/search.js"></script>
<script src="assets/js/isotope.pkgd.min.js"></script>
<script src="assets/js/compare-versions.js"></script>
<script src="assets/js/jquery.mCustomScrollbar.concat.min.js"></script>
<script src="assets/js/bootstrap-toc.min.js"></script>
<script src="assets/js/jquery.touchSwipe.min.js"></script>
<script src="assets/js/anchor.min.js"></script>
<script src="assets/js/tag_filtering.js"></script>
<script src="assets/js/language_switching.js"></script>

<script src="assets/js/lines_around_headings.js"></script>

<script src="assets/js/trie.js"></script>
<script src="assets/js/prism-core.js"></script>
<script src="assets/js/prism-autoloader.js"></script>
<script src="assets/js/prism_autoloader_path_override.js"></script>

<link rel="icon" type="image/png" href="assets/images/favicon.png">
<link rel="shortcut icon" href="assets/images/favicon.png">

</head>

<body class="no-script
" data-spy="scroll" data-target="#toc" data-offset="70">

<script>
$('body').removeClass('no-script');
</script>

<nav class="navbar navbar-fixed-top navbar-default" id="topnav">
	<div class="container-fluid">
		<div class="navbar-right">
			<a id="toc-toggle">
				<span class="glyphicon glyphicon-menu-right"></span>
				<span class="glyphicon glyphicon-menu-left"></span>
			</a>
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-wrapper" aria-expanded="false">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<form class="navbar-form pull-right" id="navbar-search-form">
                               <div class="form-group has-feedback">
                                       <input type="text" class="form-control input-sm" name="search" id="sidenav-lookup-field" placeholder="search" disabled>
				       <span class="glyphicon glyphicon-search form-control-feedback" id="search-mgn-glass"></span>
                               </div>
                        </form>
		</div>
		<div class="navbar-header">
			<a id="sidenav-toggle">
				<span class="glyphicon glyphicon-menu-right"></span>
				<span class="glyphicon glyphicon-menu-left"></span>
			</a>
			<a id="home-link" href="index.html" class="hotdoc-navbar-brand">
				<img src="assets/images/meson_logo.png" alt="Home">
			</a>
		</div>
		<div class="navbar-collapse collapse" id="navbar-wrapper">
			<ul class="nav navbar-nav" id="menu">
				
<li class="dropdown">
  <a class="dropdown-toggle" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    Modules <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" id="modules-menu">
        <li>
            <a href="CMake-module.html">CMake</a>
        </li>
        <li>
            <a href="Cuda-module.html">CUDA</a>
        </li>
        <li>
            <a href="Dlang-module.html">Dlang</a>
        </li>
        <li>
            <a href="Fs-module.html">Filesystem</a>
        </li>
        <li>
            <a href="Gnome-module.html">GNOME</a>
        </li>
        <li>
            <a href="Hotdoc-module.html">Hotdoc</a>
        </li>
        <li>
            <a href="Icestorm-module.html">Icestorm</a>
        </li>
        <li>
            <a href="Keyval-module.html">Keyval</a>
        </li>
        <li>
            <a href="Pkgconfig-module.html">Pkgconfig</a>
        </li>
        <li>
            <a href="Python-3-module.html">Python 3</a>
        </li>
        <li>
            <a href="Python-module.html">Python</a>
        </li>
        <li>
            <a href="Qt4-module.html">Qt4</a>
        </li>
        <li>
            <a href="Qt5-module.html">Qt5</a>
        </li>
        <li>
            <a href="RPM-module.html">RPM</a>
        </li>
        <li>
            <a href="Rust-module.html">Rust</a>
        </li>
        <li>
            <a href="SourceSet-module.html">SourceSet</a>
        </li>
        <li>
            <a href="Windows-module.html">Windows</a>
        </li>
        <li>
            <a href="i18n-module.html">i18n</a>
        </li>
	</ul>
</li>
<li class="dropdown">
	<a class="dropdown-toggle" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
		Quick References <span class="caret"></span>
	</a>
	<ul class="dropdown-menu" id="quick-refs-menu">
					<li>
				<a href="Reference-manual.html">Functions</a>
			</li>
					<li>
				<a href="Build-options.html">Options</a>
			</li>
					<li>
				<a href="Configuration.html">Configuration</a>
			</li>
					<li>
				<a href="Dependencies.html">Dependencies</a>
			</li>
					<li>
				<a href="Unit-tests.html">Tests</a>
			</li>
					<li>
				<a href="Syntax.html">Syntax</a>
			</li>
			</ul>
</li>
			</ul>
			<div class="hidden-xs hidden-sm navbar-text navbar-center">
				<p><b>The Meson Build System</b></p>
			</div>
		</div>
	</div>
</nav>

<main>
<div data-extension="core" data-hotdoc-in-toplevel="True" data-hotdoc-project="Meson-documentation" data-hotdoc-ref="Release-notes-for-0-52-0.html" class="page_container" id="page-wrapper">
<script src="assets/js/utils.js"></script>

<div class="panel panel-collapse oc-collapsed" id="sidenav" data-hotdoc-role="navigation">
	<script src="assets/js/navigation.js"></script>
	<script src="assets/js/sitemap.js"></script>
</div>

<div id="body">
	<div id="main">
				    <div id="page-description" data-hotdoc-role="main">
        <h1 id="new-features">New features</h1>
<h2 id="gettext-targets-are-ignored-if-gettext-is-not-installed">Gettext targets are ignored if <code>gettext</code> is not installed</h2>
<p>Previously the <code>i18n</code> module has errored out when <code>gettext</code> tools are
not installed on the system. Starting with this version they will
become no-ops instead. This makes it easier to build projects on
minimal environments (such as when bootstrapping) that do not have
translation tools installed.</p>
<h2 id="support-taking-environment-values-from-a-dictionary">Support taking environment values from a dictionary</h2>
<p><code>environment()</code> now accepts a dictionary as first argument.  If
provided, each key/value pair is added into the <code>environment_object</code>
as if <code>set()</code> method was called for each of them.</p>
<p>On the various functions that take an <code>env:</code> keyword argument, you may
now give a dictionary.</p>
<h2 id="alias_target">alias_target</h2>
<pre><code class="language-meson">runtarget alias_target(target_name, dep1, ...)
</code></pre>
<p>This function creates a new top-level target. Like all top-level
targets, this integrates with the selected backend. For instance, with
Ninja you can run it as <code>ninja target_name</code>. This is a dummy target
that does not execute any command, but ensures that all dependencies
are built. Dependencies can be any build target (e.g. return value of
executable(), custom_target(), etc)</p>
<h2 id="enhancements-to-the-pkg_config_path-argument">Enhancements to the pkg_config_path argument</h2>
<p>Setting sys_root in the [properties] section of your cross file will
now set PKG_CONFIG_SYSROOT_DIR automatically for host system
dependencies when cross compiling.</p>
<h2 id="the-meson-test-program-now-accepts-an-additional-gdbpath-argument-to-specify-the-gdb-binary">The Meson test program now accepts an additional "--gdb-path" argument to specify the GDB binary</h2>
<p><code>meson test --gdb testname</code> invokes GDB with the specific test case. However, sometimes GDB is not in the path or a GDB replacement is wanted.
Therefore, a <code>--gdb-path</code> argument was added to specify which binary is executed (per default <code>gdb</code>):</p>
<pre><code class="language-console">$ meson test --gdb --gdb-path /my/special/location/for/gdb testname
$ meson test --gdb --gdb-path cgdb testname
</code></pre>
<h2 id="better-support-for-illumos-and-solaris">Better support for illumos and Solaris</h2>
<p>illumos (and hopefully Solaris) support has been dramatically
improved, and one can reasonably expect projects to compile.</p>
<h2 id="splitting-of-compilerget_function_attributevisibility">Splitting of Compiler.get_function_attribute('visibility')</h2>
<p>On macOS there is no <code>protected</code> visibility, which results in the
visbility check always failing. 0.52.0 introduces two changes to
improve this situation:</p>
<ol>
<li>the "visibility" check no longer includes "protected"</li>
<li>a new set of "split" checks are introduced which check for a single
attribute instead of all attributes.</li>
</ol>
<p>These new attributes are:</p>
<ul>
<li>visibility:default</li>
<li>visibility:hidden</li>
<li>visibility:internal</li>
<li>visibility:protected</li>
</ul>
<h2 id="clangtidy-target">Clang-tidy target</h2>
<p>If <code>clang-tidy</code> is installed and the project's source root contains a
<code>.clang-tidy</code> (or <code>_clang-tidy</code>) file, Meson will automatically define
a <code>clang-tidy</code> target that runs Clang-Tidy on all source files.</p>
<p>If you have defined your own <code>clang-tidy</code> target, Meson will not
generate its own target.</p>
<h2 id="add-blocks-dependency">Add blocks dependency</h2>
<p>Add <code>dependency('blocks')</code> to use the Clang blocks extension.</p>
<h2 id="mesons-builtin-b_lundef-is-now-supported-on-macos">Meson's builtin b_lundef is now supported on macOS</h2>
<p>This has always been possible, but there are some additional
restrictions on macOS (mainly do to Apple only features). With the
linker internal re-architecture this has become possible</p>
<h2 id="compiler-and-dynamic-linker-representation-split">Compiler and dynamic linker representation split</h2>
<p>0.52.0 inclues a massive refactor of the representaitons of compilers to
tease apart the representations of compilers and dynamic linkers (ld). This
fixes a number of compiler/linker combinations. In particular this fixes
use GCC and vanilla clang on macOS.</p>
<h2 id="add-depth-option-to-wrapgit">Add <code>depth</code> option to <code>wrap-git</code>
</h2>
<p>To allow shallow cloning, an option <code>depth</code> has been added to <code>wrap-git</code>.
This applies recursively to submodules when <code>clone-recursive</code> is set to <code>true</code>.</p>
<p>Note that the git server may have to be configured to support shallow cloning
not only for branches but also for tags.</p>
<h2 id="enhancements-to-the-source_set-module">Enhancements to the source_set module</h2>
<p><code>SourceSet</code> objects now provide the <code>all_dependencies()</code> method, that
complement the existing <code>all_sources()</code> method.</p>
<h2 id="added-only-tests-option-to-run_project_testspy">added <code>--only test(s)</code> option to run_project_tests.py</h2>
<p>Individual tests or a list of tests from run_project_tests.py can be selected like:</p>
<pre><code>python run_project_tests.py --only fortran

python run_project_tests.py --only fortran python3
</code></pre>
<p>This assists Meson development by only running the tests for the
portion of Meson being worked on during local development.</p>
<h2 id="experimental-webassembly-support-via-emscripten">Experimental Webassembly support via Emscripten</h2>
<p>Meson now supports compiling code to Webassembly using the Emscripten
compiler. As with most things regarding Webassembly, this support is
subject to change.</p>
<h2 id="version-check-in-find_program">Version check in <code>find_program()</code>
</h2>
<p>A new <code>version</code> keyword argument has been added to <code>find_program</code> to
specify the required version. See <a href="Release-notes-for-0-52-0.html#dependency"><code>dependency()</code></a> for
argument format. The version of the program is determined by running
<code>program_name --version</code> command. If stdout is empty it fallbacks to
stderr. If the output contains more text than simply a version number,
only the first occurrence of numbers separated by dots is kept. If the
output is more complicated than that, the version checking will have
to be done manually using <a href="Release-notes-for-0-52-0.html#run_command"><code>run_command()</code></a>.</p>
<h2 id="added-vs_module_defs-to-shared_module">Added <code>vs_module_defs</code> to <code>shared_module()</code>
</h2>
<p>Like <code>shared_library()</code>, <code>shared_module()</code> now accepts
<code>vs_module_defs</code> argument for controlling symbol exports, etc.</p>
<h2 id="improved-support-for-static-libraries">Improved support for static libraries</h2>
<p>Static libraries had numerous shortcomings in the past, especially
when using uninstalled static libraries. This release brings many
internal changes in the way they are handled, including:</p>
<ul>
<li>
<code>link_whole:</code> of static libraries. In the example below, lib2 used to miss
symbols from lib1 and was unusable.</li>
</ul>
<pre><code class="language-meson">lib1 = static_library(sources)
lib2 = static_library(other_sources, link_whole : lib1, install : true)
</code></pre>
<ul>
<li>
<code>link_with:</code> of a static library with an uninstalled static library. In the
example below, lib2 now implicitly promote <code>link_with:</code> to <code>link_whole:</code> because
the installed lib2 would oterhwise be unusable.</li>
</ul>
<pre><code class="language-meson">lib1 = static_library(sources, install : false)
lib2 = static_library(sources, link_with : lib1, install : true)
</code></pre>
<ul>
<li>pkg-config generator do not include uninstalled static libraries. In the example
below, the generated <code>.pc</code> file used to be unusable because it contained
<code>Libs.private: -llib1</code> and <code>lib1.a</code> is not installed. <code>lib1</code> is now omitted
from the <code>.pc</code> file because the <code>link_with:</code> has been promoted to
<code>link_whole:</code> (see above) and thus lib1 is not needed to use lib2.</li>
</ul>
<pre><code class="language-meson">lib1 = static_library(sources, install : false)
lib2 = both_libraries(sources, link_with : lib1, install : true)
pkg.generate(lib2)
</code></pre>
<p>Many projects have been using <code>extract_all_objects()</code> to work around
those issues, and hopefully those hacks could now be removed. Since
this is a pretty large change, please double check if your static
libraries behave correctly, and report any regression.</p>
<h2 id="enhancements-to-the-kconfig-module">Enhancements to the kconfig module</h2>
<p><code>kconfig.load()</code> may now accept a <code>configure_file()</code> as input file.</p>
<h2 id="added-include_type-kwarg-to-dependency">Added <code>include_type</code> kwarg to <code>dependency</code>
</h2>
<p>The <code>dependency()</code> function now has a <code>include_type</code> kwarg. It can take the
values <code>'preserve'</code>, <code>'system'</code> and <code>'non-system'</code>. If it is set to <code>'system'</code>,
all include directories of the dependency are marked as system dependencies.</p>
<p>The default value of <code>include_type</code> is <code>'preserve'</code>.</p>
<p>Additionally, it is also possible to check and change the
<code>include_type</code> state of an existing dependency object with the new
<code>include_type()</code> and <code>as_system()</code> methods.</p>
<h2 id="enhancements-to-configure_file">Enhancements to <code>configure_file()</code>
</h2>
<p><code>input:</code> now accepts multiple input file names for <code>command:</code>-configured file.</p>
<p><code>depfile:</code> keyword argument is now accepted. The dependency file can
list all the additional files the configure target depends on.</p>
<h2 id="projects-args-can-be-set-separately-for-build-and-host-machines-potentially-breaking-change">Projects args can be set separately for build and host machines (potentially breaking change)</h2>
<p>Simplify <code>native</code> flag behavior in <code>add_global_arguments</code>,
<code>add_global_link_arguments</code>, <code>add_project_arguments</code> and
<code>add_project_link_arguments</code>. The rules are now very simple:</p>
<ul>
<li>
<p><code>native: true</code> affects <code>native: true</code> targets</p>
</li>
<li>
<p><code>native: false</code> affects <code>native: false</code> targets</p>
</li>
<li>
<p>No native flag is the same as <code>native: false</code></p>
</li>
</ul>
<p>This further simplifies behavior to match the "build vs host" decision
done in last release with <code>c_args</code> vs <code>build_c_args</code>. The underlying
motivation in both cases is to execute the same commands whether the
overall build is native or cross.</p>
<h2 id="allow-checking-if-a-variable-is-a-disabler">Allow checking if a variable is a disabler</h2>
<p>Added the function <code>is_disabler(var)</code>. Returns true if a variable is a disabler
and false otherwise.</p>
<h2 id="gtkdoccheck-support">gtkdoc-check support</h2>
<p><code>gnome.gtkdoc()</code> now has a <code>check</code> keyword argument. If <code>true</code> runs it
will run <code>gtkdoc-check</code> when running unit tests. Note that this has
the downside of rebuilding the doc for each build, which is often very
slow. It usually should be enabled only in CI.</p>
<h2 id="gnomegtkdoc-returns-target-object">
<code>gnome.gtkdoc()</code> returns target object</h2>
<p><code>gnome.gtkdoc()</code> now returns a target object that can be passed as
dependency to other targets using generated doc files (e.g. in
<code>content_files</code> of another doc).</p>
<h2 id="dist-is-now-a-top-level-command">Dist is now a top level command</h2>
<p>Previously creating a source archive could only be done with <code>ninja dist</code>. Starting with this release Meson provides a top level <code>dist</code>
that can be invoked directly. It also has a command line option to
determine which kinds of archives to create:</p>
<pre><code class="language-meson">meson dist --formats=xztar,zip
</code></pre>

    </div>
        




		
	</div>
	<div id="search_results">
		<p>The results of the search are</p>
	</div>
	<div id="footer">
		    
        
<hr>

<div class="license-description">
    Website licensing information are available on the <a href="legal.html">Legal</a> page.
</div>


	</div>
</div>

<div id="toc-column">
	
		<div class="edit-button">
		<a href="https://github.com/mesonbuild/meson/edit/master/docs/markdown/Release-notes-for-0.52.0.md" data-hotdoc-role="edit-button">Edit on github</a>

	</div>
		<div id="toc-wrapper">
		<nav id="toc"></nav>
	</div>
</div>
</div>
</main>


<script src="assets/js/navbar_offset_scroller.js"></script>
</body>
</html>
