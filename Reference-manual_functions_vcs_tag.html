<!DOCTYPE html>
<html lang="en">
<head>

<base href=".">

<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">


<title>vcs_tag()</title>

<link rel="stylesheet" href="assets/css/dark-frontend.css" type="text/css" title="dark">
<link rel="alternate stylesheet" href="assets/css/light-frontend.css" type="text/css" title="light">
<link rel="stylesheet" href="assets/css/bootstrap-toc.min.css" type="text/css">
<link rel="stylesheet" href="assets/css/jquery.mCustomScrollbar.min.css">
<link rel="stylesheet" href="assets/js/search/enable_search.css" type="text/css">

<link rel="stylesheet" href="assets/css/notes.css" type="text/css">
<link rel="stylesheet" href="assets/css/devhelp.css" type="text/css">

<link rel="stylesheet" href="assets/css/prism-tomorrow.css" type="text/css" title="dark">

<link rel="alternate stylesheet" href="assets/css/prism.css" type="text/css" title="light">

<script src="assets/js/mustache.min.js"></script>
<script src="assets/js/jquery.js"></script>
<script src="assets/js/bootstrap.js"></script>
<script src="assets/js/scrollspy.js"></script>
<script src="assets/js/typeahead.jquery.min.js"></script>
<script src="assets/js/search.js"></script>
<script src="assets/js/compare-versions.js"></script>
<script src="assets/js/jquery.mCustomScrollbar.concat.min.js"></script>
<script src="assets/js/bootstrap-toc.min.js"></script>
<script src="assets/js/jquery.touchSwipe.min.js"></script>
<script src="assets/js/anchor.min.js"></script>
<script src="assets/js/tag_filtering.js"></script>
<script src="assets/js/language_switching.js"></script>
<script src="assets/js/styleswitcher.js"></script>

<script src="assets/js/lines_around_headings.js"></script>

<script src="assets/js/prism-core.js"></script>
<script src="assets/js/prism-autoloader.js"></script>
<script src="assets/js/prism_autoloader_path_override.js"></script>
<script src="assets/js/prism-keep-markup.js"></script>
<script src="assets/js/trie.js"></script>

<link rel="icon" type="image/png" href="assets/images/favicon.png">
<link rel="shortcut icon" href="assets/images/favicon.png">

</head>

<body class="no-script
">

<script>
$('body').removeClass('no-script');
</script>

<nav class="navbar navbar-fixed-top navbar-default" id="topnav">
	<div class="container-fluid">
		<div class="navbar-right">
			<a id="toc-toggle">
				<span class="glyphicon glyphicon-menu-right"></span>
				<span class="glyphicon glyphicon-menu-left"></span>
			</a>
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-wrapper" aria-expanded="false">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<span title="light mode switch" class="glyphicon glyphicon-sunglasses pull-right" id="lightmode-icon"></span>
			<form class="navbar-form pull-right" id="navbar-search-form">
                               <div class="form-group has-feedback">
                                       <input type="text" class="form-control input-sm" name="search" id="sidenav-lookup-field" placeholder="search" disabled>
				       <span class="glyphicon glyphicon-search form-control-feedback" id="search-mgn-glass"></span>
                               </div>
                        </form>
		</div>
		<div class="navbar-header">
			<a id="sidenav-toggle">
				<span class="glyphicon glyphicon-menu-right"></span>
				<span class="glyphicon glyphicon-menu-left"></span>
			</a>
			<a id="home-link" href="index.html" class="hotdoc-navbar-brand">
				<img src="assets/images/meson_logo.png" alt="Home">
			</a>
		</div>
		<div class="navbar-collapse collapse" id="navbar-wrapper">
			<ul class="nav navbar-nav" id="menu">
				
<li class="dropdown">
  <a class="dropdown-toggle" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    Modules <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" id="modules-menu">
        <li>
            <a href="CMake-module.html">CMake</a>
        </li>
        <li>
            <a href="Codegen-module.html">Codegen</a>
        </li>
        <li>
            <a href="Cuda-module.html">CUDA</a>
        </li>
        <li>
            <a href="Dlang-module.html">Dlang</a>
        </li>
        <li>
            <a href="External-Project-module.html">External Project</a>
        </li>
        <li>
            <a href="Fs-module.html">Filesystem</a>
        </li>
        <li>
            <a href="Gnome-module.html">GNOME</a>
        </li>
        <li>
            <a href="Hotdoc-module.html">Hotdoc</a>
        </li>
        <li>
            <a href="i18n-module.html">i18n</a>
        </li>
        <li>
            <a href="Icestorm-module.html">Icestorm</a>
        </li>
        <li>
            <a href="Java-module.html">Java</a>
        </li>
        <li>
            <a href="Keyval-module.html">Keyval</a>
        </li>
        <li>
            <a href="Pkgconfig-module.html">Pkgconfig</a>
        </li>
        <li>
            <a href="Python-3-module.html">Python 3</a>
        </li>
        <li>
            <a href="Python-module.html">Python</a>
        </li>
        <li>
            <a href="Qt4-module.html">Qt4</a>
        </li>
        <li>
            <a href="Qt5-module.html">Qt5</a>
        </li>
        <li>
            <a href="Qt6-module.html">Qt6</a>
        </li>
        <li>
            <a href="Rust-module.html">Rust</a>
        </li>
        <li>
            <a href="Simd-module.html">Simd</a>
        </li>
        <li>
            <a href="Snippets-module.html">Snippets</a>
        </li>
        <li>
            <a href="SourceSet-module.html">SourceSet</a>
        </li>
        <li>
            <a href="Wayland-module.html">Wayland</a>
        </li>
        <li>
            <a href="Windows-module.html">Windows</a>
        </li>
	</ul>
</li>
<li class="dropdown">
	<a class="dropdown-toggle" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
		Quick References <span class="caret"></span>
	</a>
	<ul class="dropdown-menu" id="quick-refs-menu">
					<li>
				<a href="Reference-manual.html">Functions</a>
			</li>
					<li>
				<a href="Build-options.html">Options</a>
			</li>
					<li>
				<a href="Configuration.html">Configuration</a>
			</li>
					<li>
				<a href="Dependencies.html">Dependencies</a>
			</li>
					<li>
				<a href="Unit-tests.html">Tests</a>
			</li>
					<li>
				<a href="Syntax.html">Syntax</a>
			</li>
			</ul>
</li>
			</ul>
			<div class="hidden-xs hidden-sm navbar-text navbar-center">
				<p><b>The Meson Build System</b></p>
			</div>
		</div>
	</div>
</nav>

<main>
<div data-extension="core" data-hotdoc-in-toplevel="True" data-hotdoc-project="Meson-documentation" data-hotdoc-ref="Reference-manual_functions_vcs_tag.html" class="page_container" id="page-wrapper">
<script src="assets/js/utils.js"></script>

<div class="panel panel-collapse oc-collapsed" id="sidenav" data-hotdoc-role="navigation">
	<script src="assets/js/full-width.js"></script>
  <div id="sitenav-wrapper">
    <iframe src="hotdoc-sitemap.html" id="sitenav-frame"></iframe>
  </div>
</div>

<div id="body">
	<div id="main">
				    <div id="page-description" data-hotdoc-role="main">
        <h2 id="vcs_tag">vcs_tag()</h2>
<p>This command detects revision control commit information at build time
and places it in the specified output file. This file is guaranteed to
be up to date on every build. Keywords are similar to <a href="Reference-manual_functions.html#custom_target"><ins><code>custom_target()</code></ins></a>.</p>
<p>Meson will read the contents of <code>input</code>, substitute the
<code>replace_string</code> with the detected revision number, and write the
result to <code>output</code>. This method returns a
<a href="Reference-manual_returned_custom_tgt.html"><ins><code>custom_tgt</code></ins></a> object that (as usual) should be
used to signal dependencies if other targets use the file outputted
by this.</p>
<p>For example, if you generate a header with this and want to use that
in a build target, you must add the return value to the sources of
that build target. Without that, Meson will not know the order in
which to build the targets.</p>
<p>If you desire more specific behavior than what this command provides,
you should use <a href="Reference-manual_functions.html#custom_target"><ins><code>custom_target()</code></ins></a>.</p>
<p style="padding: 5px; margin: 0px;"></p> <!-- A bit of space because we remove the top margin below -->
<div style="display: flex;">
  <h3 style="margin-top: 0px;" id="signature">Signature</h3>
  <div style="flex-grow: 1;"></div>
  <div>
<div style="margin: 0px; text-align: center;">
</div>
</div>
</div>
<pre><code class="language-meson"># This command detects revision control commit information at build time
<a href="Reference-manual_returned_custom_tgt.html"><ins>custom_tgt</ins></a> vcs_tag(
  <a href="Reference-manual_functions_vcs_tag.html#vcs_tag_command"><b>command</b></a>        : <a href="Reference-manual_elementary_array.html"><ins>array</ins></a>[<a href="Reference-manual_returned_exe.html"><ins>exe</ins></a> | <a href="Reference-manual_returned_program.html"><ins>program</ins></a> | <a href="Reference-manual_returned_custom_tgt.html"><ins>custom_tgt</ins></a> | <a href="Reference-manual_returned_file.html"><ins>file</ins></a> | <a href="Reference-manual_elementary_str.html"><ins>str</ins></a>]              # The command to execute, see <a href="Reference-manual_functions.html#custom_target"><ins><code>custom_target()</code></ins></a> for details
  <a href="Reference-manual_functions_vcs_tag.html#vcs_tag_fallback"><b>fallback</b></a>       : <a href="Reference-manual_elementary_str.html"><ins>str</ins></a>                                                         # Version number to use when no revision control information is present,
  <a href="Reference-manual_functions_vcs_tag.html#vcs_tag_input"><b>input</b></a>          : <a href="Reference-manual_elementary_str.html"><ins>str</ins></a>                                             <i>[required]</i>  # File to modify (e
  <a href="Reference-manual_functions_vcs_tag.html#vcs_tag_install"><b>install</b></a>        : <a href="Reference-manual_elementary_bool.html"><ins>bool</ins></a>                                                        # When true, this generated file is installed during
  <a href="Reference-manual_functions_vcs_tag.html#vcs_tag_install_dir"><b>install_dir</b></a>    : <a href="Reference-manual_elementary_str.html"><ins>str</ins></a>                                                         # The subdirectory to install the generated file to (e
  <a href="Reference-manual_functions_vcs_tag.html#vcs_tag_install_mode"><b>install_mode</b></a>   : <a href="Reference-manual_elementary_array.html"><ins>array</ins></a>[<a href="Reference-manual_elementary_str.html"><ins>str</ins></a> | <a href="Reference-manual_elementary_int.html"><ins>int</ins></a>]                                            # Specify the file mode in symbolic format
  <a href="Reference-manual_functions_vcs_tag.html#vcs_tag_install_tag"><b>install_tag</b></a>    : <a href="Reference-manual_elementary_str.html"><ins>str</ins></a>                                                         # A string used by the `meson install --tags` command
  <a href="Reference-manual_functions_vcs_tag.html#vcs_tag_output"><b>output</b></a>         : <a href="Reference-manual_elementary_str.html"><ins>str</ins></a>                                             <i>[required]</i>  # File to write the results to (e
  <a href="Reference-manual_functions_vcs_tag.html#vcs_tag_replace_string"><b>replace_string</b></a> : <a href="Reference-manual_elementary_str.html"><ins>str</ins></a>                                                         # String in the input file to substitute with the commit information
)</code></pre>
  <p style="padding: 5px; margin: 0px;"></p> <!-- A bit more space -->
<h3 id="arguments">Arguments</h3>
<p>The function <code>vcs_tag()</code>
accepts the following keyword arguments:</p>
  <!-- Hotdoc / markdown inserts <p> around the table elements. Override the margin to make them invisible -->
  <style>
    .nomargin p:last-child { margin-bottom: 0px !important; }
  </style>
  <table>
    <thead>
      <tr>
        <th style="white-space: nowrap; text-align: center;">Name</th>
        <th style="white-space: nowrap; text-align: center;">Type</th>
        <th style="width: 56%;">Description</th>
        <th style="white-space: nowrap; text-align: center; width: 0px;">Tags</th>
      </tr>
    </thead>
    <tbody class="nomargin">
      <tr id="vcs_tag_command">
        <td style="white-space: nowrap; text-align: center; padding: 6px;"><code class="language-meson">command</code></td>
        <td style="white-space: revert; text-align: center; padding: 6px; word-wrap: break-word;">
<a href="Reference-manual_elementary_array.html"><ins><code>array</code></ins></a>[<a href="Reference-manual_returned_exe.html"><ins><code>exe</code></ins></a> | <a href="Reference-manual_returned_program.html"><ins><code>program</code></ins></a> | <a href="Reference-manual_returned_custom_tgt.html"><ins><code>custom_tgt</code></ins></a> | <a href="Reference-manual_returned_file.html"><ins><code>file</code></ins></a> | <a href="Reference-manual_elementary_str.html"><ins><code>str</code></ins></a>]</td>
        <!-- This suboptimal formatting is required to ensure hotdoc correctly generates the HTML -->
        <td style="width: 56%; padding: 6px;">
<p>The command to execute, see <a href="Reference-manual_functions.html#custom_target"><ins><code>custom_target()</code></ins></a> for details
on how this command must be specified.</p>
<p>This parameter is optional. If it is absent, Meson will try
its best to find a suitable default command.</p>
<p><em>(since 0.62.0)</em> <a href="Reference-manual_returned_file.html"><ins><code>file</code></ins></a> is accepted.</p>
<p><em>(since 0.63.0)</em> <a href="Reference-manual_returned_custom_tgt.html"><ins><code>custom_tgt</code></ins></a>, <a href="Reference-manual_returned_exe.html"><ins><code>exe</code></ins></a>, and <a href="Reference-manual_returned_program.html"><ins><code>program</code></ins></a> are accepted.</p>
  </td>
        <td style="white-space: nowrap; text-align: center; padding: 6px; width: 0px;">
<div style="margin: 0px; text-align: center;">
  </div>
  </td>
      </tr>
      <tr id="vcs_tag_fallback">
        <td style="white-space: nowrap; text-align: center; padding: 6px;"><code class="language-meson">fallback</code></td>
        <td style="white-space: revert; text-align: center; padding: 6px; word-wrap: break-word;"><a href="Reference-manual_elementary_str.html"><ins><code>str</code></ins></a></td>
        <!-- This suboptimal formatting is required to ensure hotdoc correctly generates the HTML -->
        <td style="width: 56%; padding: 6px;">
<p>Version number to use when no revision control information is present,
such as when building from a release tarball.</p>
  </td>
        <td style="white-space: nowrap; text-align: center; padding: 6px; width: 0px;">
<div style="margin: 0px; text-align: center;">
  <p style="margin: 0px;"><code class="language-meson">default =
  <a href="Reference-manual_builtin_meson.html#mesonproject_version"><ins><code>meson.project_version()</code></ins></a></code></p>
  </div>
  </td>
      </tr>
      <tr id="vcs_tag_input">
        <td style="white-space: nowrap; text-align: center; padding: 6px;"><code class="language-meson">input</code></td>
        <td style="white-space: revert; text-align: center; padding: 6px; word-wrap: break-word;"><a href="Reference-manual_elementary_str.html"><ins><code>str</code></ins></a></td>
        <!-- This suboptimal formatting is required to ensure hotdoc correctly generates the HTML -->
        <td style="width: 56%; padding: 6px;">
<p>File to modify (e.g. <code>version.c.in</code>).</p>
  </td>
        <td style="white-space: nowrap; text-align: center; padding: 6px; width: 0px;">
<div style="margin: 0px; text-align: center;">
  </div>
  </td>
      </tr>
      <tr id="vcs_tag_install">
        <td style="white-space: nowrap; text-align: center; padding: 6px;"><code class="language-meson">install</code></td>
        <td style="white-space: revert; text-align: center; padding: 6px; word-wrap: break-word;"><a href="Reference-manual_elementary_bool.html"><ins><code>bool</code></ins></a></td>
        <!-- This suboptimal formatting is required to ensure hotdoc correctly generates the HTML -->
        <td style="width: 56%; padding: 6px;">
<p>When true, this generated file is installed during
the install step, and <code>install_dir</code> must be set and not empty.</p>
  </td>
        <td style="white-space: nowrap; text-align: center; padding: 6px; width: 0px;">
<div style="margin: 0px; text-align: center;">
  <p style="margin: 0px;"><em style="color: #5affff;">(since 1.7.0)</em></p>
  <p style="margin: 0px;"><code class="language-meson">default =
  false</code></p>
  </div>
  </td>
      </tr>
      <tr id="vcs_tag_install_dir">
        <td style="white-space: nowrap; text-align: center; padding: 6px;"><code class="language-meson">install_dir</code></td>
        <td style="white-space: revert; text-align: center; padding: 6px; word-wrap: break-word;"><a href="Reference-manual_elementary_str.html"><ins><code>str</code></ins></a></td>
        <!-- This suboptimal formatting is required to ensure hotdoc correctly generates the HTML -->
        <td style="width: 56%; padding: 6px;">
<p>The subdirectory to install the generated file to (e.g. <code>share/myproject</code>).</p>
  </td>
        <td style="white-space: nowrap; text-align: center; padding: 6px; width: 0px;">
<div style="margin: 0px; text-align: center;">
  <p style="margin: 0px;"><em style="color: #5affff;">(since 1.7.0)</em></p>
  </div>
  </td>
      </tr>
      <tr id="vcs_tag_install_mode">
        <td style="white-space: nowrap; text-align: center; padding: 6px;"><code class="language-meson">install_mode</code></td>
        <td style="white-space: revert; text-align: center; padding: 6px; word-wrap: break-word;">
<a href="Reference-manual_elementary_array.html"><ins><code>array</code></ins></a>[<a href="Reference-manual_elementary_str.html"><ins><code>str</code></ins></a> | <a href="Reference-manual_elementary_int.html"><ins><code>int</code></ins></a>]</td>
        <!-- This suboptimal formatting is required to ensure hotdoc correctly generates the HTML -->
        <td style="width: 56%; padding: 6px;">
<p>Specify the file mode in symbolic format
and optionally the owner/uid and group/gid for the installed files.</p>
<p>See the <code>install_mode</code> kwarg of <a href="Reference-manual_functions.html#install_data"><ins><code>install_data()</code></ins></a> for more information.</p>
  </td>
        <td style="white-space: nowrap; text-align: center; padding: 6px; width: 0px;">
<div style="margin: 0px; text-align: center;">
  <p style="margin: 0px;"><em style="color: #5affff;">(since 1.7.0)</em></p>
  </div>
  </td>
      </tr>
      <tr id="vcs_tag_install_tag">
        <td style="white-space: nowrap; text-align: center; padding: 6px;"><code class="language-meson">install_tag</code></td>
        <td style="white-space: revert; text-align: center; padding: 6px; word-wrap: break-word;"><a href="Reference-manual_elementary_str.html"><ins><code>str</code></ins></a></td>
        <!-- This suboptimal formatting is required to ensure hotdoc correctly generates the HTML -->
        <td style="width: 56%; padding: 6px;">
<p>A string used by the <code>meson install --tags</code> command
to install only a subset of the files. By default the file has no install
tag which means it is not being installed when <code>--tags</code> argument is specified.</p>
  </td>
        <td style="white-space: nowrap; text-align: center; padding: 6px; width: 0px;">
<div style="margin: 0px; text-align: center;">
  <p style="margin: 0px;"><em style="color: #5affff;">(since 1.7.0)</em></p>
  </div>
  </td>
      </tr>
      <tr id="vcs_tag_output">
        <td style="white-space: nowrap; text-align: center; padding: 6px;"><code class="language-meson">output</code></td>
        <td style="white-space: revert; text-align: center; padding: 6px; word-wrap: break-word;"><a href="Reference-manual_elementary_str.html"><ins><code>str</code></ins></a></td>
        <!-- This suboptimal formatting is required to ensure hotdoc correctly generates the HTML -->
        <td style="width: 56%; padding: 6px;">
<p>File to write the results to (e.g. <code>version.c</code>).</p>
  </td>
        <td style="white-space: nowrap; text-align: center; padding: 6px; width: 0px;">
<div style="margin: 0px; text-align: center;">
  </div>
  </td>
      </tr>
      <tr id="vcs_tag_replace_string">
        <td style="white-space: nowrap; text-align: center; padding: 6px;"><code class="language-meson">replace_string</code></td>
        <td style="white-space: revert; text-align: center; padding: 6px; word-wrap: break-word;"><a href="Reference-manual_elementary_str.html"><ins><code>str</code></ins></a></td>
        <!-- This suboptimal formatting is required to ensure hotdoc correctly generates the HTML -->
        <td style="width: 56%; padding: 6px;">
<p>String in the input file to substitute with the commit information.</p>
  </td>
        <td style="white-space: nowrap; text-align: center; padding: 6px; width: 0px;">
<div style="margin: 0px; text-align: center;">
  <p style="margin: 0px;"><code class="language-meson">default =
  '@VCS_TAG@'</code></p>
  </div>
  </td>
      </tr>
    </tbody>
  </table>

    </div>
        




		
	</div>
	<div id="search_results">
		<p>The results of the search are</p>
	</div>
	<div id="footer">
		    
        
<hr>

<div class="license-description">
    Website licensing information are available on the <a href="legal.html">Legal</a> page.
</div>


	</div>
</div>

<div id="toc-column">
	
		<div class="edit-button">
		<a href="https://github.com/mesonbuild/meson/edit/master/docs/_build/Reference-manual_functions_vcs_tag.md" data-hotdoc-role="edit-button">Edit on GitHub</a>

	</div>
		<div id="toc-wrapper">
		<nav id="toc"></nav>
	</div>
</div>
</div>
</main>


<script src="assets/js/navbar_offset_scroller.js"></script>
</body>
</html>
