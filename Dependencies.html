<html lang="en">
<head>

<base href=".">

<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">


<title>Dependencies</title>

<link rel="stylesheet" href="assets/css/custom_bootstrap.css" type="text/css">
<link rel="stylesheet" href="assets/css/frontend.css" type="text/css">
<link rel="stylesheet" href="assets/css/jquery.mCustomScrollbar.min.css">

<link rel="stylesheet" href="assets/css/prism.css" type="text/css">

<script src="assets/js/mustache.min.js"></script>
<script src="assets/js/jquery.js"></script>
<script src="assets/js/bootstrap.js"></script>
<script src="assets/js/typeahead.jquery.min.js"></script>
<script src="assets/js/search.js"></script>
<script src="assets/js/isotope.pkgd.min.js"></script>
<script src="assets/js/compare-versions.js"></script>
<script src="assets/js/jquery.mCustomScrollbar.concat.min.js"></script>
<script src="assets/js/bootstrap-toc.min.js"></script>
<script src="assets/js/jquery.touchSwipe.min.js"></script>
<script src="assets/js/anchor.min.js"></script>
<script src="assets/js/tag_filtering.js"></script>
<script src="assets/js/language_switching.js"></script>

<script src="assets/js/lines_around_headings.js"></script>

<script src="assets/js/trie.js"></script>
<script src="assets/js/prism-core.js"></script>
<script src="assets/js/prism-autoloader.js"></script>
<script src="assets/js/prism_autoloader_path_override.js"></script>

<title>The MesonÂ® Build System</title>
<link rel="icon" type="image/png" href="assets/images/favicon.png">
<link rel="shortcut icon" href="assets/images/favicon.png">

</head>

<body class="no-script
" data-spy="scroll" data-target="#toc" data-offset="70">

<script>
$('body').removeClass('no-script');
</script>

<nav class="navbar navbar-fixed-top navbar-default" id="topnav">
	<div class="container-fluid">
		<div class="navbar-right">
			<a id="toc-toggle">
				<span class="glyphicon glyphicon-menu-right"></span>
				<span class="glyphicon glyphicon-menu-left"></span>
			</a>
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-wrapper" aria-expanded="false">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<form action="" class="navbar-form pull-right" id="navbar-search-form">
                               <div class="form-group has-feedback">
                                       <input type="text" class="form-control input-sm" name="search" id="sidenav-lookup-field" placeholder="search" disabled>
				       <span class="glyphicon glyphicon-search form-control-feedback" id="search-mgn-glass"></span>
                               </div>
                        </form>
		</div>
		<div class="navbar-header">
			<a id="sidenav-toggle">
				<span class="glyphicon glyphicon-menu-right"></span>
				<span class="glyphicon glyphicon-menu-left"></span>
			</a>
			<a id="home-link" href="index.html" class="hotdoc-navbar-brand">
				<img src="assets/images/meson_logo.png" alt="Home" id="home">
			</a>
		</div>
		<div class="navbar-collapse collapse" id="navbar-wrapper">
			<ul class="nav navbar-nav" id="menu">
				
<li class="dropdown">
	<a class="dropdown-toggle" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
		Modules <span class="caret"></span>
	</a>
	<ul class="dropdown-menu" id="modules-menu">
					<li>
				<a href="Gnome-module.html">GNOME</a>
			</li>
					<li>
				<a href="i18n-module.html">i18n</a>
			</li>
					<li>
				<a href="Pkgconfig-module.html">Pkgconfig</a>
			</li>
					<li>
				<a href="Python-3-module.html">Python 3</a>
			</li>
					<li>
				<a href="Qt4-module.html">Qt4</a>
			</li>
					<li>
				<a href="Qt5-module.html">Qt5</a>
			</li>
					<li>
				<a href="RPM-module.html">RPM</a>
			</li>
					<li>
				<a href="Windows-module.html">Windows</a>
			</li>
			</ul>
</li>
<li class="dropdown">
	<a class="dropdown-toggle" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
		Quick References <span class="caret"></span>
	</a>
	<ul class="dropdown-menu" id="quick-refs-menu">
					<li>
				<a href="Reference-manual.html">Functions</a>
			</li>
					<li>
				<a href="Build-options.html">Options</a>
			</li>
					<li>
				<a href="Configuration.html">Configuration</a>
			</li>
					<li>
				<a href="Dependencies.html">Dependencies</a>
			</li>
					<li>
				<a href="Unit-tests.html">Tests</a>
			</li>
					<li>
				<a href="Syntax.html">Syntax</a>
			</li>
			</ul>
</li>
			</ul>
			<div class="hidden-xs hidden-sm navbar-text navbar-center">
				<p><b>The Meson Build System</b></p>
			</div>
		</div>
	</div>
</nav>

<main>
<div data-extension="core" data-hotdoc-in-toplevel="True" data-hotdoc-project="Meson-documentation-1.0" data-hotdoc-ref="Dependencies.html" class="page_container" id="page-wrapper">
<script src="assets/js/utils.js"></script>

<div class="panel panel-collapse oc-collapsed" id="sidenav" data-hotdoc-role="navigation">
	<script src="assets/js/navigation.js"></script>
	<script src="assets/js/sitemap.js"></script>
</div>

<div id="body">
	<div id="main">
				
<div id="page-description" data-hotdoc-source="Dependencies.md" data-hotdoc-role="main">
<h1 id="dependencies">Dependencies</h1>
<p>Very few applications are fully self-contained, but rather they use external libraries and frameworks to do their work. Meson makes it very easy to find and use external dependencies. Here is how one would use the zlib compression library.</p>
<pre><code class="language-meson">zdep = dependency('zlib', version : '&gt;=1.2.8')
exe = executable('zlibprog', 'prog.c', dependencies : zdep)
</code></pre>
<p>First Meson is told to find the external library <code>zlib</code> and error out if it is not found. The <code>version</code> keyword is optional and specifies a version requirement for the dependency. Then an executable is built using the specified dependency. Note how the user does not need to manually handle compiler or linker flags or deal with any other minutiae.</p>
<p>If you have multiple dependencies, pass them as an array:</p>
<pre><code class="language-meson">executable('manydeps', 'file.c', dependencies : [dep1, dep2, dep3, dep4])
</code></pre>
<p>If the dependency is optional, you can tell Meson not to error out if the dependency is not found and then do further configuration.</p>
<pre><code class="language-meson">opt_dep = dependency('somedep', required : false)
if opt_dep.found()
  # Do something.
else
  # Do something else.
endif
</code></pre>
<p>You can pass the <code>opt_dep</code> variable to target construction functions whether the actual dependency was found or not. Meson will ignore non-found dependencies.</p>
<p>The dependency detector works with all libraries that provide a <code>pkg-config</code> file. Unfortunately several packages don't provide pkg-config files. Meson has autodetection support for some of these.</p>
<h2 id="boost">Boost</h2>
<p>Boost is not a single dependency but rather a group of different libraries. To use Boost with Meson, simply list which Boost modules you would like to use.</p>
<pre><code class="language-meson">boost_dep = dependency('boost', modules : ['thread', 'utility'])
exe = executable('myprog', 'file.cc', dependencies : boost_dep)
</code></pre>
<p>You can call <code>dependency</code> multiple times with different modules and use those to link against your targets.</p>
<p>If your boost headers or libraries are in non-standard locations you can set the BOOST_ROOT, BOOST_INCLUDEDIR, and/or BOOST_LIBRARYDIR environment variables.</p>
<h2 id="gtest-and-gmock">GTest and GMock</h2>
<p>GTest and GMock come as sources that must be compiled as part of your project. With Meson you don't have to care about the details, just pass <code>gtest</code> or <code>gmock</code> to <code>dependency</code> and it will do everything for you. If you want to use GMock, it is recommended to use GTest as well, as getting it to work standalone is tricky.</p>
<h2 id="mpi">MPI</h2>
<p>MPI is supported for C, C++ and Fortran. Because dependencies are
language-specific, you must specify the requested language using the
<code>language</code> keyword argument, i.e.,</p>
<ul>
<li>
<code>dependency('mpi', language='c')</code> for the C MPI headers and libraries</li>
<li>
<code>dependency('mpi', language='cpp')</code> for the C++ MPI headers and libraries</li>
<li>
<code>dependency('mpi', language='fortran')</code> for the Fortran MPI headers and libraries</li>
</ul>
<p>Meson prefers pkg-config for MPI, but if your MPI implementation does not
provide them, it will search for the standard wrapper executables, <code>mpic</code>,
<code>mpicxx</code>, <code>mpic++</code>, <code>mpifort</code>, <code>mpif90</code>, <code>mpif77</code>. If these are not in your
path, they can be specified by setting the standard environment variables
<code>MPICC</code>, <code>MPICXX</code>, <code>MPIFC</code>, <code>MPIF90</code>, or <code>MPIF77</code>, during configuration.</p>
<h2 id="qt5">Qt5</h2>
<p>Meson has native Qt5 support. Its usage is best demonstrated with an example.</p>
<pre><code class="language-meson">qt5_mod = import('qt5')
qt5widgets = dependency('qt5', modules : 'Widgets')

processed = qt5_mod.preprocess(
  moc_headers : 'mainWindow.h',   # Only headers that need moc should be put here
  moc_sources : 'helperFile.cpp', # must have #include"moc_helperFile.cpp"
  ui_files    : 'mainWindow.ui',
  qresources  : 'resources.qrc',
)

q5exe = executable('qt5test',
  sources     : ['main.cpp',
                 'mainWindow.cpp',
                 processed],
  dependencies: qt5widgets)
</code></pre>
<p>Here we have an UI file created with Qt Designer and one source and header file each that require preprocessing with the <code>moc</code> tool. We also define a resource file to be compiled with <code>rcc</code>. We just have to tell Meson which files are which and it will take care of invoking all the necessary tools in the correct order, which is done with the <code>preprocess</code> method of the <code>qt5</code> module. Its output is simply put in the list of sources for the target. The <code>modules</code> keyword of <code>dependency</code> works just like it does with Boost. It tells which subparts of Qt the program uses.</p>
<h2 id="pcap">Pcap</h2>
<p>The pcap library does not ship with pkg-config at the time or writing
but instead it has its own <code>pcap-config</code> util. Meson will use it
automatically:</p>
<pre><code class="language-meson">pcap_dep = dependency('pcap', version : '&gt;=1.0')
</code></pre>
<h2 id="declaring-your-own">Declaring your own</h2>
<p>You can declare your own dependency objects that can be used interchangeably with dependency objects obtained from the system. The syntax is straightforward:</p>
<pre><code class="language-meson">my_inc = include_directories(...)
my_lib = static_library(...)
my_dep = declare_dependency(link_with : my_lib,
  include_directories : my_inc)
</code></pre>
<p>This declares a dependency that adds the given include directories and static library to any target you use it in.</p>

</div>


		
	</div>
	<div id="search_results">
		<p>The results of the search are</p>
	</div>
	<div id="footer">
		

<hr>

<div class="license-description">
    Website licensing information are available on the <a href="legal.html">Legal</a> page.
</div>


	</div>
</div>

<div id="toc-column">
	
		<div class="edit-button">
		<a href="https://github.com/mesonbuild/meson//edit/master/docs/markdown/Dependencies.md" data-hotdoc-role="edit-button">Edit on github</a>

	</div>
		<div id="toc-wrapper">
		<nav id="toc"></nav>
	</div>
</div>
</div>
</main>

</body>

<script src="assets/js/navbar_offset_scroller.js"></script>
</html>
