fragment_downloaded_cb({"url":"FAQ.html#i-have-proprietary-compiler-toolchain-x-that-does-not-work-with-meson-how-can-i-make-it-work","fragment":"I have proprietary compiler toolchain X that does not work with Meson, how can I make it work?\nMeson needs to know several details about each compiler in order to\ncompile code with it. These include things such as which compiler\nflags to use for each option and how to detect the compiler from its\noutput. This information can not be input via a configuration file,\ninstead it requires changes to Meson's source code that need to be\nsubmitted to Meson master repository. In theory you can run your own\nforked version with custom patches, but that's not good use of your\ntime. Please submit the code upstream so everyone can use the\ntoolchain.\nThe steps for adding a new compiler for an existing language are\nroughly the following. For simplicity we're going to assume a C\ncompiler.\nCreate a new class with a proper name in\nmesonbuild/compilers/c.py. Look at the methods that other\ncompilers for the same language have and duplicate what they do.\nIf the compiler can only be used for cross compilation, make sure to\nflag it as such (see existing compiler classes for examples).\nAdd detection logic to mesonbuild/environment.py, look for a\nmethod called detect_c_compiler.\nRun the test suite and fix issues until the tests pass.\nSubmit a pull request, add the result of the test suite to your MR\n(linking an existing page is fine).\nIf the compiler is freely available, consider adding it to the CI\nsystem.\n\n\nCreate a new class with a proper name in\nmesonbuild/compilers/c.py. Look at the methods that other\ncompilers for the same language have and duplicate what they do.\n\n\nIf the compiler can only be used for cross compilation, make sure to\nflag it as such (see existing compiler classes for examples).\n\n\nAdd detection logic to mesonbuild/environment.py, look for a\nmethod called detect_c_compiler.\n\n\nRun the test suite and fix issues until the tests pass.\n\n\nSubmit a pull request, add the result of the test suite to your MR\n(linking an existing page is fine).\n\n\nIf the compiler is freely available, consider adding it to the CI\nsystem.\n\n\n"});