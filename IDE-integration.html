<!DOCTYPE html>
<html lang="en">
<head>

<base href=".">

<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">


<title>IDE integration</title>

<link rel="stylesheet" href="assets/css/custom_bootstrap.css" type="text/css">
<link rel="stylesheet" href="assets/css/bootstrap-toc.min.css" type="text/css">
<link rel="stylesheet" href="assets/css/frontend.css" type="text/css">
<link rel="stylesheet" href="assets/css/jquery.mCustomScrollbar.min.css">

<link rel="stylesheet" href="assets/css/prism-tomorrow.css" type="text/css">

<script src="assets/js/mustache.min.js"></script>
<script src="assets/js/jquery.js"></script>
<script src="assets/js/scrollspy.js"></script>
<script src="assets/js/bootstrap.js"></script>
<script src="assets/js/typeahead.jquery.min.js"></script>
<script src="assets/js/search.js"></script>
<script src="assets/js/isotope.pkgd.min.js"></script>
<script src="assets/js/compare-versions.js"></script>
<script src="assets/js/jquery.mCustomScrollbar.concat.min.js"></script>
<script src="assets/js/bootstrap-toc.min.js"></script>
<script src="assets/js/jquery.touchSwipe.min.js"></script>
<script src="assets/js/anchor.min.js"></script>
<script src="assets/js/tag_filtering.js"></script>
<script src="assets/js/language_switching.js"></script>

<script src="assets/js/lines_around_headings.js"></script>

<script src="assets/js/trie.js"></script>
<script src="assets/js/prism-core.js"></script>
<script src="assets/js/prism-autoloader.js"></script>
<script src="assets/js/prism_autoloader_path_override.js"></script>

<link rel="icon" type="image/png" href="assets/images/favicon.png">
<link rel="shortcut icon" href="assets/images/favicon.png">

</head>

<body class="no-script
" data-spy="scroll" data-target="#toc" data-offset="70">

<script>
$('body').removeClass('no-script');
</script>

<nav class="navbar navbar-fixed-top navbar-default" id="topnav">
	<div class="container-fluid">
		<div class="navbar-right">
			<a id="toc-toggle">
				<span class="glyphicon glyphicon-menu-right"></span>
				<span class="glyphicon glyphicon-menu-left"></span>
			</a>
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-wrapper" aria-expanded="false">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<form class="navbar-form pull-right" id="navbar-search-form">
                               <div class="form-group has-feedback">
                                       <input type="text" class="form-control input-sm" name="search" id="sidenav-lookup-field" placeholder="search" disabled>
				       <span class="glyphicon glyphicon-search form-control-feedback" id="search-mgn-glass"></span>
                               </div>
                        </form>
		</div>
		<div class="navbar-header">
			<a id="sidenav-toggle">
				<span class="glyphicon glyphicon-menu-right"></span>
				<span class="glyphicon glyphicon-menu-left"></span>
			</a>
			<a id="home-link" href="index.html" class="hotdoc-navbar-brand">
				<img src="assets/images/meson_logo.png" alt="Home">
			</a>
		</div>
		<div class="navbar-collapse collapse" id="navbar-wrapper">
			<ul class="nav navbar-nav" id="menu">
				
<li class="dropdown">
  <a class="dropdown-toggle" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    Modules <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" id="modules-menu">
			<li>
				<a href="CMake-module.html">CMake</a>
			</li>
					<li>
				<a href="Cuda-module.html">CUDA</a>
			</li>
					<li>
				<a href="Dlang-module.html">Dlang</a>
			</li>
					<li>
				<a href="Fs-module.html">Filesystem</a>
			</li>
					<li>
				<a href="Gnome-module.html">GNOME</a>
			</li>
					<li>
				<a href="Hotdoc-module.html">Hotdoc</a>
			</li>
					<li>
				<a href="i18n-module.html">i18n</a>
			</li>
					<li>
				<a href="Icestorm-module.html">Icestorm</a>
			</li>
					<li>
				<a href="Keyval-module.html">Keyval</a>
			</li>
					<li>
				<a href="Pkgconfig-module.html">Pkgconfig</a>
			</li>
					<li>
				<a href="Python-module.html">Python</a>
			</li>
					<li>
				<a href="Python-3-module.html">Python 3</a>
			</li>
					<li>
				<a href="Qt4-module.html">Qt4</a>
			</li>
					<li>
				<a href="Qt5-module.html">Qt5</a>
			</li>
					<li>
				<a href="RPM-module.html">RPM</a>
			</li>
					<li>
				<a href="SourceSet-module.html">SourceSet</a>
			</li>
					<li>
				<a href="Windows-module.html">Windows</a>
			</li>
			</ul>
</li>
<li class="dropdown">
	<a class="dropdown-toggle" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
		Quick References <span class="caret"></span>
	</a>
	<ul class="dropdown-menu" id="quick-refs-menu">
					<li>
				<a href="Reference-manual.html">Functions</a>
			</li>
					<li>
				<a href="Build-options.html">Options</a>
			</li>
					<li>
				<a href="Configuration.html">Configuration</a>
			</li>
					<li>
				<a href="Dependencies.html">Dependencies</a>
			</li>
					<li>
				<a href="Unit-tests.html">Tests</a>
			</li>
					<li>
				<a href="Syntax.html">Syntax</a>
			</li>
			</ul>
</li>
			</ul>
			<div class="hidden-xs hidden-sm navbar-text navbar-center">
				<p><b>The Meson Build System</b></p>
			</div>
		</div>
	</div>
</nav>

<main>
<div data-extension="core" data-hotdoc-in-toplevel="True" data-hotdoc-project="Meson-documentation" data-hotdoc-ref="IDE-integration.html" class="page_container" id="page-wrapper">
<script src="assets/js/utils.js"></script>

<div class="panel panel-collapse oc-collapsed" id="sidenav" data-hotdoc-role="navigation">
	<script src="assets/js/navigation.js"></script>
	<script src="assets/js/sitemap.js"></script>
</div>

<div id="body">
	<div id="main">
				    <div id="page-description" data-hotdoc-role="main">
        <h1 id="ide-integration">IDE integration</h1>
<p>Meson has exporters for Visual Studio and XCode, but writing a custom backend
for every IDE out there is not a scalable approach. To solve this problem,
Meson provides an API that makes it easy for any IDE or build tools to
integrate Meson builds and provide an experience comparable to a solution
native to the IDE.</p>
<p>All the resources required for such a IDE integration can be found in
the <code>meson-info</code> directory in the build directory.</p>
<p>The first thing to do when setting up a Meson project in an IDE is to select
the source and build directories. For this example we assume that the source
resides in an Eclipse-like directory called <code>workspace/project</code> and the build
tree is nested inside it as <code>workspace/project/build</code>. First, we initialize
Meson by running the following command in the source directory.</p>
<pre><code>meson builddir
</code></pre>
<p>With this command meson will configure the project and also generate
introspection information that is stored in <code>intro-*.json</code> files in the
<code>meson-info</code> directory. The introspection dump will be automatically updated
when meson is (re)configured, or the build options change. Thus, an IDE can
watch for changes in this directory to know when something changed.</p>
<p>The <code>meson-info</code> directory should contain the following files:</p>
<table>
<thead>
<tr>
<th> File</th>
<th> Description</th>
</tr>
</thead>
<tbody>
<tr>
<td> <code>intro-benchmarks.json</code>
</td>
<td> Lists all benchmarks</td>
</tr>
<tr>
<td> <code>intro-buildoptions.json</code>
</td>
<td> Contains a full list of meson configuration options for the project</td>
</tr>
<tr>
<td> <code>intro-buildsystem_files.json</code>
</td>
<td> Full list of all meson build files</td>
</tr>
<tr>
<td> <code>intro-dependencies.json</code>
</td>
<td> Lists all dependencies used in the project</td>
</tr>
<tr>
<td> <code>intro-installed.json</code>
</td>
<td> Contains mapping of files to their installed location</td>
</tr>
<tr>
<td> <code>intro-projectinfo.json</code>
</td>
<td> Stores basic information about the project (name, version, etc.)</td>
</tr>
<tr>
<td> <code>intro-targets.json</code>
</td>
<td> Full list of all build targets</td>
</tr>
<tr>
<td> <code>intro-tests.json</code>
</td>
<td> Lists all tests with instructions how to run them</td>
</tr>
</tbody>
</table>
<p>The content of the JSON files is further specified in the remainder of this document.</p>
<h2 id="the-targets-section">The <code>targets</code> section</h2>
<p>The most important file for an IDE is probably <code>intro-targets.json</code>. Here each
target with its sources and compiler parameters is specified. The JSON format
for one target is defined as follows:</p>
<pre><code class="language-json">{
    "name": "Name of the target",
    "id": "The internal ID meson uses",
    "type": "&lt;TYPE&gt;",
    "defined_in": "/Path/to/the/targets/meson.build",
    "subproject": null,
    "filename": ["list", "of", "generated", "files"],
    "build_by_default": true / false,
    "target_sources": [],
    "installed": true / false,
}
</code></pre>
<p>If the key <code>installed</code> is set to <code>true</code>, the key <code>install_filename</code> will also
be present. It stores the installation location for each file in <code>filename</code>.
If one file in <code>filename</code> is not installed, its corresponding install location
is set to <code>null</code>.</p>
<p>The <code>subproject</code> key specifies the name of the subproject this target was
defined in, or <code>null</code> if the target was defined in the top level project.</p>
<p>A target usually generates only one file. However, it is possible for custom
targets to have multiple outputs.</p>
<h3 id="target-sources">Target sources</h3>
<p>The <code>intro-targets.json</code> file also stores a list of all source objects of the
target in the <code>target_sources</code>. With this information, an IDE can provide code
completion for all source files.</p>
<pre><code class="language-json">{
    "language": "language ID",
    "compiler": ["The", "compiler", "command"],
    "parameters": ["list", "of", "compiler", "parameters"],
    "sources": ["list", "of", "all", "source", "files", "for", "this", "language"],
    "generated_sources": ["list", "of", "all", "source", "files", "that", "where", "generated", "somewhere", "else"]
}
</code></pre>
<p>It should be noted that the compiler parameters stored in the <code>parameters</code>
differ from the actual parameters used to compile the file. This is because
the parameters are optimized for the usage in an IDE to provide autocompletion
support, etc. It is thus not recommended to use this introspection information
for actual compilation.</p>
<h3 id="possible-values-for-type">Possible values for <code>type</code>
</h3>
<p>The following table shows all valid types for a target.</p>
<table>
<thead>
<tr>
<th> value of <code>type</code>
</th>
<th> Description</th>
</tr>
</thead>
<tbody>
<tr>
<td> <code>executable</code>
</td>
<td> This target will generate an executable file</td>
</tr>
<tr>
<td> <code>static library</code>
</td>
<td> Target for a static library</td>
</tr>
<tr>
<td> <code>shared library</code>
</td>
<td> Target for a shared library</td>
</tr>
<tr>
<td> <code>shared module</code>
</td>
<td> A shared library that is meant to be used with dlopen rather than linking into something else</td>
</tr>
<tr>
<td> <code>custom</code>
</td>
<td> A custom target</td>
</tr>
<tr>
<td> <code>run</code>
</td>
<td> A Meson run target</td>
</tr>
<tr>
<td> <code>jar</code>
</td>
<td> A Java JAR target</td>
</tr>
</tbody>
</table>
<h3 id="using-targets-without-a-build-directory">Using <code>--targets</code> without a build directory</h3>
<p>It is also possible to get most targets without a build directory. This can be
done by running <code>meson introspect --targets /path/to/meson.build</code>.</p>
<p>The generated output is similar to running the introspection with a build
directory or reading the <code>intro-targets.json</code>. However, there are some key
differences:</p>
<ul>
<li>The paths in <code>filename</code> now are <em>relative</em> to the future build directory</li>
<li>The <code>install_filename</code> key is completely missing</li>
<li>There is only one entry in <code>target_sources</code>:
<ul>
<li>With the language set to <code>unknown</code>
</li>
<li>Empty lists for <code>compiler</code> and <code>parameters</code> and <code>generated_sources</code>
</li>
<li>The <code>sources</code> list <em>should</em> contain all sources of the target</li>
</ul>
</li>
</ul>
<p>There is no guarantee that the sources list in <code>target_sources</code> is correct.
There might be differences, due to internal limitations. It is also not
guaranteed that all targets will be listed in the output. It might even be
possible that targets are listed, which won't exist when meson is run normally.
This can happen if a target is defined inside an if statement.
Use this feature with care.</p>
<h2 id="build-options">Build Options</h2>
<p>The list of all build options (build type, warning level, etc.) is stored in
the <code>intro-buildoptions.json</code> file. Here is the JSON format for each option.</p>
<pre><code class="language-json">{
    "name": "name of the option",
    "description": "the description",
    "type": "type ID",
    "value": "value depends on type",
    "section": "section ID",
    "machine": "machine ID"
}
</code></pre>
<p>The supported types are:</p>
<ul>
<li>string</li>
<li>boolean</li>
<li>combo</li>
<li>integer</li>
<li>array</li>
</ul>
<p>For the type <code>combo</code> the key <code>choices</code> is also present. Here all valid values
for the option are stored.</p>
<p>The possible values for <code>section</code> are:</p>
<ul>
<li>core</li>
<li>backend</li>
<li>base</li>
<li>compiler</li>
<li>directory</li>
<li>user</li>
<li>test</li>
</ul>
<p>The <code>machine</code> key specifies the machine configuration for the option. Possible
values are:</p>
<ul>
<li>any</li>
<li>host</li>
<li>build</li>
</ul>
<p>To set the options, use the <code>meson configure</code> command.</p>
<p>Since Meson 0.50.0 it is also possible to get the default buildoptions
without a build directory by providing the root <code>meson.build</code> instead of a
build directory to <code>meson introspect --buildoptions</code>.</p>
<p>Running <code>--buildoptions</code> without a build directory produces the same output as
running it with a freshly configured build directory.</p>
<p>However, this behavior is not guaranteed if subprojects are present. Due to
internal limitations all subprojects are processed even if they are never used
in a real meson run. Because of this options for the subprojects can differ.</p>
<h2 id="the-dependencies-section">The dependencies section</h2>
<p>The list of all <em>found</em> dependencies can be acquired from
<code>intro-dependencies.json</code>. Here, the name, version, compiler and linker
arguments for a dependency are listed.</p>
<h3 id="scanning-for-dependecie-with-scandependencies">Scanning for dependecie with <code>--scan-dependencies</code>
</h3>
<p>It is also possible to get most dependencies used without a build directory.
This can be done by running <code>meson introspect --scan-dependencies /path/to/meson.build</code>.</p>
<p>The output format is as follows:</p>
<pre><code class="language-json">[
  {
    "name": "The name of the dependency",
    "required": true,
    "version": ["&gt;=1.2.3"],
    "conditional": false,
    "has_fallback": false
  }
]
</code></pre>
<p>The <code>required</code> keyword specifies whether the dependency is marked as required
in the <code>meson.build</code> (all dependencies are required by default). The
<code>conditional</code> key indicates whether the <code>dependency()</code> function was called
inside a conditional block. In a real meson run these dependencies might not be
used, thus they <em>may</em> not be required, even if the <code>required</code> key is set. The
<code>has_fallback</code> key just indicates whether a fallback was directly set in the
<code>dependency()</code> function. The <code>version</code> key always contains a list of version
requirements from the <code>meson.build</code> and <strong>not</strong> the actual version of the
dependency on disc. The version list is empty if no version was specified
in the <code>meson.build</code>.</p>
<h2 id="tests">Tests</h2>
<p>Compilation and unit tests are done as usual by running the <code>ninja</code> and
<code>ninja test</code> commands. A JSON formatted result log can be found in
<code>workspace/project/builddir/meson-logs/testlog.json</code>.</p>
<p>When these tests fail, the user probably wants to run the failing test in a
debugger. To make this as integrated as possible, extract the tests from the
<code>intro-tests.json</code> and <code>intro-benchmarks.json</code> files. This provides you with
all the information needed to run the test: what command to execute, command
line arguments, environment variable settings and how to process the output.</p>
<pre><code class="language-json">{
    "name": "name of the test",
    "workdir": "the working directory (can be null)",
    "timeout": "the test timeout",
    "suite": ["list", "of", "test", "suites"],
    "is_parallel": true / false,
    "protocol": "exitcode" / "tap",
    "cmd": ["command", "to", "run"],
    "env": {
        "VARIABLE1": "value 1",
        "VARIABLE2": "value 2"
    }
}
</code></pre>
<h2 id="build-system-files">Build system files</h2>
<p>It is also possible to get Meson build files used in your current project. This
can be done by running <code>meson introspect --buildsystem-files /path/to/builddir</code>.</p>
<p>The output format is as follows:</p>
<pre><code class="language-json">[
    "/Path/to/the/targets/meson.build",
    "/Path/to/the/targets/meson_options.txt",
    "/Path/to/the/targets/subdir/meson.build"
]
</code></pre>
<h1 id="programmatic-interface">Programmatic interface</h1>
<p>Meson also provides the <code>meson introspect</code> for project introspection via the
command line. Use <code>meson introspect -h</code> to see all available options.</p>
<p>This API can also work without a build directory for the <code>--projectinfo</code> command.</p>
<h1 id="existing-integrations">Existing integrations</h1>
<ul>
<li><a href="https://wiki.gnome.org/Apps/Builder">Gnome Builder</a></li>
<li><a href="https://www.kdevelop.org">KDevelop</a></li>
<li>
<a href="https://www.eclipse.org/cdt/">Eclipse CDT</a> (experimental)</li>
<li>
<a href="https://github.com/prozum/meson-cmake-wrapper">Meson Cmake Wrapper</a> (for cmake IDEs) (currently unmaintained !!)</li>
<li>
<a href="https://github.com/michaelbadcrumble/meson-ui">Meson-UI</a> (Meson build GUI)</li>
<li>
<a href="https://plugins.jetbrains.com/plugin/13269-meson-syntax-highlighter">Meson Syntax Highlighter</a> plugin for JetBrains IDEs.</li>
</ul>

    </div>
        




		
	</div>
	<div id="search_results">
		<p>The results of the search are</p>
	</div>
	<div id="footer">
		    
        
<hr>

<div class="license-description">
    Website licensing information are available on the <a href="legal.html">Legal</a> page.
</div>


	</div>
</div>

<div id="toc-column">
	
		<div class="edit-button">
		<a href="https://github.com/mesonbuild/meson//edit/master/docs/markdown/IDE-integration.md" data-hotdoc-role="edit-button">Edit on github</a>

	</div>
		<div id="toc-wrapper">
		<nav id="toc"></nav>
	</div>
</div>
</div>
</main>


<script src="assets/js/navbar_offset_scroller.js"></script>
</body>
</html>
