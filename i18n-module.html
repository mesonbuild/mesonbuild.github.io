<!DOCTYPE html>
<html lang="en">
<head>

<base href=".">

<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">


<title>I18n module</title>

<link rel="stylesheet" href="assets/css/dark-frontend.css" type="text/css" title="dark">
<link rel="alternate stylesheet" href="assets/css/light-frontend.css" type="text/css" title="light">
<link rel="stylesheet" href="assets/css/bootstrap-toc.min.css" type="text/css">
<link rel="stylesheet" href="assets/css/jquery.mCustomScrollbar.min.css">
<link rel="stylesheet" href="assets/js/search/enable_search.css" type="text/css">

<link rel="stylesheet" href="assets/css/notes.css" type="text/css">
<link rel="stylesheet" href="assets/css/devhelp.css" type="text/css">

<link rel="stylesheet" href="assets/css/prism-tomorrow.css" type="text/css" title="dark">

<link rel="alternate stylesheet" href="assets/css/prism.css" type="text/css" title="light">

<script src="assets/js/mustache.min.js"></script>
<script src="assets/js/jquery.js"></script>
<script src="assets/js/bootstrap.js"></script>
<script src="assets/js/scrollspy.js"></script>
<script src="assets/js/typeahead.jquery.min.js"></script>
<script src="assets/js/search.js"></script>
<script src="assets/js/compare-versions.js"></script>
<script src="assets/js/jquery.mCustomScrollbar.concat.min.js"></script>
<script src="assets/js/bootstrap-toc.min.js"></script>
<script src="assets/js/jquery.touchSwipe.min.js"></script>
<script src="assets/js/anchor.min.js"></script>
<script src="assets/js/tag_filtering.js"></script>
<script src="assets/js/language_switching.js"></script>
<script src="assets/js/styleswitcher.js"></script>

<script src="assets/js/lines_around_headings.js"></script>

<script src="assets/js/prism-core.js"></script>
<script src="assets/js/prism-autoloader.js"></script>
<script src="assets/js/prism_autoloader_path_override.js"></script>
<script src="assets/js/prism-keep-markup.js"></script>
<script src="assets/js/trie.js"></script>

<link rel="icon" type="image/png" href="assets/images/favicon.png">
<link rel="shortcut icon" href="assets/images/favicon.png">

</head>

<body class="no-script
">

<script>
$('body').removeClass('no-script');
</script>

<nav class="navbar navbar-fixed-top navbar-default" id="topnav">
	<div class="container-fluid">
		<div class="navbar-right">
			<a id="toc-toggle">
				<span class="glyphicon glyphicon-menu-right"></span>
				<span class="glyphicon glyphicon-menu-left"></span>
			</a>
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-wrapper" aria-expanded="false">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<span title="light mode switch" class="glyphicon glyphicon-sunglasses pull-right" id="lightmode-icon"></span>
			<form class="navbar-form pull-right" id="navbar-search-form">
                               <div class="form-group has-feedback">
                                       <input type="text" class="form-control input-sm" name="search" id="sidenav-lookup-field" placeholder="search" disabled>
				       <span class="glyphicon glyphicon-search form-control-feedback" id="search-mgn-glass"></span>
                               </div>
                        </form>
		</div>
		<div class="navbar-header">
			<a id="sidenav-toggle">
				<span class="glyphicon glyphicon-menu-right"></span>
				<span class="glyphicon glyphicon-menu-left"></span>
			</a>
			<a id="home-link" href="index.html" class="hotdoc-navbar-brand">
				<img src="assets/images/meson_logo.png" alt="Home">
			</a>
		</div>
		<div class="navbar-collapse collapse" id="navbar-wrapper">
			<ul class="nav navbar-nav" id="menu">
				
<li class="dropdown">
  <a class="dropdown-toggle" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    Modules <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" id="modules-menu">
        <li>
            <a href="CMake-module.html">CMake</a>
        </li>
        <li>
            <a href="Cuda-module.html">CUDA</a>
        </li>
        <li>
            <a href="Dlang-module.html">Dlang</a>
        </li>
        <li>
            <a href="External-Project-module.html">External Project</a>
        </li>
        <li>
            <a href="Fs-module.html">Filesystem</a>
        </li>
        <li>
            <a href="Gnome-module.html">GNOME</a>
        </li>
        <li>
            <a href="Hotdoc-module.html">Hotdoc</a>
        </li>
        <li>
            <a href="i18n-module.html">i18n</a>
        </li>
        <li>
            <a href="Icestorm-module.html">Icestorm</a>
        </li>
        <li>
            <a href="Java-module.html">Java</a>
        </li>
        <li>
            <a href="Keyval-module.html">Keyval</a>
        </li>
        <li>
            <a href="Pkgconfig-module.html">Pkgconfig</a>
        </li>
        <li>
            <a href="Python-3-module.html">Python 3</a>
        </li>
        <li>
            <a href="Python-module.html">Python</a>
        </li>
        <li>
            <a href="Qt4-module.html">Qt4</a>
        </li>
        <li>
            <a href="Qt5-module.html">Qt5</a>
        </li>
        <li>
            <a href="Qt6-module.html">Qt6</a>
        </li>
        <li>
            <a href="Rust-module.html">Rust</a>
        </li>
        <li>
            <a href="Simd-module.html">Simd</a>
        </li>
        <li>
            <a href="SourceSet-module.html">SourceSet</a>
        </li>
        <li>
            <a href="Wayland-module.html">Wayland</a>
        </li>
        <li>
            <a href="Windows-module.html">Windows</a>
        </li>
	</ul>
</li>
<li class="dropdown">
	<a class="dropdown-toggle" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
		Quick References <span class="caret"></span>
	</a>
	<ul class="dropdown-menu" id="quick-refs-menu">
					<li>
				<a href="Reference-manual.html">Functions</a>
			</li>
					<li>
				<a href="Build-options.html">Options</a>
			</li>
					<li>
				<a href="Configuration.html">Configuration</a>
			</li>
					<li>
				<a href="Dependencies.html">Dependencies</a>
			</li>
					<li>
				<a href="Unit-tests.html">Tests</a>
			</li>
					<li>
				<a href="Syntax.html">Syntax</a>
			</li>
			</ul>
</li>
			</ul>
			<div class="hidden-xs hidden-sm navbar-text navbar-center">
				<p><b>The Meson Build System</b></p>
			</div>
		</div>
	</div>
</nav>

<main>
<div data-extension="core" data-hotdoc-in-toplevel="True" data-hotdoc-project="Meson-documentation" data-hotdoc-ref="i18n-module.html" class="page_container" id="page-wrapper">
<script src="assets/js/utils.js"></script>

<div class="panel panel-collapse oc-collapsed" id="sidenav" data-hotdoc-role="navigation">
	<script src="assets/js/full-width.js"></script>
  <div id="sitenav-wrapper">
    <iframe src="hotdoc-sitemap.html" id="sitenav-frame"></iframe>
  </div>
</div>

<div id="body">
	<div id="main">
				    <div id="page-description" data-hotdoc-role="main">
        <h1 id="i18n-module">I18n module</h1>
<p>This module provides internationalisation and localisation functionality.</p>
<h2 id="usage">Usage</h2>
<p>To use this module, just do: <strong><code>i18n = import('i18n')</code></strong>. The
following functions will then be available as methods on the object
with the name <code>i18n</code>. You can, of course, replace the name <code>i18n</code> with
anything else.</p>
<h3 id="i18ngettext">i18n.gettext()</h3>
<p>Sets up gettext localisation so that translations are built and placed
into their proper locations during install. Takes one positional
argument which is the name of the gettext module.</p>
<ul>
<li>
<code>args</code>: list of extra arguments to pass to <code>xgettext</code> when
generating the pot file</li>
<li>
<code>data_dirs</code>: (<em>Added 0.36.0</em>) list of directories to be set for
<code>GETTEXTDATADIRS</code> env var (Requires gettext 0.19.8+), used for local
its files</li>
<li>
<code>languages</code>: list of languages that are to be generated. As of
0.37.0 this is optional and the
<a href="https://www.gnu.org/software/gettext/manual/html_node/po_002fLINGUAS.html">LINGUAS</a>
file is read.</li>
<li>
<code>preset</code>: (<em>Added 0.37.0</em>) name of a preset list of arguments,
current option is <code>'glib'</code>, see
<a href="https://github.com/mesonbuild/meson/blob/master/mesonbuild/modules/i18n.py">source</a>
for their value</li>
<li>
<code>install</code>: (<em>Added 0.43.0</em>) if false, do not install the built translations.</li>
<li>
<code>install_dir</code>: (<em>Added 0.50.0</em>) override default install location, default is <code>localedir</code>
</li>
</ul>
<p>This function also defines targets for maintainers to use:
<strong>Note</strong>: These output to the source directory</p>
<ul>
<li>
<code>&lt;project_id&gt;-pot</code>: runs <code>xgettext</code> to regenerate the pot file</li>
<li>
<code>&lt;project_id&gt;-update-po</code>: regenerates the <code>.po</code> files from current <code>.pot</code> file</li>
<li>
<code>&lt;project_id&gt;-gmo</code>: builds the translations without installing</li>
</ul>
<p>(<em>since 0.60.0</em>) Returns a list containing:</p>
<ul>
<li>a list of built <code>.mo</code> files</li>
<li>the maintainer <code>-pot</code> target</li>
<li>the maintainer <code>-update-po</code> target</li>
</ul>
<h3 id="i18nmerge_file">i18n.merge_file()</h3>
<p>This merges translations into a text file using <code>msgfmt</code>. See
<a href="Reference-manual_functions.html#custom_target"><ins><code>custom_target()</code></ins></a>
for normal keywords. In addition it accepts these keywords:</p>
<ul>
<li>
<code>output</code>: same as <code>custom_target</code> but only accepts one item</li>
<li>
<code>install_dir</code>: same as <code>custom_target</code> but only accepts one item</li>
<li>
<code>install_tag</code>: same as <code>custom_target</code> but only accepts one item</li>
<li>
<code>data_dirs</code>: (<em>Added 0.41.0</em>) list of directories for its files (See
also <code>i18n.gettext()</code>)</li>
<li>
<code>po_dir</code>: directory containing translations, relative to current directory</li>
<li>
<code>type</code>: type of file, valid options are <code>'xml'</code> (default) and <code>'desktop'</code>
</li>
<li>
<code>args</code>: (<em>Added 0.51.0</em>) list of extra arguments to pass to <code>msgfmt</code>
</li>
</ul>
<p><em>Added 0.37.0</em></p>
<h3 id="i18nitstool_join">i18n.itstool_join()</h3>
<p>This joins translations into a XML file using <code>itstool</code>. See
<a href="Reference-manual_functions.html#custom_target"><ins><code>custom_target()</code></ins></a>
for normal keywords. In addition it accepts these keywords:</p>
<ul>
<li>
<code>output</code>: same as <code>custom_target</code> but only accepts one item</li>
<li>
<code>install_dir</code>: same as <code>custom_target</code> but only accepts one item</li>
<li>
<code>install_tag</code>: same as <code>custom_target</code> but only accepts one item</li>
<li>
<code>its_files</code>: filenames of ITS files that should be used explicitly
(XML translation rules are autodetected otherwise).</li>
<li>
<code>mo_targets</code> <em>required</em>: mo file generation targets as returned by <code>i18n.gettext()</code>.</li>
</ul>
<p><em>Added 0.62.0</em></p>
<h3 id="i18nxgettext">i18n.xgettext()</h3>
<pre><code class="language-meson">i18n.xgettext(name, sources..., args: [...], recursive: false)
</code></pre>
<p>Invokes the <code>xgettext</code> program on given sources, to generate a <code>.pot</code> file.
This function is to be used when the <code>gettext</code> function workflow it not suitable
for your project. For example, it can be used to produce separate <code>.pot</code> files
for each executable.</p>
<p>Positional arguments are the following:</p>
<ul>
<li>name <code>str</code>: the name of the resulting pot file.</li>
<li>sources <code>array[str|File|build_tgt|custom_tgt|custom_idx]</code>:
source files or targets. May be a list of <code>string</code>, <code>File</code>, <a href="Reference-manual_returned_build_tgt.html"><ins><code>build_tgt</code></ins></a>,
or <a href="Reference-manual_returned_custom_tgt.html"><ins><code>custom_tgt</code></ins></a> returned from other calls to this function.</li>
</ul>
<p>Keyword arguments are the following:</p>
<ul>
<li>recursive <code>bool</code>:
if <code>true</code>, will merge the resulting pot file with extracted pot files
related to dependencies of the given source targets. For instance,
if you build an executable, then you may want to merge the executable
translations with the translations from the dependent libraries.</li>
<li>install <code>bool</code>: if <code>true</code>, will add the resulting pot file to install targets.</li>
<li>install_tag <code>str</code>: install tag to use for the install target.</li>
<li>install_dir <code>str</code>: directory where to install the resulting pot file.</li>
</ul>
<p>The <code>i18n.xgettext()</code> function returns a <a href="Reference-manual_returned_custom_tgt.html"><ins><code>custom_tgt</code></ins></a>.</p>
<p>Usually, you want to pass one build target as sources, and the list of header files
for that target. If the number of source files would result in a command line that
is too long, the list of source files is written to a file at config time, to be
used as input for the <code>xgettext</code> program.</p>
<p>The <code>recursive: true</code> argument is to be given to targets that will actually read
the resulting <code>.mo</code> file. Each time you call the <code>i18n.xgettext()</code> function,
it maps the source targets to the resulting pot file. When <code>recursive: true</code> is
given, all generated pot files from dependencies of the source targets are
included to generate the final pot file. Therefore, adding a dependency to
source target will automatically add the translations of that dependency to the
needed translations for that source target.</p>
<p><em>New in 1.10.0</em> sources can be result of <a href="Reference-manual_returned_custom_tgt.html"><ins><code>custom_tgt</code></ins></a> or <a href="Reference-manual_returned_custom_idx.html"><ins><code>custom_idx</code></ins></a>.
Before 1.10.0, custom targets were silently ignored.</p>
<p><em>Added 1.8.0</em></p>

    </div>
        




		
	</div>
	<div id="search_results">
		<p>The results of the search are</p>
	</div>
	<div id="footer">
		    
        
<hr>

<div class="license-description">
    Website licensing information are available on the <a href="legal.html">Legal</a> page.
</div>


	</div>
</div>

<div id="toc-column">
	
		<div class="edit-button">
		<a href="https://github.com/mesonbuild/meson/edit/master/docs/markdown/i18n-module.md" data-hotdoc-role="edit-button">Edit on GitHub</a>

	</div>
		<div id="toc-wrapper">
		<nav id="toc"></nav>
	</div>
</div>
</div>
</main>


<script src="assets/js/navbar_offset_scroller.js"></script>
</body>
</html>
