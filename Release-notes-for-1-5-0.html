<!DOCTYPE html>
<html lang="en">
<head>

<base href=".">

<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">


<title>Release 1.5.0 (in development)</title>

<link rel="stylesheet" href="assets/css/dark-frontend.css" type="text/css" title="dark">
<link rel="alternate stylesheet" href="assets/css/light-frontend.css" type="text/css" title="light">
<link rel="stylesheet" href="assets/css/bootstrap-toc.min.css" type="text/css">
<link rel="stylesheet" href="assets/css/jquery.mCustomScrollbar.min.css">
<link rel="stylesheet" href="assets/js/search/enable_search.css" type="text/css">


<link rel="stylesheet" href="assets/css/prism-tomorrow.css" type="text/css" title="dark">

<link rel="alternate stylesheet" href="assets/css/prism.css" type="text/css" title="light">

<script src="assets/js/mustache.min.js"></script>
<script src="assets/js/jquery.js"></script>
<script src="assets/js/bootstrap.js"></script>
<script src="assets/js/scrollspy.js"></script>
<script src="assets/js/typeahead.jquery.min.js"></script>
<script src="assets/js/search.js"></script>
<script src="assets/js/compare-versions.js"></script>
<script src="assets/js/jquery.mCustomScrollbar.concat.min.js"></script>
<script src="assets/js/bootstrap-toc.min.js"></script>
<script src="assets/js/jquery.touchSwipe.min.js"></script>
<script src="assets/js/anchor.min.js"></script>
<script src="assets/js/tag_filtering.js"></script>
<script src="assets/js/language_switching.js"></script>
<script src="assets/js/styleswitcher.js"></script>

<script src="assets/js/lines_around_headings.js"></script>

<script src="assets/js/prism-core.js"></script>
<script src="assets/js/prism-autoloader.js"></script>
<script src="assets/js/prism_autoloader_path_override.js"></script>
<script src="assets/js/prism-keep-markup.js"></script>
<script src="assets/js/trie.js"></script>

<link rel="icon" type="image/png" href="assets/images/favicon.png">
<link rel="shortcut icon" href="assets/images/favicon.png">

</head>

<body class="no-script
">

<script>
$('body').removeClass('no-script');
</script>

<nav class="navbar navbar-fixed-top navbar-default" id="topnav">
	<div class="container-fluid">
		<div class="navbar-right">
			<a id="toc-toggle">
				<span class="glyphicon glyphicon-menu-right"></span>
				<span class="glyphicon glyphicon-menu-left"></span>
			</a>
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-wrapper" aria-expanded="false">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<span title="light mode switch" class="glyphicon glyphicon-sunglasses pull-right" id="lightmode-icon"></span>
			<form class="navbar-form pull-right" id="navbar-search-form">
                               <div class="form-group has-feedback">
                                       <input type="text" class="form-control input-sm" name="search" id="sidenav-lookup-field" placeholder="search" disabled>
				       <span class="glyphicon glyphicon-search form-control-feedback" id="search-mgn-glass"></span>
                               </div>
                        </form>
		</div>
		<div class="navbar-header">
			<a id="sidenav-toggle">
				<span class="glyphicon glyphicon-menu-right"></span>
				<span class="glyphicon glyphicon-menu-left"></span>
			</a>
			<a id="home-link" href="index.html" class="hotdoc-navbar-brand">
				<img src="assets/images/meson_logo.png" alt="Home">
			</a>
		</div>
		<div class="navbar-collapse collapse" id="navbar-wrapper">
			<ul class="nav navbar-nav" id="menu">
				
<li class="dropdown">
  <a class="dropdown-toggle" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    Modules <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" id="modules-menu">
        <li>
            <a href="CMake-module.html">CMake</a>
        </li>
        <li>
            <a href="Cuda-module.html">CUDA</a>
        </li>
        <li>
            <a href="Dlang-module.html">Dlang</a>
        </li>
        <li>
            <a href="External-Project-module.html">External Project</a>
        </li>
        <li>
            <a href="Fs-module.html">Filesystem</a>
        </li>
        <li>
            <a href="Gnome-module.html">GNOME</a>
        </li>
        <li>
            <a href="Hotdoc-module.html">Hotdoc</a>
        </li>
        <li>
            <a href="i18n-module.html">i18n</a>
        </li>
        <li>
            <a href="Icestorm-module.html">Icestorm</a>
        </li>
        <li>
            <a href="Java-module.html">Java</a>
        </li>
        <li>
            <a href="Keyval-module.html">Keyval</a>
        </li>
        <li>
            <a href="Pkgconfig-module.html">Pkgconfig</a>
        </li>
        <li>
            <a href="Python-3-module.html">Python 3</a>
        </li>
        <li>
            <a href="Python-module.html">Python</a>
        </li>
        <li>
            <a href="Qt4-module.html">Qt4</a>
        </li>
        <li>
            <a href="Qt5-module.html">Qt5</a>
        </li>
        <li>
            <a href="Qt6-module.html">Qt6</a>
        </li>
        <li>
            <a href="Rust-module.html">Rust</a>
        </li>
        <li>
            <a href="Simd-module.html">Simd</a>
        </li>
        <li>
            <a href="SourceSet-module.html">SourceSet</a>
        </li>
        <li>
            <a href="Wayland-module.html">Wayland</a>
        </li>
        <li>
            <a href="Windows-module.html">Windows</a>
        </li>
	</ul>
</li>
<li class="dropdown">
	<a class="dropdown-toggle" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
		Quick References <span class="caret"></span>
	</a>
	<ul class="dropdown-menu" id="quick-refs-menu">
					<li>
				<a href="Reference-manual.html">Functions</a>
			</li>
					<li>
				<a href="Build-options.html">Options</a>
			</li>
					<li>
				<a href="Configuration.html">Configuration</a>
			</li>
					<li>
				<a href="Dependencies.html">Dependencies</a>
			</li>
					<li>
				<a href="Unit-tests.html">Tests</a>
			</li>
					<li>
				<a href="Syntax.html">Syntax</a>
			</li>
			</ul>
</li>
			</ul>
			<div class="hidden-xs hidden-sm navbar-text navbar-center">
				<p><b>The Meson Build System</b></p>
			</div>
		</div>
	</div>
</nav>

<main>
<div data-extension="core" data-hotdoc-in-toplevel="True" data-hotdoc-project="Meson-documentation" data-hotdoc-ref="Release-notes-for-1-5-0.html" class="page_container" id="page-wrapper">
<script src="assets/js/utils.js"></script>

<div class="panel panel-collapse oc-collapsed" id="sidenav" data-hotdoc-role="navigation">
	<script src="assets/js/full-width.js"></script>
  <div id="sitenav-wrapper">
    <iframe src="hotdoc-sitemap.html" id="sitenav-frame"></iframe>
  </div>
</div>

<div id="body">
	<div id="main">
				    <div id="page-description" data-hotdoc-role="main">
        <h1 id="new-features-in-development">New features (in development)</h1>
<h2 id="support-for-bztar-in-meson-dist">Support for <code>bztar</code> in <code>meson dist</code>
</h2>
<p>The <code>bztar</code> format is now supported in <code>meson dist</code>. This format is also known
as <code>bzip2</code>.</p>
<h2 id="cargo-dependencies-names-now-include-the-api-version">Cargo dependencies names now include the API version</h2>
<p>Cargo dependencies names are now in the format <code>&lt;package_name&gt;-&lt;version&gt;-rs</code>:</p>
<ul>
<li>
<code>package_name</code> is defined in <code>[package] name = ...</code> section of the <code>Cargo.toml</code>.</li>
<li>
<code>version</code> is the API version deduced from <code>[package] version = ...</code> as follow:
<ul>
<li>
<code>x.y.z</code> -&gt; 'x'</li>
<li>
<code>0.x.y</code> -&gt; '0.x'</li>
<li>
<code>0.0.x</code> -&gt; '0'
It allows to make different dependencies for uncompatible versions of the same
crate.</li>
</ul>
</li>
<li>
<code>-rs</code> suffix is added to distinguish from regular system dependencies, for
example <code>gstreamer-1.0</code> is a system pkg-config dependency and <code>gstreamer-0.22-rs</code>
is a Cargo dependency.</li>
</ul>
<p>That means the <code>.wrap</code> file should have <code>dependency_names = foo-1-rs</code> in their
<code>[provide]</code> section when <code>Cargo.toml</code> has package name <code>foo</code> and version <code>1.2</code>.</p>
<p>This is a breaking change (Cargo subprojects are still experimental), previous
versions were using <code>&lt;package_name&gt;-rs</code> format.</p>
<h2 id="meson-now-propagates-its-build-type-to-cmake">Meson now propagates its build type to CMake</h2>
<p>When the CMake build type variable, <code>CMAKE_BUILD_TYPE</code>, is not set via the
<code>add_cmake_defines</code> method of the <a href="CMake-module.html#cmake-options-object"><code>cmake options</code> object</a>,
it is inferred from the <a href="Builtin-options.html#details-for-buildtype">Meson build type</a>.
Build types of the two build systems do not match perfectly. The mapping from
Meson build type to CMake build type is as follows:</p>
<ul>
<li>
<code>debug</code> -&gt; <code>Debug</code>
</li>
<li>
<code>debugoptimized</code> -&gt; <code>RelWithDebInfo</code>
</li>
<li>
<code>release</code> -&gt; <code>Release</code>
</li>
<li>
<code>minsize</code> -&gt; <code>MinSizeRel</code>
</li>
</ul>
<p>No CMake build type is set for the <code>plain</code> Meson build type. The inferred CMake
build type overrides any <code>CMAKE_BUILD_TYPE</code> environment variable.</p>
<h2 id="compilerrun-method-is-now-available-for-all-languages">compiler.run() method is now available for all languages</h2>
<p>It used to be only implemented for C-like and D languages, but it is now available
for all languages.</p>
<h2 id="dependencies-created-by-compilerfind_library-implement-the-name-method">dependencies created by compiler.find_library implement the <code>name()</code> method</h2>
<p>Previously, for a <a href="Reference-manual_returned_dep.html"><ins><code>dep</code></ins></a> that might be returned by either <a href="Reference-manual_functions.html#dependency"><ins><code>dependency()</code></ins></a> or
<a href="Reference-manual_returned_compiler.html#compilerfind_library"><ins><code>compiler.find_library()</code></ins></a>, the method might or might not exist with no way
of telling.</p>
<h2 id="meson-configure-handles-changes-to-options-in-more-cases">Meson configure handles changes to options in more cases</h2>
<p>Meson configure now correctly handles updates to the options file without a full
reconfigure. This allows making a change to the <code>meson.options</code> or
<code>meson_options.txt</code> file without a reconfigure.</p>
<p>For example, this now works:</p>
<pre><code class="language-sh">meson setup builddir
git pull
meson configure builddir -Doption-added-by-pull=value
</code></pre>
<h2 id="new-meson-format-command">New meson format command</h2>
<p>This command is similar to <code>muon fmt</code> and allows to format a <code>meson.build</code>
document.</p>
<h2 id="added-support-for-gccs-null_terminated_string_arg-function-attribute">Added support for GCC's <code>null_terminated_string_arg</code> function attribute</h2>
<p>You can now check if a compiler support the <code>null_terminated_string_arg</code>
function attribute via the <code>has_function_attribute()</code> method on the
<a href="Reference-manual_returned_compiler.html"><ins><code>compiler</code></ins></a> object.</p>
<pre><code class="language-meson">cc = meson.get_compiler('c')

if cc.has_function_attribute('null_terminated_string_arg')
  # We have it...
endif
</code></pre>
<h2 id="a-new-dependency-for-objfw-is-now-supported">A new dependency for ObjFW is now supported</h2>
<p>For example, you can create a simple application written using ObjFW like this:</p>
<pre><code class="language-meson">project('SimpleApp', 'objc')

objfw_dep = dependency('objfw', version: '&gt;= 1.0')

executable('SimpleApp', 'SimpleApp.m',
  dependencies: [objfw_dep])
</code></pre>
<p>Modules are also supported. A test case using ObjFWTest can be created like
this:</p>
<pre><code class="language-meson">project('Tests', 'objc')

objfwtest_dep = dependency('objfw', version: '&gt;= 1.1', modules: ['ObjFWTest'])

executable('Tests', ['FooTest.m', 'BarTest.m'],
  dependencies: [objfwtest_dep])
</code></pre>
<h2 id="required-kwarg-on-more-compiler-methods">Required kwarg on more <code>compiler</code> methods</h2>
<p>The following <code>compiler</code> methods now support the <code>required</code> keyword argument:</p>
<ul>
<li><code>compiler.compiles()</code></li>
<li><code>compiler.links()</code></li>
<li><code>compiler.runs()</code></li>
</ul>
<pre><code class="language-meson">cc.compiles(valid, name: 'valid', required : true)
cc.links(valid, name: 'valid', required : true)
cc.run(valid, name: 'valid', required : true)

assert(not cc.compiles(valid, name: 'valid', required : opt))
assert(not cc.links(valid, name: 'valid', required : opt))
res = cc.run(valid, name: 'valid', required : opt)
assert(res.compiled())
assert(res.returncode() == 0)
assert(res.stdout() == '')
assert(res.stderr() == '')
</code></pre>
<h2 id="the-meson-test-program-supports-a-new-interactive-argument">The Meson test program supports a new "--interactive" argument</h2>
<p><code>meson test --interactive</code> invokes tests with stdout, stdin and stderr
connected directly to the calling terminal. This can be useful when running
integration tests that run in containers or virtual machines which can spawn a
debug shell if a test fails.</p>
<h2 id="support-for-texas-instruments-c6000-cc-compiler">Support for Texas Instruments C6000 C/C++ compiler</h2>
<p>Meson now supports the TI C6000 C/C++ compiler use for the C6000 cpu family.
The example cross file is available in <code>cross/ti-c6000.txt</code>.</p>
<h2 id="wayland-stable-protocols-can-be-versioned">Wayland stable protocols can be versioned</h2>
<p>The wayland module now accepts a version number for stable protocols.</p>
<pre><code class="language-meson">wl_mod = import('unstable-wayland')

wl_mod.find_protocol(
  'linux-dmabuf',
  state: 'stable'
  version: 1
)
</code></pre>

    </div>
        




		
	</div>
	<div id="search_results">
		<p>The results of the search are</p>
	</div>
	<div id="footer">
		    
        
<hr>

<div class="license-description">
    Website licensing information are available on the <a href="legal.html">Legal</a> page.
</div>


	</div>
</div>

<div id="toc-column">
	
		<div class="edit-button">
		<a href="https://github.com/mesonbuild/meson/edit/master/docs/_build/Release-notes-for-1.5.0.md" data-hotdoc-role="edit-button">Edit on GitHub</a>

	</div>
		<div id="toc-wrapper">
		<nav id="toc"></nav>
	</div>
</div>
</div>
</main>


<script src="assets/js/navbar_offset_scroller.js"></script>
</body>
</html>
