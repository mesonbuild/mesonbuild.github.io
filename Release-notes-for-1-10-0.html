<!DOCTYPE html>
<html lang="en">
<head>

<base href=".">

<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">


<title>Release 1.10.0 (in development)</title>

<link rel="stylesheet" href="assets/css/dark-frontend.css" type="text/css" title="dark">
<link rel="alternate stylesheet" href="assets/css/light-frontend.css" type="text/css" title="light">
<link rel="stylesheet" href="assets/css/bootstrap-toc.min.css" type="text/css">
<link rel="stylesheet" href="assets/css/jquery.mCustomScrollbar.min.css">
<link rel="stylesheet" href="assets/js/search/enable_search.css" type="text/css">

<link rel="stylesheet" href="assets/css/notes.css" type="text/css">
<link rel="stylesheet" href="assets/css/devhelp.css" type="text/css">

<link rel="stylesheet" href="assets/css/prism-tomorrow.css" type="text/css" title="dark">

<link rel="alternate stylesheet" href="assets/css/prism.css" type="text/css" title="light">

<script src="assets/js/mustache.min.js"></script>
<script src="assets/js/jquery.js"></script>
<script src="assets/js/bootstrap.js"></script>
<script src="assets/js/scrollspy.js"></script>
<script src="assets/js/typeahead.jquery.min.js"></script>
<script src="assets/js/search.js"></script>
<script src="assets/js/compare-versions.js"></script>
<script src="assets/js/jquery.mCustomScrollbar.concat.min.js"></script>
<script src="assets/js/bootstrap-toc.min.js"></script>
<script src="assets/js/jquery.touchSwipe.min.js"></script>
<script src="assets/js/anchor.min.js"></script>
<script src="assets/js/tag_filtering.js"></script>
<script src="assets/js/language_switching.js"></script>
<script src="assets/js/styleswitcher.js"></script>

<script src="assets/js/lines_around_headings.js"></script>

<script src="assets/js/prism-core.js"></script>
<script src="assets/js/prism-autoloader.js"></script>
<script src="assets/js/prism_autoloader_path_override.js"></script>
<script src="assets/js/prism-keep-markup.js"></script>
<script src="assets/js/trie.js"></script>

<link rel="icon" type="image/png" href="assets/images/favicon.png">
<link rel="shortcut icon" href="assets/images/favicon.png">

</head>

<body class="no-script
">

<script>
$('body').removeClass('no-script');
</script>

<nav class="navbar navbar-fixed-top navbar-default" id="topnav">
	<div class="container-fluid">
		<div class="navbar-right">
			<a id="toc-toggle">
				<span class="glyphicon glyphicon-menu-right"></span>
				<span class="glyphicon glyphicon-menu-left"></span>
			</a>
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-wrapper" aria-expanded="false">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<span title="light mode switch" class="glyphicon glyphicon-sunglasses pull-right" id="lightmode-icon"></span>
			<form class="navbar-form pull-right" id="navbar-search-form">
                               <div class="form-group has-feedback">
                                       <input type="text" class="form-control input-sm" name="search" id="sidenav-lookup-field" placeholder="search" disabled>
				       <span class="glyphicon glyphicon-search form-control-feedback" id="search-mgn-glass"></span>
                               </div>
                        </form>
		</div>
		<div class="navbar-header">
			<a id="sidenav-toggle">
				<span class="glyphicon glyphicon-menu-right"></span>
				<span class="glyphicon glyphicon-menu-left"></span>
			</a>
			<a id="home-link" href="index.html" class="hotdoc-navbar-brand">
				<img src="assets/images/meson_logo.png" alt="Home">
			</a>
		</div>
		<div class="navbar-collapse collapse" id="navbar-wrapper">
			<ul class="nav navbar-nav" id="menu">
				
<li class="dropdown">
  <a class="dropdown-toggle" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    Modules <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" id="modules-menu">
        <li>
            <a href="CMake-module.html">CMake</a>
        </li>
        <li>
            <a href="Codegen-module.html">Codegen</a>
        </li>
        <li>
            <a href="Cuda-module.html">CUDA</a>
        </li>
        <li>
            <a href="Dlang-module.html">Dlang</a>
        </li>
        <li>
            <a href="External-Project-module.html">External Project</a>
        </li>
        <li>
            <a href="Fs-module.html">Filesystem</a>
        </li>
        <li>
            <a href="Gnome-module.html">GNOME</a>
        </li>
        <li>
            <a href="Hotdoc-module.html">Hotdoc</a>
        </li>
        <li>
            <a href="i18n-module.html">i18n</a>
        </li>
        <li>
            <a href="Icestorm-module.html">Icestorm</a>
        </li>
        <li>
            <a href="Java-module.html">Java</a>
        </li>
        <li>
            <a href="Keyval-module.html">Keyval</a>
        </li>
        <li>
            <a href="Pkgconfig-module.html">Pkgconfig</a>
        </li>
        <li>
            <a href="Python-3-module.html">Python 3</a>
        </li>
        <li>
            <a href="Python-module.html">Python</a>
        </li>
        <li>
            <a href="Qt4-module.html">Qt4</a>
        </li>
        <li>
            <a href="Qt5-module.html">Qt5</a>
        </li>
        <li>
            <a href="Qt6-module.html">Qt6</a>
        </li>
        <li>
            <a href="Rust-module.html">Rust</a>
        </li>
        <li>
            <a href="Simd-module.html">Simd</a>
        </li>
        <li>
            <a href="Snippets-module.html">Snippets</a>
        </li>
        <li>
            <a href="SourceSet-module.html">SourceSet</a>
        </li>
        <li>
            <a href="Wayland-module.html">Wayland</a>
        </li>
        <li>
            <a href="Windows-module.html">Windows</a>
        </li>
	</ul>
</li>
<li class="dropdown">
	<a class="dropdown-toggle" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
		Quick References <span class="caret"></span>
	</a>
	<ul class="dropdown-menu" id="quick-refs-menu">
					<li>
				<a href="Reference-manual.html">Functions</a>
			</li>
					<li>
				<a href="Build-options.html">Options</a>
			</li>
					<li>
				<a href="Configuration.html">Configuration</a>
			</li>
					<li>
				<a href="Dependencies.html">Dependencies</a>
			</li>
					<li>
				<a href="Unit-tests.html">Tests</a>
			</li>
					<li>
				<a href="Syntax.html">Syntax</a>
			</li>
			</ul>
</li>
			</ul>
			<div class="hidden-xs hidden-sm navbar-text navbar-center">
				<p><b>The Meson Build System</b></p>
			</div>
		</div>
	</div>
</nav>

<main>
<div data-extension="core" data-hotdoc-in-toplevel="True" data-hotdoc-project="Meson-documentation" data-hotdoc-ref="Release-notes-for-1-10-0.html" class="page_container" id="page-wrapper">
<script src="assets/js/utils.js"></script>

<div class="panel panel-collapse oc-collapsed" id="sidenav" data-hotdoc-role="navigation">
	<script src="assets/js/full-width.js"></script>
  <div id="sitenav-wrapper">
    <iframe src="hotdoc-sitemap.html" id="sitenav-frame"></iframe>
  </div>
</div>

<div id="body">
	<div id="main">
				    <div id="page-description" data-hotdoc-role="main">
        <h1 id="new-features-in-development">New features (in development)</h1>
<h2 id="added-a-values-method-for-dictionaries">Added a <code>values()</code> method for dictionaries</h2>
<p>Mesons built-in <a href="Reference-manual_elementary_dict.html"><ins><code>dict</code></ins></a> type now supports the <a href="Reference-manual_elementary_dict.html#dictvalues"><ins><code>dict.values()</code></ins></a> method
to retrieve the dictionary values as an array, analogous to the
<a href="Reference-manual_elementary_dict.html#dictkeys"><ins><code>dict.keys()</code></ins></a> method.</p>
<pre><code class="language-meson">dict = { 'b': 'world', 'a': 'hello' }

<a href="Reference-manual_elementary_dict.html#dictkeys"><ins>dict.keys()</ins></a> # Returns ['a', 'b']
<a href="Reference-manual_elementary_dict.html#dictvalues"><ins>dict.values()</ins></a> # Returns ['hello', 'world']
</code></pre>
<h2 id="add-cmd_array-method-to-externalprogram">Add cmd_array method to ExternalProgram</h2>
<p>Added a new <code>cmd_array()</code> method to the <code>ExternalProgram</code> object that returns
an array containing the command(s) for the program. This is particularly useful
in cases like pyInstaller where the Python command is <code>meson.exe runpython</code>,
and the full path should not be used but rather the command array.</p>
<p>The method returns a list of strings representing the complete command needed
to execute the external program, which may differ from just the full path
returned by <code>full_path()</code> in cases where wrapper commands or interpreters are
involved.</p>
<h2 id="microchip-xc32-compiler-support">Microchip XC32 compiler support</h2>
<p>The Microchip XC32 compiler is now supported.</p>
<h2 id="android-cross-file-generator">Android cross file generator</h2>
<p>The <code>env2mfile</code> command now supports a <code>--android</code> argument. When
specified, it tells the cross file generator to create cross files for
all Android toolchains located on the current machines.</p>
<p>This typically creates many files, so the <code>-o</code> argument specifies the
output directory. A typical use case goes like this:</p>
<pre><code>meson env2mfile --android -o androidcross
meson setup --cross-file \
  androidcross/android-29.0.14033849-android35-aarch64-cross.txt \
  builddir
</code></pre>
<h2 id="db_msvcrt-on-clang">
<code>-Db_msvcrt</code> on clang</h2>
<p><code>-Db_msvcrt</code> will now link the appropriate runtime library, and set
the appropriate preprocessor symbols, also when the compiler is clang.
This is only supported when using <code>link.exe</code> or <code>lld-link.exe</code> as the
linker.</p>
<h2 id="added-build_subdir-arg-to-various-targets">Added <code>build_subdir</code> arg to various targets</h2>
<p><code>custom_target()</code>, <code>build_target()</code> and <code>configure_file()</code> now support
the <code>build_subdir</code> argument. This directs meson to place the build
result within the specified sub-directory path of the build directory.</p>
<pre><code class="language-meson">configure_file(input : files('config.h.in'),
               output : 'config.h',
               build_subdir : 'config-subdir',
               install_dir : 'share/appdir',
               configuration : conf)
</code></pre>
<p>This places the build result, <code>config.h</code>, in a sub-directory named
<code>config-subdir</code>, creating it if necessary. To prevent collisions
within the build directory, <code>build_subdir</code> is not allowed to match a
file or directory in the source directory nor contain '..' to refer to
the parent of the build directory. <code>build_subdir</code> does not affect the
install directory path at all; <code>config.h</code> will be installed as
<code>share/appdir/config.h</code>. <code>build_subdir</code> may contain multiple levels of
directory names.</p>
<p>This allows construction of files within the build system that have
any required trailing path name components as well as building
multiple files with the same basename from the same source directory.</p>
<h2 id="support-for-cargo-workspaces">Support for Cargo workspaces</h2>
<p>When parsing <code>Cargo.toml</code> files, Meson now recognizes workspaces
and will process all the required members and any requested optional
members of the workspace.</p>
<p>For the time being it is recommended to regroup all Cargo dependencies inside a
single workspace invoked from the main Meson project. When invoking multiple
different Cargo subprojects from Meson, feature resolution of common
dependencies might be wrong.</p>
<h2 id="experimental-codegen-module">Experimental Codegen module</h2>
<p>A new module wrapping some common code generators has been added. Currently it supports lex/flex and yacc/bison.</p>
<h2 id="methods-from-compiler-object-now-accept-strings-for-include_directories">Methods from compiler object now accept strings for include_directories</h2>
<p>The various <a href="Reference-manual_returned_compiler.html"><ins><code>compiler</code></ins></a> methods with a <code>include_directories</code> keyword argument
now accept stings or array of strings, in addition to <a href="Reference-manual_returned_inc.html"><ins><code>inc</code></ins></a> objects
generated from <a href="Reference-manual_functions.html#include_directories"><ins><code>include_directories()</code></ins></a> function, as it was already the case for
<a href="Reference-manual_functions.html#build_target"><ins><code>build_target()</code></ins></a> family of functions.</p>
<h2 id="meson-format-has-a-new-checkdiff-option">
<code>meson format</code> has a new <code>--check-diff</code> option</h2>
<p>When using <code>meson format --check-only</code> to verify formatting in CI, it would
previously silently exit with an error code if the code was not formatted
correctly.</p>
<p>A new <code>--check-diff</code> option has been added which will instead print a diff of
the required changes and then exit with an error code.</p>
<h2 id="db_thinlto_cache-now-supported-for-gcc">
<code>-Db_thinlto_cache</code> now supported for GCC</h2>
<p><code>-Db_thinlto_cache</code> is now supported for GCC 15's incremental LTO, as is
<code>-Db_thinlto_cache_dir</code>.</p>
<h2 id="common-cargolock-for-all-cargo-subprojects">Common <code>Cargo.lock</code> for all Cargo subprojects</h2>
<p>Whenever Meson finds a <code>Cargo.lock</code> file in the toplevel directory
of the project, it will use it to resolve the versions of Cargo
subprojects in preference to per-subproject <code>Cargo.lock</code> files.
Per-subproject lock files are only used if the invoking project
did not have a <code>Cargo.lock</code> file itself.</p>
<p>If you wish to experiment with Cargo subprojects, it is recommended
to use <code>cargo</code> to set up <code>Cargo.lock</code> and <code>Cargo.toml</code> files,
encompassing all Rust targets, in the toplevel source directory.
Cargo subprojects remain unstable and subject to change.</p>
<h2 id="add-a-configure-log-in-mesonlogs">Add a configure log in meson-logs</h2>
<p>Add a second log file <code>meson-setup.txt</code> which contains the configure logs
displayed on stdout during the meson <code>setup</code> stage.
It allows user to navigate through the setup logs without searching in the terminal
or the extensive informations of <code>meson-log.txt</code>.</p>
<h2 id="added-new-namingscheme-option">Added new <code>namingscheme</code> option</h2>
<p>Traditionally Meson has named output targets so that they don't clash
with each other. This has meant, among other things, that on Windows
Meson uses a nonstandard <code>.a</code> suffix for static libraries because both
static libraries and import libraries have the suffix <code>.lib</code>.</p>
<p>There is now an option <code>namingscheme</code> that can be set to
<code>platform</code>. This new platform native naming scheme that replicates
what Rust does. That is, shared libraries on Windows get a suffix
<code>.dll</code>, static libraries get <code>.lib</code> and import libraries have the name
<code>.dll.lib</code>.</p>
<p>We expect to change the default value of this option to <code>platform</code> in
a future major version. Until that happens we reserve the right to
alter how <code>platform</code> actually names its output files.</p>
<h2 id="passing-c-defaultlinkerlibraries-to-rustc">Passing <code>-C default-linker-libraries</code> to rustc</h2>
<p>When calling rustc, Meson now passes the <code>-C default-linker-libraries</code> option.
While rustc passes the necessary libraries for Rust programs, they are rarely
enough for mixed Rust/C programs.</p>
<h2 id="rustc-will-receive-c-embedbitcodeno-and-c-lto-command-line-options">
<code>rustc</code> will receive <code>-C embed-bitcode=no</code> and <code>-C lto</code> command line options</h2>
<p>With this release, Meson passes command line arguments to <code>rustc</code> to
enable LTO when the <code>b_lto</code> built-in option is set to true.  As an
optimization, Meson also passes <code>-C embed-bitcode=no</code> when LTO is
disabled; note that this is incompatible with passing <code>-C lto</code> via
<code>rust_args</code>.</p>
<h2 id="new-method-to-handle-gnu-and-windows-symbol-visibility-for-ccobjcobjc">New method to handle GNU and Windows symbol visibility for C/C++/ObjC/ObjC++</h2>
<p>Defining public API of a cross platform C/C++/ObjC/ObjC++ library is often
painful and requires copying macro snippets into every projects, typically using
<code>__declspec(dllexport)</code>, <code>__declspec(dllimport)</code> or
<code>__attribute__((visibility("default")))</code>.</p>
<p>Meson can now generate a header file that defines exactly what's needed for
all supported platforms:
<a href="Snippets-module.html#symbol_visibility_header"><code>snippets.symbol_visibility_header()</code></a>.</p>
<h2 id="vala-buildtarget-dependency-enhancements">Vala BuildTarget dependency enhancements</h2>
<p>A BuildTarget that has Vala sources can now get a File dependency for its
generated header, vapi, and gir files.</p>
<pre><code class="language-meson">lib = library('foo', 'foo.vala')
lib_h = lib.vala_header()
lib_s = static_lib('static', 'static.c', lib_h)

lib_vapi = lib.vala_vapi()

custom_target(
  'foo-typelib',
  command : ['g-ir-compiler', '--output', '@OUTPUT@', '@INPUT@'],
  input : lib.vala_gir(),
  output : 'Foo-1.0.typelib'
)
</code></pre>
<p><code>static.c</code> will not start compilation until <code>lib.h</code> is generated.</p>
<h2 id="windowscompile_resources-now-detects-header-changes-with-rcexe">windows.compile_resources now detects header changes with rc.exe</h2>
<p>The <code>rc.exe</code> resource compiler neither provides <em>depfile</em> support nor
allows showing includes, as is possible with C or C++ compilers.
Therefore, changes to files included by the <code>.rc</code> file did not trigger
recompilation of the resource file.</p>
<p>A workaround was added to <em>meson</em> by calling the preprocessor on the
<code>.rc</code> file to detect the included headers and adding the result as a
dependency to the resource compilation.</p>
<h2 id="i18nxgettext-now-accepts-customtarget-and-customtargetindex-as-sources">
<code>i18n.xgettext</code> now accepts CustomTarget and CustomTargetIndex as sources</h2>
<p>Previously, <a href="Reference-manual_returned_custom_tgt.html"><ins><code>custom_tgt</code></ins></a> were accepted but silently ignored, and
<a href="Reference-manual_returned_custom_idx.html"><ins><code>custom_idx</code></ins></a> were not accepted.</p>
<p>Now, they both can be used, and the generated outputs will be scanned to extract
translation strings.</p>

    </div>
        




		
	</div>
	<div id="search_results">
		<p>The results of the search are</p>
	</div>
	<div id="footer">
		    
        
<hr>

<div class="license-description">
    Website licensing information are available on the <a href="legal.html">Legal</a> page.
</div>


	</div>
</div>

<div id="toc-column">
	
		<div class="edit-button">
		<a href="https://github.com/mesonbuild/meson/edit/master/docs/_build/Release-notes-for-1.10.0.md" data-hotdoc-role="edit-button">Edit on GitHub</a>

	</div>
		<div id="toc-wrapper">
		<nav id="toc"></nav>
	</div>
</div>
</div>
</main>


<script src="assets/js/navbar_offset_scroller.js"></script>
</body>
</html>
