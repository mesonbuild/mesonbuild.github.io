<!DOCTYPE html>
<html lang="en">
<head>

<base href=".">

<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">


<title>Release 1.2.0</title>

<link rel="stylesheet" href="assets/css/dark-frontend.css" type="text/css" title="dark">
<link rel="alternate stylesheet" href="assets/css/light-frontend.css" type="text/css" title="light">
<link rel="stylesheet" href="assets/css/bootstrap-toc.min.css" type="text/css">
<link rel="stylesheet" href="assets/css/jquery.mCustomScrollbar.min.css">
<link rel="stylesheet" href="assets/js/search/enable_search.css" type="text/css">

<link rel="stylesheet" href="assets/css/notes.css" type="text/css">

<link rel="stylesheet" href="assets/css/prism-tomorrow.css" type="text/css" title="dark">

<link rel="alternate stylesheet" href="assets/css/prism.css" type="text/css" title="light">

<script src="assets/js/mustache.min.js"></script>
<script src="assets/js/jquery.js"></script>
<script src="assets/js/bootstrap.js"></script>
<script src="assets/js/scrollspy.js"></script>
<script src="assets/js/typeahead.jquery.min.js"></script>
<script src="assets/js/search.js"></script>
<script src="assets/js/compare-versions.js"></script>
<script src="assets/js/jquery.mCustomScrollbar.concat.min.js"></script>
<script src="assets/js/bootstrap-toc.min.js"></script>
<script src="assets/js/jquery.touchSwipe.min.js"></script>
<script src="assets/js/anchor.min.js"></script>
<script src="assets/js/tag_filtering.js"></script>
<script src="assets/js/language_switching.js"></script>
<script src="assets/js/styleswitcher.js"></script>

<script src="assets/js/lines_around_headings.js"></script>

<script src="assets/js/prism-core.js"></script>
<script src="assets/js/prism-autoloader.js"></script>
<script src="assets/js/prism_autoloader_path_override.js"></script>
<script src="assets/js/prism-keep-markup.js"></script>
<script src="assets/js/trie.js"></script>

<link rel="icon" type="image/png" href="assets/images/favicon.png">
<link rel="shortcut icon" href="assets/images/favicon.png">

</head>

<body class="no-script
">

<script>
$('body').removeClass('no-script');
</script>

<nav class="navbar navbar-fixed-top navbar-default" id="topnav">
	<div class="container-fluid">
		<div class="navbar-right">
			<a id="toc-toggle">
				<span class="glyphicon glyphicon-menu-right"></span>
				<span class="glyphicon glyphicon-menu-left"></span>
			</a>
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-wrapper" aria-expanded="false">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<span title="light mode switch" class="glyphicon glyphicon-sunglasses pull-right" id="lightmode-icon"></span>
			<form class="navbar-form pull-right" id="navbar-search-form">
                               <div class="form-group has-feedback">
                                       <input type="text" class="form-control input-sm" name="search" id="sidenav-lookup-field" placeholder="search" disabled>
				       <span class="glyphicon glyphicon-search form-control-feedback" id="search-mgn-glass"></span>
                               </div>
                        </form>
		</div>
		<div class="navbar-header">
			<a id="sidenav-toggle">
				<span class="glyphicon glyphicon-menu-right"></span>
				<span class="glyphicon glyphicon-menu-left"></span>
			</a>
			<a id="home-link" href="index.html" class="hotdoc-navbar-brand">
				<img src="assets/images/meson_logo.png" alt="Home">
			</a>
		</div>
		<div class="navbar-collapse collapse" id="navbar-wrapper">
			<ul class="nav navbar-nav" id="menu">
				
<li class="dropdown">
  <a class="dropdown-toggle" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    Modules <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" id="modules-menu">
        <li>
            <a href="CMake-module.html">CMake</a>
        </li>
        <li>
            <a href="Cuda-module.html">CUDA</a>
        </li>
        <li>
            <a href="Dlang-module.html">Dlang</a>
        </li>
        <li>
            <a href="External-Project-module.html">External Project</a>
        </li>
        <li>
            <a href="Fs-module.html">Filesystem</a>
        </li>
        <li>
            <a href="Gnome-module.html">GNOME</a>
        </li>
        <li>
            <a href="Hotdoc-module.html">Hotdoc</a>
        </li>
        <li>
            <a href="i18n-module.html">i18n</a>
        </li>
        <li>
            <a href="Icestorm-module.html">Icestorm</a>
        </li>
        <li>
            <a href="Java-module.html">Java</a>
        </li>
        <li>
            <a href="Keyval-module.html">Keyval</a>
        </li>
        <li>
            <a href="Pkgconfig-module.html">Pkgconfig</a>
        </li>
        <li>
            <a href="Python-3-module.html">Python 3</a>
        </li>
        <li>
            <a href="Python-module.html">Python</a>
        </li>
        <li>
            <a href="Qt4-module.html">Qt4</a>
        </li>
        <li>
            <a href="Qt5-module.html">Qt5</a>
        </li>
        <li>
            <a href="Qt6-module.html">Qt6</a>
        </li>
        <li>
            <a href="Rust-module.html">Rust</a>
        </li>
        <li>
            <a href="Simd-module.html">Simd</a>
        </li>
        <li>
            <a href="SourceSet-module.html">SourceSet</a>
        </li>
        <li>
            <a href="Wayland-module.html">Wayland</a>
        </li>
        <li>
            <a href="Windows-module.html">Windows</a>
        </li>
	</ul>
</li>
<li class="dropdown">
	<a class="dropdown-toggle" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
		Quick References <span class="caret"></span>
	</a>
	<ul class="dropdown-menu" id="quick-refs-menu">
					<li>
				<a href="Reference-manual.html">Functions</a>
			</li>
					<li>
				<a href="Build-options.html">Options</a>
			</li>
					<li>
				<a href="Configuration.html">Configuration</a>
			</li>
					<li>
				<a href="Dependencies.html">Dependencies</a>
			</li>
					<li>
				<a href="Unit-tests.html">Tests</a>
			</li>
					<li>
				<a href="Syntax.html">Syntax</a>
			</li>
			</ul>
</li>
			</ul>
			<div class="hidden-xs hidden-sm navbar-text navbar-center">
				<p><b>The Meson Build System</b></p>
			</div>
		</div>
	</div>
</nav>

<main>
<div data-extension="core" data-hotdoc-in-toplevel="True" data-hotdoc-project="Meson-documentation" data-hotdoc-ref="Release-notes-for-1-2-0.html" class="page_container" id="page-wrapper">
<script src="assets/js/utils.js"></script>

<div class="panel panel-collapse oc-collapsed" id="sidenav" data-hotdoc-role="navigation">
	<script src="assets/js/full-width.js"></script>
  <div id="sitenav-wrapper">
    <iframe src="hotdoc-sitemap.html" id="sitenav-frame"></iframe>
  </div>
</div>

<div id="body">
	<div id="main">
				    <div id="page-description" data-hotdoc-role="main">
        <h1 id="new-features">New features</h1>
<p>Meson 1.2.0 was released on 17 July 2023</p>
<h2 id="added-metrowerks-cc-toolchains">Added Metrowerks C/C++ toolchains</h2>
<p>Added support for the Metrowerks Embedded ARM and Metrowerks Embedded PowerPC toolchains (https://www.nxp.com/docs/en/reference-manual/CWMCUKINCMPREF.pdf).</p>
<p>The implementation is somewhat experimental. It has been tested on a few projects and works fairly well, but may have issues.</p>
<h2 id="added-strsplitlines-method">Added str.splitlines method</h2>
<p><a href="Reference-manual_elementary_str.html#strsplitlines"><ins><code>str.splitlines()</code></ins></a> can now be used to split a string into an array of lines.</p>
<h2 id="generatorprocessgeneratorprocess"><code>generator.process(generator.process(...))</code></h2>
<p>Added support for code like this:</p>
<pre><code class="language-meson">gen1 = generator(...)
gen2 = generator(...)
gen2.process(gen1.process('input.txt'))
</code></pre>
<h2 id="extra-files-keyword-in-declare_dependency">Extra files keyword in <code>declare_dependency</code>
</h2>
<p><code>declare_dependency</code> have a new <code>extra_files</code> keyword,
to add extra files to a target. It is used mostly for IDE integration.</p>
<h2 id="added-a-new-genvslite-option-for-use-with-meson-setup-">Added a new '--genvslite' option for use with 'meson setup ...'</h2>
<p>To facilitate a more usual visual studio work-flow of supporting and switching between
multiple build configurations (buildtypes) within the same solution, among other
<a href="https://github.com/mesonbuild/meson/pull/11049">reasons</a>, use of this new option
has the effect of setting up multiple ninja back-end-configured build directories,
named with their respective buildtype suffix.  E.g. 'somebuilddir_debug',
'somebuilddir_release', etc. as well as a '_vs'-suffixed directory that contains the
generated multi-buildtype solution.  Building/cleaning/rebuilding in the solution
now launches the meson build (compile) of the corresponding buildtype-suffixed build
directory, instead of using Visual Studio's native engine.</p>
<h2 id="gnomegenerate_gir-now-supports-env-kwarg">
<code>gnome.generate_gir()</code> now supports <code>env</code> kwarg</h2>
<p><code>gnome.generate_gir()</code> now accepts the <code>env</code> kwarg which lets you set environment variables.</p>
<h2 id="more-data-in-introspection-files">More data in introspection files</h2>
<ul>
<li>Used compilers are listed in <code>intro-compilers.json</code>
</li>
<li>Information about <code>host</code>, <code>build</code> and <code>target</code> machines
are lister in <code>intro-machines.json</code>
</li>
<li>
<code>intro-dependencies.json</code> now includes internal dependencies,
and relations between dependencies.</li>
<li>
<code>intro-targets.json</code> now includes dependencies, <code>vs_module_defs</code>,
<code>win_subsystem</code>, and linker parameters.</li>
</ul>
<h2 id="machine-objects-get-kernel-and-subsystem-properties">Machine objects get <code>kernel</code> and <code>subsystem</code> properties</h2>
<p>Meson has traditionally provided a <code>system</code> property to detect the
system being run on. However this is not enough to reliably
differentiate between e.g. an iOS platform from a watchOS one. Two new
properties, namely <code>kernel</code> and <code>subsystem</code> have been added so these
setups can be reliably detected.</p>
<p>These new properties are not necessary in cross files for now, but if
they are not defined and a build file tries to access them, Meson will
exit with a hard error. It is expected that at some point in the
future defining the new properties will become mandatory.</p>
<h2 id="default_options-and-override_options-may-now-be-dictionaries">default_options and override_options may now be dictionaries</h2>
<p>Instead of passing them as <code>default_options : ['key=value']</code>, they can now be
passed as <code>default_options : {'key': 'value'}</code>, and the same for
<code>override_options</code>.</p>
<h2 id="new-override-of-find_programmeson">New override of <code>find_program('meson')</code>
</h2>
<p>In some cases, it has been useful for build scripts to access the Meson command
used to invoke the build script. This has led to various ad-hoc solutions that
can be very brittle and project-specific.</p>
<pre><code class="language-meson">meson_prog = find_program('meson')
</code></pre>
<p>This call will supply the build script with an external program pointing at the
invoked Meson.</p>
<p>Because Meson also uses <code>find_program</code> for program lookups internally, this
override will also be handled in cases similar to the following:</p>
<pre><code class="language-meson">custom_target(
  # ...
  command: [
    'meson',
  ],
  # ...
)

run_command(
  'meson',
  # ...
)

run_target(
  'tgt',
  command: [
    'meson',
    # ...
  ]
)
</code></pre>
<h2 id="find-more-specific-python-version-on-windows">Find more specific python version on Windows</h2>
<p>You can now use <code>python3.x</code>, where <code>x</code> is the minor version,
to find a more specific version of python on Windows, when
using the python module. On other platforms, it was already
working as <code>python3.x</code> is the executable name.</p>
<h2 id="python-module-can-now-compile-bytecode">Python module can now compile bytecode</h2>
<p>A new builtin option is available: <code>-Dpython.bytecompile=2</code>. It can be used to
compile bytecode for all pure python files installed via the python module.</p>
<h2 id="rustbindgen-allows-passing-extra-arguments-to-rustc">rust.bindgen allows passing extra arguments to rustc</h2>
<p>This may be necessary to pass extra <code>cfg</code>s or to change warning levels.</p>
<h2 id="support-for-defining-crate-names-of-rust-dependencies-in-rust-targets">Support for defining crate names of Rust dependencies in Rust targets</h2>
<p>Rust supports defining a different crate name for a dependency than what the
actual crate name during compilation of that dependency was.</p>
<p>This allows using multiple versions of the same crate at once, or simply using
a shorter name of the crate for convenience.</p>
<pre><code class="language-meson">a_dep = dependency('some-very-long-name')

my_executable = executable('my-executable', 'src/main.rs',
  rust_dependency_map : {
    'some_very_long_name' : 'a',
  },
  dependencies : [a_dep],
)
</code></pre>
<h2 id="a-machine-file-may-be-used-to-pass-extra-arguments-to-clang-in-a-bindgen-call">A machine file may be used to pass extra arguments to clang in a bindgen call</h2>
<p>Because of the way that bindgen proxies arguments to clang the only choice to
add extra arguments currently is to wrap bindgen in a script, since the
arguments must come after a <code>--</code>. This is inelegant, and not very portable. Now
a <code>bindgen_clang_arguments</code> field may be placed in the machine file for the host
machine, and these arguments will be added to every bindgen call for clang. This
is intended to be useful for things like injecting <code>--target</code> arguments.</p>
<h2 id="add-a-link_with-keyword-to-rusttest">Add a <code>link_with</code> keyword to <code>rust.test()</code>
</h2>
<p>This can already be be worked around by creating <code>declare_dependency()</code> objects
to pass to the <code>dependencies</code> keyword, but this cuts out the middle man.</p>
<h2 id="rust-now-supports-the-b_ndebug-option">Rust now supports the b_ndebug option</h2>
<p>Which controls the <code>debug_assertions</code> cfg, which in turn controls
<code>debug_assert!()</code> macro. This macro is roughly equivalent to C's <code>assert()</code>, as
it can be toggled with command line options, unlike Rust's <code>assert!()</code>, which
cannot be turned off, and is not designed to be.</p>
<h2 id="wildcards-in-list-of-tests-to-run">Wildcards in list of tests to run</h2>
<p>The <code>meson test</code> command now accepts wildcards in the list of test names.
For example <code>meson test basic*</code> will run all tests whose name begins
with "basic".</p>
<p>meson will report an error if the given test name does not match any
existing test. meson will log a warning if two redundant test names
are given (for example if you give both "proj:basic" and "proj:").</p>
<h2 id="new-for-the-generation-of-visual-studio-vcxproj-projects">New for the generation of Visual Studio vcxproj projects</h2>
<p>When vcxproj is generated, another file vcxproj.filters is generated in parallel.
It enables to set a hierarchy of the files inside the solution following their place on filesystem.</p>

    </div>
        




		
	</div>
	<div id="search_results">
		<p>The results of the search are</p>
	</div>
	<div id="footer">
		    
        
<hr>

<div class="license-description">
    Website licensing information are available on the <a href="legal.html">Legal</a> page.
</div>


	</div>
</div>

<div id="toc-column">
	
		<div class="edit-button">
		<a href="https://github.com/mesonbuild/meson/edit/master/docs/markdown/Release-notes-for-1.2.0.md" data-hotdoc-role="edit-button">Edit on GitHub</a>

	</div>
		<div id="toc-wrapper">
		<nav id="toc"></nav>
	</div>
</div>
</div>
</main>


<script src="assets/js/navbar_offset_scroller.js"></script>
</body>
</html>
