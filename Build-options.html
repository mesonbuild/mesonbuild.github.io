<!DOCTYPE html>
<html lang="en">
<head>

<base href=".">

<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">


<title>Build options</title>

<link rel="stylesheet" href="assets/css/dark-frontend.css" type="text/css" title="dark">
<link rel="alternate stylesheet" href="assets/css/light-frontend.css" type="text/css" title="light">
<link rel="stylesheet" href="assets/css/bootstrap-toc.min.css" type="text/css">
<link rel="stylesheet" href="assets/css/jquery.mCustomScrollbar.min.css">
<link rel="stylesheet" href="assets/js/search/enable_search.css" type="text/css">


<link rel="stylesheet" href="assets/css/prism-tomorrow.css" type="text/css" title="dark">

<link rel="alternate stylesheet" href="assets/css/prism.css" type="text/css" title="light">

<script src="assets/js/mustache.min.js"></script>
<script src="assets/js/jquery.js"></script>
<script src="assets/js/bootstrap.js"></script>
<script src="assets/js/scrollspy.js"></script>
<script src="assets/js/typeahead.jquery.min.js"></script>
<script src="assets/js/search.js"></script>
<script src="assets/js/compare-versions.js"></script>
<script src="assets/js/jquery.mCustomScrollbar.concat.min.js"></script>
<script src="assets/js/bootstrap-toc.min.js"></script>
<script src="assets/js/jquery.touchSwipe.min.js"></script>
<script src="assets/js/anchor.min.js"></script>
<script src="assets/js/tag_filtering.js"></script>
<script src="assets/js/language_switching.js"></script>
<script src="assets/js/styleswitcher.js"></script>

<script src="assets/js/lines_around_headings.js"></script>

<script src="assets/js/prism-core.js"></script>
<script src="assets/js/prism-autoloader.js"></script>
<script src="assets/js/prism_autoloader_path_override.js"></script>
<script src="assets/js/prism-keep-markup.js"></script>
<script src="assets/js/trie.js"></script>

<link rel="icon" type="image/png" href="assets/images/favicon.png">
<link rel="shortcut icon" href="assets/images/favicon.png">

</head>

<body class="no-script
">

<script>
$('body').removeClass('no-script');
</script>

<nav class="navbar navbar-fixed-top navbar-default" id="topnav">
	<div class="container-fluid">
		<div class="navbar-right">
			<a id="toc-toggle">
				<span class="glyphicon glyphicon-menu-right"></span>
				<span class="glyphicon glyphicon-menu-left"></span>
			</a>
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-wrapper" aria-expanded="false">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<span title="light mode switch" class="glyphicon glyphicon-sunglasses pull-right" id="lightmode-icon"></span>
			<form class="navbar-form pull-right" id="navbar-search-form">
                               <div class="form-group has-feedback">
                                       <input type="text" class="form-control input-sm" name="search" id="sidenav-lookup-field" placeholder="search" disabled>
				       <span class="glyphicon glyphicon-search form-control-feedback" id="search-mgn-glass"></span>
                               </div>
                        </form>
		</div>
		<div class="navbar-header">
			<a id="sidenav-toggle">
				<span class="glyphicon glyphicon-menu-right"></span>
				<span class="glyphicon glyphicon-menu-left"></span>
			</a>
			<a id="home-link" href="index.html" class="hotdoc-navbar-brand">
				<img src="assets/images/meson_logo.png" alt="Home">
			</a>
		</div>
		<div class="navbar-collapse collapse" id="navbar-wrapper">
			<ul class="nav navbar-nav" id="menu">
				
<li class="dropdown">
  <a class="dropdown-toggle" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    Modules <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" id="modules-menu">
        <li>
            <a href="CMake-module.html">CMake</a>
        </li>
        <li>
            <a href="Cuda-module.html">CUDA</a>
        </li>
        <li>
            <a href="Dlang-module.html">Dlang</a>
        </li>
        <li>
            <a href="External-Project-module.html">External Project</a>
        </li>
        <li>
            <a href="Fs-module.html">Filesystem</a>
        </li>
        <li>
            <a href="Gnome-module.html">GNOME</a>
        </li>
        <li>
            <a href="Hotdoc-module.html">Hotdoc</a>
        </li>
        <li>
            <a href="i18n-module.html">i18n</a>
        </li>
        <li>
            <a href="Icestorm-module.html">Icestorm</a>
        </li>
        <li>
            <a href="Java-module.html">Java</a>
        </li>
        <li>
            <a href="Keyval-module.html">Keyval</a>
        </li>
        <li>
            <a href="Pkgconfig-module.html">Pkgconfig</a>
        </li>
        <li>
            <a href="Python-3-module.html">Python 3</a>
        </li>
        <li>
            <a href="Python-module.html">Python</a>
        </li>
        <li>
            <a href="Qt4-module.html">Qt4</a>
        </li>
        <li>
            <a href="Qt5-module.html">Qt5</a>
        </li>
        <li>
            <a href="Qt6-module.html">Qt6</a>
        </li>
        <li>
            <a href="Rust-module.html">Rust</a>
        </li>
        <li>
            <a href="Simd-module.html">Simd</a>
        </li>
        <li>
            <a href="SourceSet-module.html">SourceSet</a>
        </li>
        <li>
            <a href="Wayland-module.html">Wayland</a>
        </li>
        <li>
            <a href="Windows-module.html">Windows</a>
        </li>
	</ul>
</li>
<li class="dropdown">
	<a class="dropdown-toggle" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
		Quick References <span class="caret"></span>
	</a>
	<ul class="dropdown-menu" id="quick-refs-menu">
					<li>
				<a href="Reference-manual.html">Functions</a>
			</li>
					<li>
				<a href="Build-options.html">Options</a>
			</li>
					<li>
				<a href="Configuration.html">Configuration</a>
			</li>
					<li>
				<a href="Dependencies.html">Dependencies</a>
			</li>
					<li>
				<a href="Unit-tests.html">Tests</a>
			</li>
					<li>
				<a href="Syntax.html">Syntax</a>
			</li>
			</ul>
</li>
			</ul>
			<div class="hidden-xs hidden-sm navbar-text navbar-center">
				<p><b>The Meson Build System</b></p>
			</div>
		</div>
	</div>
</nav>

<main>
<div data-extension="core" data-hotdoc-in-toplevel="True" data-hotdoc-project="Meson-documentation" data-hotdoc-ref="Build-options.html" class="page_container" id="page-wrapper">
<script src="assets/js/utils.js"></script>

<div class="panel panel-collapse oc-collapsed" id="sidenav" data-hotdoc-role="navigation">
	<script src="assets/js/full-width.js"></script>
  <div id="sitenav-wrapper">
    <iframe src="hotdoc-sitemap.html" id="sitenav-frame"></iframe>
  </div>
</div>

<div id="body">
	<div id="main">
				    <div id="page-description" data-hotdoc-role="main">
        <h1 id="build-options">Build options</h1>
<p>Most non-trivial builds require user-settable options. As an example a
program may have two different data backends that are selectable at
build time. Meson provides for this by having a option definition
file. Its name is <code>meson.options</code> and it is placed at the root of
your source tree. For versions of meson before 1.1, this file was called
<code>meson_options.txt</code>.</p>
<p>Here is a simple option file.</p>
<pre><code class="language-meson">option('someoption', type : 'string', value : 'optval', description : 'An option')
option('other_one', type : 'boolean', value : false)
option('combo_opt', type : 'combo', choices : ['one', 'two', 'three'], value : 'three')
option('integer_opt', type : 'integer', min : 0, max : 5, value : 3) # Since 0.45.0
option('free_array_opt', type : 'array', value : ['one', 'two'])  # Since 0.44.0
option('array_opt', type : 'array', choices : ['one', 'two', 'three'], value : ['one', 'two'])
option('some_feature', type : 'feature', value : 'enabled')  # Since 0.47.0
option('long_desc', type : 'string', value : 'optval',
       description : 'An option with a very long description' +
                     'that does something in a specific context') # Since 0.55.0
</code></pre>
<p>For built-in options, see <a href="https://mesonbuild.com/Builtin-options.html">Built-in options</a>.</p>
<h2 id="build-option-types">Build option types</h2>
<p>All types allow a <code>description</code> value to be set describing the option,
if no description is set then the name of the option will be used instead.</p>
<h3 id="strings">Strings</h3>
<p>The string type is a free form string. If the default value is not set
then an empty string will be used as the default.</p>
<h3 id="booleans">Booleans</h3>
<p>Booleans may have values of either <code>true</code> or <code>false</code>. If no default
value is supplied then <code>true</code> will be used as the default.</p>
<h3 id="combos">Combos</h3>
<p>A combo allows any one of the values in the <code>choices</code> parameter to be
selected.  If no default value is set then the first value will be the
default.</p>
<h3 id="integers">Integers</h3>
<p>An integer option contains a single integer with optional upper and
lower values that are specified with the <code>min</code> and <code>max</code> keyword
arguments.</p>
<p>This type is available since Meson version 0.45.0.</p>
<h3 id="arrays">Arrays</h3>
<p>Arrays represent an array of strings. By default the array can contain
arbitrary strings. To limit the possible values that can used set the
<code>choices</code> parameter. Meson will then only allow the value array to
contain strings that are in the given list. The array may be
empty. The <code>value</code> parameter specifies the default value of the option
and if it is unset then the values of <code>choices</code> will be used as the
default.</p>
<p>As of 0.47.0 -Dopt= and -Dopt=[] both pass an empty list, before this
-Dopt= would pass a list with an empty string.</p>
<p>This type is available since version 0.44.0</p>
<h3 id="features">Features</h3>
<p>A <code>feature</code> option has three states: <code>enabled</code>, <code>disabled</code> or <code>auto</code>.
It is intended to be passed as value for the <code>required</code> keyword
argument of most functions. Currently supported in
<a href="Reference-manual_functions.html#add_languages"><ins><code>add_languages()</code></ins></a>,
<a href="Reference-manual_returned_compiler.html#compilerfind_library"><ins><code>compiler.find_library()</code></ins></a>,
<a href="Reference-manual_returned_compiler.html#compilerhas_header"><ins><code>compiler.has_header()</code></ins></a>,
<a href="Reference-manual_functions.html#dependency"><ins><code>dependency()</code></ins></a>,
<a href="Reference-manual_functions.html#find_program"><ins><code>find_program()</code></ins></a>,
<a href="Reference-manual_functions.html#import"><ins><code>import()</code></ins></a> and
<a href="Reference-manual_functions.html#subproject"><ins><code>subproject()</code></ins></a>
functions.</p>
<ul>
<li>
<code>enabled</code> is the same as passing <code>required : true</code>.</li>
<li>
<code>auto</code> is the same as passing <code>required : false</code>.</li>
<li>
<code>disabled</code> do not look for the dependency and always return 'not-found'.</li>
</ul>
<p>When getting the value of this type of option using <a href="Reference-manual_functions.html#get_option"><ins><code>get_option()</code></ins></a>, a
special <a href="Reference-manual_returned_feature.html"><ins><code>feature</code></ins></a> object is returned instead
of the string representation of the option's value. This object can be
passed to <code>required</code>:</p>
<pre><code class="language-meson">d = dependency('foo', required : get_option('myfeature'))
if d.found()
  app = executable('myapp', 'main.c', dependencies : [d])
endif
</code></pre>
<p>To check the value of the feature, the object has three methods
returning a boolean and taking no argument:</p>
<ul>
<li><code>.enabled()</code></li>
<li><code>.disabled()</code></li>
<li><code>.auto()</code></li>
</ul>
<p>This is useful for custom code depending on the feature:</p>
<pre><code class="language-meson">if get_option('myfeature').enabled()
  # ...
endif
</code></pre>
<p>If the value of a <code>feature</code> option is set to <code>auto</code>, that value is
overridden by the global <code>auto_features</code> option (which defaults to
<code>auto</code>). This is intended to be used by packagers who want to have
full control on which dependencies are required and which are
disabled, and not rely on build-deps being installed (at the right
version) to get a feature enabled. They could set
<code>auto_features=enabled</code> to enable all features and disable explicitly
only the few they don't want, if any.</p>
<p>This type is available since version 0.47.0</p>
<h2 id="deprecated-options">Deprecated options</h2>
<p>Since <em>0.60.0</em></p>
<p>Project options can be marked as deprecated and Meson will warn when user sets a
value to it. It is also possible to deprecate only some of the choices, and map
deprecated values to a new value.</p>
<pre><code class="language-meson"># Option fully deprecated, it warns when any value is set.
option('o1', type: 'boolean', deprecated: true)

# One of the choices is deprecated, it warns only when 'a' is in the list of values.
option('o2', type: 'array', choices: ['a', 'b'], deprecated: ['a'])

# One of the choices is deprecated, it warns only when 'a' is in the list of values
# and replace it by 'c'.
option('o3', type: 'array', choices: ['a', 'b', 'c'], deprecated: {'a': 'c'})

# A boolean option has been replaced by a feature, old true/false values are remapped.
option('o4', type: 'feature', deprecated: {'true': 'enabled', 'false': 'disabled'})

# A feature option has been replaced by a boolean, enabled/disabled/auto values are remapped.
option('o5', type: 'boolean', deprecated: {'enabled': 'true', 'disabled': 'false', 'auto': 'false'})
</code></pre>
<p>Since <em>0.63.0</em> the <code>deprecated</code> keyword argument can take the name of a new option
that replace this option. In that case, setting a value on the deprecated option
will set the value on both the old and new names, assuming they accept the same
values.</p>
<pre><code class="language-meson"># A boolean option has been replaced by a feature with another name, old true/false values
# are accepted by the new option for backward compatibility.
option('o6', type: 'boolean', value: 'true', deprecated: 'o7')
option('o7', type: 'feature', value: 'enabled', deprecated: {'true': 'enabled', 'false': 'disabled'})

# A project option is replaced by a module option
option('o8', type: 'string', value: '', deprecated: 'python.platlibdir')
</code></pre>
<h2 id="using-build-options">Using build options</h2>
<pre><code class="language-meson">optval = get_option('opt_name')
</code></pre>
<p>This function also allows you to query the value of Meson's built-in
project options. For example, to get the installation prefix you would
issue the following command:</p>
<pre><code class="language-meson">prefix = get_option('prefix')
</code></pre>
<p>It should be noted that you cannot set option values in your Meson
scripts. They have to be set externally with the <code>meson configure</code>
command line tool. Running <code>meson configure</code> without arguments in a
build dir shows you all options you can set.</p>
<p>To change their values use the <code>-D</code>
option:</p>
<pre><code class="language-console">$ meson configure -Doption=newvalue
</code></pre>
<p>Setting the value of arrays is a bit special. If you only pass a
single string, then it is considered to have all values separated by
commas. Thus invoking the following command:</p>
<pre><code class="language-console">$ meson configure -Darray_opt=foo,bar
</code></pre>
<p>would set the value to an array of two elements, <code>foo</code> and <code>bar</code>.</p>
<p>If you need to have commas in your string values, then you need to
pass the value with proper shell quoting like this:</p>
<pre><code class="language-console">$ meson configure "-Doption=['a,b', 'c,d']"
</code></pre>
<p>The inner values must always be single quotes and the outer ones
double quotes.</p>
<p>To change values in subprojects prepend the name of the subproject and
a colon:</p>
<pre><code class="language-console">$ meson configure -Dsubproject:option=newvalue
</code></pre>
<p><strong>NOTE:</strong> If you cannot call <code>meson configure</code> you likely have a old
version of Meson. In that case you can call <code>mesonconf</code> instead, but
that is deprecated in newer versions</p>
<h2 id="yielding-to-superproject-option">Yielding to superproject option</h2>
<p>Suppose you have a master project and a subproject. In some cases it
might be useful to have an option that has the same value in both of
them. This can be achieved with the <code>yield</code> keyword. Suppose you have
an option definition like this:</p>
<pre><code class="language-meson">option('some_option', type : 'string', value : 'value', yield : true)
</code></pre>
<p>If you build this project on its own, this option behaves like
usual. However if you build this project as a subproject of another
project which also has an option called <code>some_option</code>, then calling
<code>get_option</code> returns the value of the superproject. If the value of
<code>yield</code> is <code>false</code>, <code>get_option</code> returns the value of the subproject's
option.</p>
<h2 id="builtin-build-options">Built-in build options</h2>
<p>There are a number of <a href="https://mesonbuild.com/Builtin-options.html">built-in options</a>. To get the
current list execute <code>meson configure</code> in the build directory.</p>
<h3 id="visual-studio">Visual Studio</h3>
<h4 id="startup-project">Startup project</h4>
<p>The <code>backend_startup_project</code> option can be set to define the default
project that will be executed with the "Start debugging F5" action in
visual studio. It should be the same name as an executable target
name.</p>
<pre><code class="language-meson">project('my_project', 'c', default_options: ['backend_startup_project=my_exe'])
executable('my_exe', ...)
</code></pre>
<h3 id="ninja">Ninja</h3>
<h4 id="max-links">Max links</h4>
<p>The <code>backend_max_links</code> can be set to limit the number of processes
that ninja will use to link.</p>

    </div>
        




		
	</div>
	<div id="search_results">
		<p>The results of the search are</p>
	</div>
	<div id="footer">
		    
        
<hr>

<div class="license-description">
    Website licensing information are available on the <a href="legal.html">Legal</a> page.
</div>


	</div>
</div>

<div id="toc-column">
	
		<div class="edit-button">
		<a href="https://github.com/mesonbuild/meson/edit/master/docs/markdown/Build-options.md" data-hotdoc-role="edit-button">Edit on GitHub</a>

	</div>
		<div id="toc-wrapper">
		<nav id="toc"></nav>
	</div>
</div>
</div>
</main>


<script src="assets/js/navbar_offset_scroller.js"></script>
</body>
</html>
