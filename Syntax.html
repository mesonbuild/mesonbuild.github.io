<!DOCTYPE html>
<html lang="en">
<head>

<base href=".">

<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">


<title>Syntax</title>

<link rel="stylesheet" href="assets/css/custom_bootstrap.css" type="text/css">
<link rel="stylesheet" href="assets/css/bootstrap-toc.min.css" type="text/css">
<link rel="stylesheet" href="assets/css/frontend.css" type="text/css">
<link rel="stylesheet" href="assets/css/jquery.mCustomScrollbar.min.css">
<link rel="stylesheet" href="assets/js/search/enable_search.css" type="text/css">

<link rel="stylesheet" href="assets/css/prism-tomorrow.css" type="text/css">

<script src="assets/js/mustache.min.js"></script>
<script src="assets/js/jquery.js"></script>
<script src="assets/js/bootstrap.js"></script>
<script src="assets/js/scrollspy.js"></script>
<script src="assets/js/typeahead.jquery.min.js"></script>
<script src="assets/js/search.js"></script>
<script src="assets/js/compare-versions.js"></script>
<script src="assets/js/jquery.mCustomScrollbar.concat.min.js"></script>
<script src="assets/js/bootstrap-toc.min.js"></script>
<script src="assets/js/jquery.touchSwipe.min.js"></script>
<script src="assets/js/anchor.min.js"></script>
<script src="assets/js/tag_filtering.js"></script>
<script src="assets/js/language_switching.js"></script>

<script src="assets/js/lines_around_headings.js"></script>

<script src="assets/js/prism-core.js"></script>
<script src="assets/js/prism-autoloader.js"></script>
<script src="assets/js/prism_autoloader_path_override.js"></script>
<script src="assets/js/prism-keep-markup.js"></script>
<script src="assets/js/trie.js"></script>

<link rel="icon" type="image/png" href="assets/images/favicon.png">
<link rel="shortcut icon" href="assets/images/favicon.png">

</head>

<body class="no-script
">

<script>
$('body').removeClass('no-script');
</script>

<nav class="navbar navbar-fixed-top navbar-default" id="topnav">
	<div class="container-fluid">
		<div class="navbar-right">
			<a id="toc-toggle">
				<span class="glyphicon glyphicon-menu-right"></span>
				<span class="glyphicon glyphicon-menu-left"></span>
			</a>
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-wrapper" aria-expanded="false">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<form class="navbar-form pull-right" id="navbar-search-form">
                               <div class="form-group has-feedback">
                                       <input type="text" class="form-control input-sm" name="search" id="sidenav-lookup-field" placeholder="search" disabled>
				       <span class="glyphicon glyphicon-search form-control-feedback" id="search-mgn-glass"></span>
                               </div>
                        </form>
		</div>
		<div class="navbar-header">
			<a id="sidenav-toggle">
				<span class="glyphicon glyphicon-menu-right"></span>
				<span class="glyphicon glyphicon-menu-left"></span>
			</a>
			<a id="home-link" href="index.html" class="hotdoc-navbar-brand">
				<img src="assets/images/meson_logo.png" alt="Home">
			</a>
		</div>
		<div class="navbar-collapse collapse" id="navbar-wrapper">
			<ul class="nav navbar-nav" id="menu">
				
<li class="dropdown">
  <a class="dropdown-toggle" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    Modules <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" id="modules-menu">
        <li>
            <a href="CMake-module.html">CMake</a>
        </li>
        <li>
            <a href="Cuda-module.html">CUDA</a>
        </li>
        <li>
            <a href="Dlang-module.html">Dlang</a>
        </li>
        <li>
            <a href="External-Project-module.html">External Project</a>
        </li>
        <li>
            <a href="Fs-module.html">Filesystem</a>
        </li>
        <li>
            <a href="Gnome-module.html">GNOME</a>
        </li>
        <li>
            <a href="Hotdoc-module.html">Hotdoc</a>
        </li>
        <li>
            <a href="i18n-module.html">i18n</a>
        </li>
        <li>
            <a href="Icestorm-module.html">Icestorm</a>
        </li>
        <li>
            <a href="Java-module.html">Java</a>
        </li>
        <li>
            <a href="Keyval-module.html">Keyval</a>
        </li>
        <li>
            <a href="Pkgconfig-module.html">Pkgconfig</a>
        </li>
        <li>
            <a href="Python-3-module.html">Python 3</a>
        </li>
        <li>
            <a href="Python-module.html">Python</a>
        </li>
        <li>
            <a href="Qt4-module.html">Qt4</a>
        </li>
        <li>
            <a href="Qt5-module.html">Qt5</a>
        </li>
        <li>
            <a href="Qt6-module.html">Qt6</a>
        </li>
        <li>
            <a href="Rust-module.html">Rust</a>
        </li>
        <li>
            <a href="Simd-module.html">Simd</a>
        </li>
        <li>
            <a href="SourceSet-module.html">SourceSet</a>
        </li>
        <li>
            <a href="Wayland-module.html">Wayland</a>
        </li>
        <li>
            <a href="Windows-module.html">Windows</a>
        </li>
	</ul>
</li>
<li class="dropdown">
	<a class="dropdown-toggle" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
		Quick References <span class="caret"></span>
	</a>
	<ul class="dropdown-menu" id="quick-refs-menu">
					<li>
				<a href="Reference-manual.html">Functions</a>
			</li>
					<li>
				<a href="Build-options.html">Options</a>
			</li>
					<li>
				<a href="Configuration.html">Configuration</a>
			</li>
					<li>
				<a href="Dependencies.html">Dependencies</a>
			</li>
					<li>
				<a href="Unit-tests.html">Tests</a>
			</li>
					<li>
				<a href="Syntax.html">Syntax</a>
			</li>
			</ul>
</li>
			</ul>
			<div class="hidden-xs hidden-sm navbar-text navbar-center">
				<p><b>The Meson Build System</b></p>
			</div>
		</div>
	</div>
</nav>

<main>
<div data-extension="core" data-hotdoc-in-toplevel="True" data-hotdoc-project="Meson-documentation" data-hotdoc-ref="Syntax.html" class="page_container" id="page-wrapper">
<script src="assets/js/utils.js"></script>

<div class="panel panel-collapse oc-collapsed" id="sidenav" data-hotdoc-role="navigation">
	<script src="assets/js/navigation.js"></script>
	<script src="assets/js/sitemap.js"></script>
</div>

<div id="body">
	<div id="main">
				    <div id="page-description" data-hotdoc-role="main">
        <h1 id="syntax">Syntax</h1>
<p>The syntax of Meson's specification language has been kept as simple
as possible. It is <em>strongly typed</em> so no object is ever converted to
another under the covers. Variables have no visible type which makes
Meson <em>dynamically typed</em> (also known as <em>duck typed</em>).</p>
<p>The main building blocks of the language are <em>variables</em>, <em>numbers</em>,
<em>booleans</em>, <em>strings</em>, <em>arrays</em>, <em>function calls</em>, <em>method calls</em>, <em>if
statements</em> and <em>includes</em>.</p>
<p>Usually one Meson statement takes just one line. There is no way to
have multiple statements on one line as in e.g. <em>C</em>. Function and
method calls' argument lists can be split over multiple lines. Meson
will autodetect this case and do the right thing.</p>
<p>In other cases, <em>(added 0.50)</em> you can get multi-line statements by
ending the line with a <code>\</code>. Apart from line ending whitespace has no
syntactic meaning.</p>
<h2 id="variables">Variables</h2>
<p>Variables in Meson work just like in other high level programming
languages. A variable can contain a value of any type, such as an
integer or a string. Variables don't need to be predeclared, you can
just assign to them and they appear. Here's how you would assign
values to two different variables.</p>
<pre><code class="language-meson">var1 = 'hello'
var2 = 102
</code></pre>
<p>One important difference in how variables work in Meson is that all
objects are immutable. When you see an operation which appears like
a mutation, actually a new object is created and assigned to the
name. This is different from, for example, how Python works for
objects, but similar to e.g. Python strings.</p>
<pre><code class="language-meson">var1 = [1, 2, 3]
var2 = var1
var2 += [4]
# var2 is now [1, 2, 3, 4]
# var1 is still [1, 2, 3]
</code></pre>
<h2 id="numbers">Numbers</h2>
<p>Meson supports only integer numbers. They are declared simply by
writing them out. Basic arithmetic operations are supported.</p>
<pre><code class="language-meson">x = 1 + 2
y = 3 * 4
d = 5 % 3 # Yields 2.
</code></pre>
<p>Hexadecimal literals are supported since version 0.45.0:</p>
<pre><code class="language-meson">int_255 = 0xFF
</code></pre>
<p>Octal and binary literals are supported since version 0.47.0:</p>
<pre><code class="language-meson">int_493 = 0o755
int_1365 = 0b10101010101
</code></pre>
<p>Strings can be converted to a number like this:</p>
<pre><code class="language-meson">string_var = '42'
num = string_var.to_int()
</code></pre>
<p>Numbers can be converted to a string:</p>
<pre><code class="language-meson">int_var = 42
string_var = int_var.to_string()
</code></pre>
<h2 id="booleans">Booleans</h2>
<p>A boolean is either <code>true</code> or <code>false</code>.</p>
<pre><code class="language-meson">truth = true
</code></pre>
<p>Booleans can be converted to a string or to a number:</p>
<pre><code class="language-meson">bool_var = true
string_var = bool_var.to_string()
int_var = bool_var.to_int()
</code></pre>
<h2 id="strings">Strings</h2>
<p>Strings in Meson are declared with single quotes. To enter a literal
single quote do it like this:</p>
<pre><code class="language-meson">single quote = 'contains a \' character'
</code></pre>
<p>The full list of escape sequences is:</p>
<ul>
<li>
<code>\\</code> Backslash</li>
<li>
<code>\'</code> Single quote</li>
<li>
<code>\a</code> Bell</li>
<li>
<code>\b</code> Backspace</li>
<li>
<code>\f</code> Formfeed</li>
<li>
<code>\n</code> Newline</li>
<li>
<code>\r</code> Carriage Return</li>
<li>
<code>\t</code> Horizontal Tab</li>
<li>
<code>\v</code> Vertical Tab</li>
<li>
<code>\ooo</code> Character with octal value ooo</li>
<li>
<code>\xhh</code> Character with hex value hh</li>
<li>
<code>\uxxxx</code> Character with 16-bit hex value xxxx</li>
<li>
<code>\Uxxxxxxxx</code> Character with 32-bit hex value xxxxxxxx</li>
<li>
<code>\N{name}</code> Character named name in Unicode database</li>
</ul>
<p>As in python and C, up to three octal digits are accepted in <code>\ooo</code>.</p>
<p>Unrecognized escape sequences are left in the string unchanged, i.e., the
backslash is left in the string.</p>
<h3 id="string-concatenation">String concatenation</h3>
<p>Strings can be concatenated to form a new string using the <code>+</code> symbol.</p>
<pre><code class="language-meson">str1 = 'abc'
str2 = 'xyz'
combined = str1 + '_' + str2 # combined is now abc_xyz
</code></pre>
<h3 id="string-path-building">String path building</h3>
<p><em>(Added 0.49)</em></p>
<p>You can concatenate any two strings using <code>/</code> as an operator to build paths.
This will always use <code>/</code> as the path separator on all platforms.</p>
<pre><code class="language-meson">joined = '/usr/share' / 'projectname'    # =&gt; /usr/share/projectname
joined = '/usr/local' / '/etc/name'      # =&gt; /etc/name

joined = 'C:\\foo\\bar' / 'builddir'     # =&gt; C:/foo/bar/builddir
joined = 'C:\\foo\\bar' / 'D:\\builddir' # =&gt; D:/builddir
</code></pre>
<p>Note that this is equivalent to using <a href="Reference-manual_functions.html#join_paths"><ins><code>join_paths()</code></ins></a>,
which was obsoleted by this operator.</p>
<h3 id="strings-running-over-multiple-lines">Strings running over multiple lines</h3>
<p>Strings running over multiple lines can be declared with three single
quotes, like this:</p>
<pre><code class="language-meson">multiline_string = '''#include &lt;foo.h&gt;
int main (int argc, char ** argv) {
  return FOO_SUCCESS;
}'''
</code></pre>
<p>These are raw strings that do not support the escape sequences listed
above.  These strings can also be combined with the string formatting
functionality described below.</p>
<h3 id="string-index">String index</h3>
<p>Strings support the indexing (<code>[&lt;num&gt;]</code>) operator. This operator allows (read
only) accessing a specific character. The returned value is guaranteed to be
a string of length 1.</p>
<pre><code class="language-meson">foo = 'abcd'
message(foo[1])  # Will print 'b'
foo[2] = 'C'     # ERROR: Meson objects are immutable!
</code></pre>
<h3 id="string-formatting">String formatting</h3>
<h4 id="format">.format()</h4>
<p>Strings can be built using the string formatting functionality.</p>
<pre><code class="language-meson">template = 'string: @0@, number: @1@, bool: @2@'
res = template.format('text', 1, true)
# res now has value 'string: text, number: 1, bool: true'
</code></pre>
<p>As can be seen, the formatting works by replacing placeholders of type
<code>@number@</code> with the corresponding argument.</p>
<h4 id="format-strings">Format strings</h4>
<p><em>(Added 0.58)</em></p>
<p>Format strings can be used as a non-positional alternative to the
string formatting functionality described above.</p>
<pre><code class="language-meson">n = 10
m = 'hi'

s = f'int: @n@, string: @m@'
# s now has the value 'int: 10, string: hi'
</code></pre>
<p>Currently only identity-expressions are supported inside of format
strings, meaning you cannot use arbitrary Meson expressions inside of them.</p>
<pre><code class="language-meson">n = 10
m = 5

# The following is not a valid format string
s = f'result: @n + m@'
</code></pre>
<h3 id="string-methods">String methods</h3>
<p>Strings also support a number of other methods that return transformed
copies.</p>
<h4 id="replace">.replace()</h4>
<p>Since 0.58.0, you can replace a substring from a string.</p>
<pre><code class="language-meson"># Replaces all instances of one substring with another
s = 'semicolons;as;separators'
s = s.replace('as', 'are')
# 's' now has the value of 'semicolons;are;separators'
</code></pre>
<h4 id="strip">.strip()</h4>
<pre><code class="language-meson"># Similar to the Python str.strip(). Removes leading/ending spaces and newlines
define = ' -Dsomedefine '
stripped_define = define.strip()
# 'stripped_define' now has the value '-Dsomedefine'

# You may also pass a string to strip, which specifies the set of characters to
# be removed.
string = 'xyxHelloxyx'.strip('xy')
# 'string' now has the value 'Hello'
</code></pre>
<p>Since 0.43.0, you can specify one positional string argument,
and all characters in that string will be stripped.</p>
<h4 id="to_upper-to_lower">.to_upper(), .to_lower()</h4>
<pre><code class="language-meson">target = 'x86_FreeBSD'
upper = target.to_upper() # t now has the value 'X86_FREEBSD'
lower = target.to_lower() # t now has the value 'x86_freebsd'
</code></pre>
<h4 id="to_int">.to_int()</h4>
<pre><code class="language-meson">version = '1'
# Converts the string to an int and throws an error if it can't be
ver_int = version.to_int()
</code></pre>
<h4 id="contains-startswith-endswith">.contains(), .startswith(), .endswith()</h4>
<pre><code class="language-meson">target = 'x86_FreeBSD'
is_fbsd = target.to_lower().contains('freebsd')
# is_fbsd now has the boolean value 'true'
is_x86 = target.startswith('x86') # boolean value 'true'
is_bsd = target.to_lower().endswith('bsd') # boolean value 'true'
</code></pre>
<h4 id="substring">.substring()</h4>
<p>Since 0.56.0, you can extract a substring from a string.</p>
<pre><code class="language-meson"># Similar to the Python str[start:end] syntax
target = 'x86_FreeBSD'
platform = target.substring(0, 3) # prefix string value 'x86'
system = target.substring(4) # suffix string value 'FreeBSD'
</code></pre>
<p>The method accepts negative values where negative <code>start</code> is relative to the end of
string <code>len(string) - start</code> as well as negative <code>end</code>.</p>
<pre><code class="language-meson">string = 'foobar'
string.substring(-5, -3) # =&gt; 'oo'
string.substring(1, -1) # =&gt; 'ooba'
</code></pre>
<h4 id="split-join">.split(), .join()</h4>
<pre><code class="language-meson"># Similar to the Python str.split()
components = 'a b   c d '.split()
# components now has the value ['a', 'b', 'c', 'd']
components = 'a b   c d '.split(' ')
# components now has the value ['a', 'b', '', '', 'c', 'd', '']

# Similar to the Python str.join()
output = ' '.join(['foo', 'bar'])
# Output value is 'foo bar'
pathsep = ':'
path = pathsep.join(['/usr/bin', '/bin', '/usr/local/bin'])
# path now has the value '/usr/bin:/bin:/usr/local/bin'

# For joining path elements, you should use path1 / path2
# This has the advantage of being cross-platform
path = '/usr' / 'local' / 'bin'
# path now has the value '/usr/local/bin'

# For sources files, use files():
my_sources = files('foo.c')
...
my_sources += files('bar.c')
# This has the advantage of always calculating the correct relative path, even
# if you add files in another directory or use them in a different directory
# than they're defined in

# Example to set an API version for use in library(), install_header(), etc
project('project', 'c', version: '0.2.3')
version_array = meson.project_version().split('.')
# version_array now has the value ['0', '2', '3']
api_version = '.'.join([version_array[0], version_array[1]])
# api_version now has the value '0.2'

# We can do the same with .format() too:
api_version = '@0@.@1@'.format(version_array[0], version_array[1])
# api_version now (again) has the value '0.2'
</code></pre>
<h4 id="underscorify">.underscorify()</h4>
<pre><code class="language-meson">name = 'Meson Docs.txt#Reference-manual'
# Replaces all characters other than `a-zA-Z0-9` with `_` (underscore)
# Useful for substituting into #defines, filenames, etc.
underscored = name.underscorify()
# underscored now has the value 'Meson_Docs_txt_Reference_manual'
</code></pre>
<h4 id="version_compare">.version_compare()</h4>
<pre><code class="language-meson">version = '1.2.3'
# Compare version numbers semantically
is_new = version.version_compare('&gt;=2.0')
# is_new now has the boolean value false
# Supports the following operators: '&gt;', '&lt;', '&gt;=', '&lt;=', '!=', '==', '='
</code></pre>
<p>Meson version comparison conventions include:</p>
<pre><code class="language-meson">'3.6'.version_compare('&gt;=3.6.0') == false
</code></pre>
<p>It is best to be unambiguous and specify the full revision level to compare.</p>
<h2 id="arrays">Arrays</h2>
<p>Arrays are delimited by brackets. An array can contain an arbitrary number of objects of any type.</p>
<pre><code class="language-meson">my_array = [1, 2, 'string', some_obj]
</code></pre>
<p>Accessing elements of an array can be done via array indexing:</p>
<pre><code class="language-meson">my_array = [1, 2, 'string', some_obj]
second_element = my_array[1]
last_element = my_array[-1]
</code></pre>
<p>You can add more items to an array like this:</p>
<pre><code class="language-meson">my_array += ['foo', 3, 4, another_obj]
</code></pre>
<p>When adding a single item, you do not need to enclose it in an array:</p>
<pre><code class="language-meson">my_array += ['something']
# This also works
my_array += 'else'
</code></pre>
<p>Note appending to an array will always create a new array object and
assign it to <code>my_array</code> instead of modifying the original since all
objects in Meson are immutable.</p>
<p>Since 0.49.0, you can check if an array contains an element like this:</p>
<pre><code class="language-meson">my_array = [1, 2]
if 1 in my_array
# This condition is true
endif
if 1 not in my_array
# This condition is false
endif
</code></pre>
<h3 id="array-methods">Array methods</h3>
<p>The following methods are defined for all arrays:</p>
<ul>
<li>
<code>length</code>, the size of the array</li>
<li>
<code>contains</code>, returns <code>true</code> if the array contains the object given as argument, <code>false</code> otherwise</li>
<li>
<code>get</code>, returns the object at the given index, negative indices count from the back of the array, indexing out of bounds is a fatal error. Provided for backwards-compatibility, it is identical to array indexing.</li>
</ul>
<h2 id="dictionaries">Dictionaries</h2>
<p>Dictionaries are delimited by curly braces. A dictionary can contain
an arbitrary number of key: value pairs. Keys are required to be
strings, but values can be objects of any type. Prior to <em>0.53.0</em> keys
were required to be literal strings, i.e., you could not use a
variable containing a string value as a key.</p>
<pre><code class="language-meson">my_dict = {'foo': 42, 'bar': 'baz'}
</code></pre>
<p>Keys must be unique:</p>
<pre><code class="language-meson"># This will fail
my_dict = {'foo': 42, 'foo': 43}
</code></pre>
<p>Dictionaries are immutable and do not have a guaranteed order.</p>
<p>Dictionaries are available since 0.47.0.</p>
<p>Visit the <a href="Reference-manual_elementary_dict.html"><ins><code>dict</code></ins></a> objects page in the Reference Manual to read
about the methods exposed by dictionaries.</p>
<p>Since 0.49.0, you can check if a dictionary contains a key like this:</p>
<pre><code class="language-meson">my_dict = {'foo': 42, 'bar': 43}
if 'foo' in my_dict
# This condition is true
endif
if 42 in my_dict
# This condition is false
endif
if 'foo' not in my_dict
# This condition is false
endif
</code></pre>
<p><em>Since 0.53.0</em> Keys can be any expression evaluating to a string
value, not limited to string literals any more.</p>
<pre><code class="language-meson">d = {'a' + 'b' : 42}
k = 'cd'
d += {k : 43}
</code></pre>
<h2 id="function-calls">Function calls</h2>
<p>Meson provides a set of usable functions. The most common use case is
creating build objects.</p>
<pre><code class="language-meson">executable('progname', 'prog.c')
</code></pre>
<p>Most functions take only few positional arguments but several keyword
arguments, which are specified like this:</p>
<pre><code class="language-meson">executable('progname',
  sources: 'prog.c',
  c_args: '-DFOO=1')
</code></pre>
<p>Starting with version 0.49.0 keyword arguments can be specified
dynamically. This is done by passing dictionary representing the
keywords to set in the <code>kwargs</code> keyword. The previous example would be
specified like this:</p>
<pre><code class="language-meson">d = {'sources': 'prog.c',
  'c_args': '-DFOO=1'}

executable('progname',
  kwargs: d)
</code></pre>
<p>A single function can take keyword arguments both directly in the
function call and indirectly via the <code>kwargs</code> keyword argument. The
only limitation is that it is a hard error to pass any particular key
both as a direct and indirect argument.</p>
<pre><code class="language-meson">d = {'c_args': '-DFOO'}
executable('progname', 'prog.c',
  c_args: '-DBAZ=1',
  kwargs: d) # This is an error!
</code></pre>
<p>Attempting to do this causes Meson to immediately exit with an error.</p>
<h3 id="argument-flattening">Argument flattening</h3>
<p>Argument flattening is a Meson feature that aims to simplify using
methods and functions. For functions where this feature is active,
Meson takes the list of arguments and flattens all nested lists into
one big list.</p>
<p>For instance the following function calls to <a href="Reference-manual_functions.html#executable"><ins><code>executable()</code></ins></a> are
identical in Meson:</p>
<pre><code class="language-meson"># A normal example:
executable('exe1', ['foo.c', 'bar.c', 'foobar.c'])

# A more contrived example that also works but certainly
# isn't good Meson code:
l1 = ['bar.c']
executable('exe1', [[['foo.c', l1]], ['foobar.c']])

# How meson will treat all the previous calls internally:
executable('exe1', 'foo.c', 'bar.c', 'foobar.c')
</code></pre>
<p>Because of an internal implementation detail, the following syntax
is currently also supported, even though the first argument of
<a href="Reference-manual_functions.html#executable"><ins><code>executable()</code></ins></a> is a single <a href="Reference-manual_elementary_str.html"><ins><code>str</code></ins></a> and not a <a href="Reference-manual_elementary_list.html"><ins><code>list</code></ins></a>:</p>
<pre><code class="language-meson"># WARNING: This example is only valid because of an internal
#          implementation detail and not because it is intended
#
#          PLEASE DO NOT DO SOMETHING LIKE THIS!
#
executable(['exe1', 'foo.c'], 'bar.c', 'foobar.c')
</code></pre>
<p>This code is currently accepted because argument flattening <em>currently</em>
happens before the parameters are evaluated. "Support" for
such constructs will likely be removed in future Meson releases!</p>
<p>Argument flattening is supported by <em>most</em> but not <em>all</em> Meson
functions and methods. As a general rule, it can be assumed that a
function or method supports argument flattening if the exact list
structure is irrelevant to a function.</p>
<p>Whether a function supports argument flattening is documented in the
<a href="Reference-manual.html">Reference Manual</a>.</p>
<h2 id="method-calls">Method calls</h2>
<p>Objects can have methods, which are called with the dot operator. The
exact methods it provides depends on the object.</p>
<pre><code class="language-meson">myobj = some_function()
myobj.do_something('now')
</code></pre>
<h2 id="if-statements">If statements</h2>
<p>If statements work just like in other languages.</p>
<pre><code class="language-meson">var1 = 1
var2 = 2
if var1 == var2 # Evaluates to false
  something_broke()
elif var3 == var2
  something_else_broke()
else
  everything_ok()
endif

opt = get_option('someoption')
if opt != 'foo'
  do_something()
endif
</code></pre>
<h2 id="logical-operations">Logical operations</h2>
<p>Meson has the standard range of logical operations which can be used in
<code>if</code> statements.</p>
<pre><code class="language-meson">if a and b
  # do something
endif
if c or d
  # do something
endif
if not e
  # do something
endif
if not (f or g)
  # do something
endif
</code></pre>
<p>Logical operations work only on boolean values.</p>
<h2 id="foreach-statements">Foreach statements</h2>
<p>To do an operation on all elements of an iterable, use the <code>foreach</code>
command.</p>
<blockquote>
<p>Note that Meson variables are immutable. Trying to assign a new value
to the iterated object inside a foreach loop will not affect foreach's
control flow.</p>
</blockquote>
<h3 id="foreach-with-an-array">Foreach with an array</h3>
<p>Here's an example of how you could define two executables
with corresponding tests using arrays and foreach.</p>
<pre><code class="language-meson">progs = [['prog1', ['prog1.c', 'foo.c']],
         ['prog2', ['prog2.c', 'bar.c']]]

foreach p : progs
  exe = executable(p[0], p[1])
  test(p[0], exe)
endforeach
</code></pre>
<h3 id="foreach-with-a-dictionary">Foreach with a dictionary</h3>
<p>Here's an example of you could iterate a set of components that
should be compiled in according to some configuration. This uses
a <a href="Syntax.html#dictionaries">dictionary</a>, which is available since 0.47.0.</p>
<pre><code class="language-meson">components = {
  'foo': ['foo.c'],
  'bar': ['bar.c'],
  'baz': ['baz.c'],
}

# compute a configuration based on system dependencies, custom logic
conf = configuration_data()
conf.set('USE_FOO', 1)

# Determine the sources to compile
sources_to_compile = []
foreach name, sources : components
  if conf.get('USE_@0@'.format(name.to_upper()), 0) == 1
    sources_to_compile += sources
  endif
endforeach
</code></pre>
<h3 id="foreach-break-and-continue">Foreach <code>break</code> and <code>continue</code>
</h3>
<p>Since 0.49.0 <code>break</code> and <code>continue</code> keywords can be used inside foreach loops.</p>
<pre><code class="language-meson">items = ['a', 'continue', 'b', 'break', 'c']
result = []
foreach i : items
  if i == 'continue'
    continue
  elif i == 'break'
    break
  endif
  result += i
endforeach
# result is ['a', 'b']
</code></pre>
<h2 id="comments">Comments</h2>
<p>A comment starts with the <code>#</code> character and extends until the end of the line.</p>
<pre><code class="language-meson">some_function() # This is a comment
some_other_function()
</code></pre>
<h2 id="ternary-operator">Ternary operator</h2>
<p>The ternary operator works just like in other languages.</p>
<pre><code class="language-meson">x = condition ? true_value : false_value
</code></pre>
<p>The only exception is that nested ternary operators are forbidden to
improve legibility. If your branching needs are more complex than this
you need to write an <code>if/else</code> construct.</p>
<h2 id="includes">Includes</h2>
<p>Most source trees have multiple subdirectories to process. These can
be handled by Meson's <code>subdir</code> command. It changes to the given
subdirectory and executes the contents of <code>meson.build</code> in that
subdirectory. All state (variables etc) are passed to and from the
subdirectory. The effect is roughly the same as if the contents of the
subdirectory's Meson file would have been written where the include
command is.</p>
<pre><code class="language-meson">test_data_dir = 'data'
subdir('tests')
</code></pre>
<h2 id="userdefined-functions-and-methods">User-defined functions and methods</h2>
<p>Meson does not currently support user-defined functions or methods.
The addition of user-defined functions would make Meson
Turing-complete which would make it harder to reason about and more
difficult to integrate with tools like IDEs. More details about this
are <a href="FAQ.html#why-is-meson-not-just-a-python-module-so-i-could-code-my-build-setup-in-python">in the
FAQ</a>.
If because of this limitation you find yourself copying and pasting
code a lot you may be able to use a <a href="Syntax.html#foreach-statements"><code>foreach</code> loop
instead</a>.</p>
<h2 id="stability-promises">Stability Promises</h2>
<p>Meson is very actively developed and continuously improved. There is a
possibility that future enhancements to the Meson build system will
require changes to the syntax. Such changes might be the addition of
new reserved keywords, changing the meaning of existing keywords or
additions around the basic building blocks like statements and
fundamental types. It is planned to stabilize the syntax with the 1.0
release.</p>
<h2 id="grammar">Grammar</h2>
<p>This is the full Meson grammar, as it is used to parse Meson build definition files:</p>
<pre><code>additive_expression: multiplicative_expression | (additive_expression additive_operator multiplicative_expression)
additive_operator: "+" | "-"
argument_list: positional_arguments ["," keyword_arguments] | keyword_arguments
array_literal: "[" [expression_list] "]"
assignment_statement: expression asssignment_operator expression
assignment_operator: "=" | "*=" | "/=" | "%=" | "+=" | "-="
boolean_literal: "true" | "false"
build_definition: (NEWLINE | statement)*
condition: expression
conditional_expression: logical_or_expression | (logical_or_expression "?" expression ":" assignment_expression
decimal_literal: DECIMAL_NUMBER
DECIMAL_NUMBER: /[1-9][0-9]*/
dictionary_literal: "{" [key_value_list] "}"
equality_expression: relational_expression | (equality_expression equality_operator relational_expression)
equality_operator: "==" | "!="
expression: conditional_expression | logical_or_expression
expression_list: expression ("," expression)*
expression_statement: expression
function_expression: id_expression "(" [argument_list] ")"
hex_literal: "0x" HEX_NUMBER
HEX_NUMBER: /[a-fA-F0-9]+/
id_expression: IDENTIFIER
IDENTIFIER: /[a-zA-Z_][a-zA-Z_0-9]*/
identifier_list: id_expression ("," id_expression)*
integer_literal: decimal_literal | octal_literal | hex_literal
iteration_statement: "foreach" identifier_list ":" id_expression NEWLINE (statement | jump_statement)* "endforeach"
jump_statement: ("break" | "continue") NEWLINE
key_value_item: expression ":" expression
key_value_list: key_value_item ("," key_value_item)*
keyword_item: id_expression ":" expression
keyword_arguments: keyword_item ("," keyword_item)*
literal: integer_literal | string_literal | boolean_literal | array_literal | dictionary_literal
logical_and_expression: equality_expression | (logical_and_expression "and" equality_expression)
logical_or_expression: logical_and_expression | (logical_or_expression "or" logical_and_expression)
method_expression: postfix_expression "." function_expression
multiplicative_expression: unary_expression | (multiplicative_expression multiplicative_operator unary_expression)
multiplicative_operator: "*" | "/" | "%"
octal_literal: "0o" OCTAL_NUMBER
OCTAL_NUMBER: /[0-7]+/
positional_arguments: expression ("," expression)*
postfix_expression: primary_expression | subscript_expression | function_expression | method_expression
primary_expression: literal | ("(" expression ")") | id_expression
relational_expression: additive_expression | (relational_expression relational_operator additive_expression)
relational_operator: "&gt;" | "&lt;" | "&gt;=" | "&lt;=" | "in" | ("not" "in")
selection_statement: "if" condition NEWLINE (statement)* ("elif" condition NEWLINE (statement)*)* ["else" (statement)*] "endif"
statement: (expression_statement | selection_statement | iteration_statement | assignment_statement) NEWLINE
string_literal: ("'" STRING_SIMPLE_VALUE "'") | ("'''" STRING_MULTILINE_VALUE "'''")
STRING_MULTILINE_VALUE: \.*?(''')\
STRING_SIMPLE_VALUE: \.*?(?&lt;!\\)(\\\\)*?'\
subscript_expression: postfix_expression "[" expression "]"
unary_expression: postfix_expression | (unary_operator unary_expression)
unary_operator: "not" | "+" | "-"
</code></pre>

    </div>
        




		
	</div>
	<div id="search_results">
		<p>The results of the search are</p>
	</div>
	<div id="footer">
		    
        
<hr>

<div class="license-description">
    Website licensing information are available on the <a href="legal.html">Legal</a> page.
</div>


	</div>
</div>

<div id="toc-column">
	
		<div class="edit-button">
		<a href="https://github.com/mesonbuild/meson/edit/master/docs/markdown/Syntax.md" data-hotdoc-role="edit-button">Edit on GitHub</a>

	</div>
		<div id="toc-wrapper">
		<nav id="toc"></nav>
	</div>
</div>
</div>
</main>


<script src="assets/js/navbar_offset_scroller.js"></script>
</body>
</html>
