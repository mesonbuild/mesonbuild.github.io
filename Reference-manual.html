<!DOCTYPE html>
<html lang="en">
<head>

<base href=".">

<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">


<title>Reference manual</title>

<link rel="stylesheet" href="assets/css/custom_bootstrap.css" type="text/css">
<link rel="stylesheet" href="assets/css/bootstrap-toc.min.css" type="text/css">
<link rel="stylesheet" href="assets/css/frontend.css" type="text/css">
<link rel="stylesheet" href="assets/css/jquery.mCustomScrollbar.min.css">
<link rel="stylesheet" href="assets/js/search/enable_search.css" type="text/css">

<link rel="stylesheet" href="assets/css/prism-tomorrow.css" type="text/css">

<script src="assets/js/mustache.min.js"></script>
<script src="assets/js/jquery.js"></script>
<script src="assets/js/scrollspy.js"></script>
<script src="assets/js/bootstrap.js"></script>
<script src="assets/js/typeahead.jquery.min.js"></script>
<script src="assets/js/search.js"></script>
<script src="assets/js/isotope.pkgd.min.js"></script>
<script src="assets/js/compare-versions.js"></script>
<script src="assets/js/jquery.mCustomScrollbar.concat.min.js"></script>
<script src="assets/js/bootstrap-toc.min.js"></script>
<script src="assets/js/jquery.touchSwipe.min.js"></script>
<script src="assets/js/anchor.min.js"></script>
<script src="assets/js/tag_filtering.js"></script>
<script src="assets/js/language_switching.js"></script>

<script src="assets/js/lines_around_headings.js"></script>

<script src="assets/js/prism-core.js"></script>
<script src="assets/js/prism-autoloader.js"></script>
<script src="assets/js/prism_autoloader_path_override.js"></script>
<script src="assets/js/trie.js"></script>

<link rel="icon" type="image/png" href="assets/images/favicon.png">
<link rel="shortcut icon" href="assets/images/favicon.png">

</head>

<body class="no-script
" data-spy="scroll" data-target="#toc" data-offset="70">

<script>
$('body').removeClass('no-script');
</script>

<nav class="navbar navbar-fixed-top navbar-default" id="topnav">
	<div class="container-fluid">
		<div class="navbar-right">
			<a id="toc-toggle">
				<span class="glyphicon glyphicon-menu-right"></span>
				<span class="glyphicon glyphicon-menu-left"></span>
			</a>
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-wrapper" aria-expanded="false">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<form class="navbar-form pull-right" id="navbar-search-form">
                               <div class="form-group has-feedback">
                                       <input type="text" class="form-control input-sm" name="search" id="sidenav-lookup-field" placeholder="search" disabled>
				       <span class="glyphicon glyphicon-search form-control-feedback" id="search-mgn-glass"></span>
                               </div>
                        </form>
		</div>
		<div class="navbar-header">
			<a id="sidenav-toggle">
				<span class="glyphicon glyphicon-menu-right"></span>
				<span class="glyphicon glyphicon-menu-left"></span>
			</a>
			<a id="home-link" href="index.html" class="hotdoc-navbar-brand">
				<img src="assets/images/meson_logo.png" alt="Home">
			</a>
		</div>
		<div class="navbar-collapse collapse" id="navbar-wrapper">
			<ul class="nav navbar-nav" id="menu">
				
<li class="dropdown">
  <a class="dropdown-toggle" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    Modules <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" id="modules-menu">
        <li>
            <a href="CMake-module.html">CMake</a>
        </li>
        <li>
            <a href="Cuda-module.html">CUDA</a>
        </li>
        <li>
            <a href="Dlang-module.html">Dlang</a>
        </li>
        <li>
            <a href="External-Project-module.html">External Project</a>
        </li>
        <li>
            <a href="Fs-module.html">Filesystem</a>
        </li>
        <li>
            <a href="Gnome-module.html">GNOME</a>
        </li>
        <li>
            <a href="Hotdoc-module.html">Hotdoc</a>
        </li>
        <li>
            <a href="Icestorm-module.html">Icestorm</a>
        </li>
        <li>
            <a href="Keyval-module.html">Keyval</a>
        </li>
        <li>
            <a href="Pkgconfig-module.html">Pkgconfig</a>
        </li>
        <li>
            <a href="Python-3-module.html">Python 3</a>
        </li>
        <li>
            <a href="Python-module.html">Python</a>
        </li>
        <li>
            <a href="Qt4-module.html">Qt4</a>
        </li>
        <li>
            <a href="Qt5-module.html">Qt5</a>
        </li>
        <li>
            <a href="RPM-module.html">RPM</a>
        </li>
        <li>
            <a href="Rust-module.html">Rust</a>
        </li>
        <li>
            <a href="SourceSet-module.html">SourceSet</a>
        </li>
        <li>
            <a href="Windows-module.html">Windows</a>
        </li>
        <li>
            <a href="i18n-module.html">i18n</a>
        </li>
	</ul>
</li>
<li class="dropdown">
	<a class="dropdown-toggle" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
		Quick References <span class="caret"></span>
	</a>
	<ul class="dropdown-menu" id="quick-refs-menu">
					<li>
				<a href="Reference-manual.html">Functions</a>
			</li>
					<li>
				<a href="Build-options.html">Options</a>
			</li>
					<li>
				<a href="Configuration.html">Configuration</a>
			</li>
					<li>
				<a href="Dependencies.html">Dependencies</a>
			</li>
					<li>
				<a href="Unit-tests.html">Tests</a>
			</li>
					<li>
				<a href="Syntax.html">Syntax</a>
			</li>
			</ul>
</li>
			</ul>
			<div class="hidden-xs hidden-sm navbar-text navbar-center">
				<p><b>The Meson Build System</b></p>
			</div>
		</div>
	</div>
</nav>

<main>
<div data-extension="core" data-hotdoc-in-toplevel="True" data-hotdoc-project="Meson-documentation" data-hotdoc-ref="Reference-manual.html" class="page_container" id="page-wrapper">
<script src="assets/js/utils.js"></script>

<div class="panel panel-collapse oc-collapsed" id="sidenav" data-hotdoc-role="navigation">
	<script src="assets/js/navigation.js"></script>
	<script src="assets/js/sitemap.js"></script>
</div>

<div id="body">
	<div id="main">
				    <div id="page-description" data-hotdoc-role="main">
        <h1 id="reference-manual">Reference manual</h1>
<h2 id="functions">Functions</h2>
<p>The following functions are available in build files. Click on each to
see the description and usage. The objects returned by them are <a href="Reference-manual.html#returned-objects">list
afterwards</a>.</p>
<h3 id="add_global_arguments">add_global_arguments()</h3>
<pre><code class="language-meson">  void add_global_arguments(arg1, arg2, ...)
</code></pre>
<p>Adds the positional arguments to the compiler command line. This
function has two keyword arguments:</p>
<ul>
<li>
<p><code>language</code>: specifies the language(s) that the arguments should be
applied to. If a list of languages is given, the arguments are added
to each of the corresponding compiler command lines. Note that there
is no way to remove an argument set in this way. If you have an
argument that is only used in a subset of targets, you have to specify
it in per-target flags.</p>
</li>
<li>
<p><code>native</code> <em>(since 0.48.0)</em>: a boolean specifying whether the arguments should be
applied to the native or cross compilation. If <code>true</code> the arguments
will only be used for native compilations. If <code>false</code> the arguments
will only be used in cross compilations. If omitted, the flags are
added to native compilations if compiling natively and cross
compilations (only) when cross compiling.</p>
</li>
</ul>
<p>The arguments are used in all compiler invocations with the exception
of compile tests, because you might need to run a compile test with
and without the argument in question. For this reason only the
arguments explicitly specified are used during compile tests.</p>
<p><strong>Note:</strong> Usually you should use <code>add_project_arguments</code> instead,
because that works even when you project is used as a subproject.</p>
<p><strong>Note:</strong> You must pass always arguments individually <code>arg1, arg2, ...</code> rather than as a string <code>'arg1 arg2', ...</code></p>
<h3 id="add_global_link_arguments">add_global_link_arguments()</h3>
<pre><code class="language-meson">    void add_global_link_arguments(*arg1*, *arg2*, ...)
</code></pre>
<p>Like <code>add_global_arguments</code> but the arguments are passed to the linker.</p>
<h3 id="add_languages">add_languages()</h3>
<pre><code class="language-meson">  bool add_languages(*langs*)
</code></pre>
<p>Add programming languages used by the project. Equivalent to having
them in the <code>project</code> declaration. This function is usually used to
add languages that are only used under some conditions, like this:</p>
<pre><code class="language-meson">project('foobar', 'c')
if compiling_for_osx
  add_languages('objc')
endif
if add_languages('cpp', required : false)
  executable('cpp-app', 'main.cpp')
endif
</code></pre>
<p>Takes the following keyword arguments:</p>
<ul>
<li>
<p><code>required</code>: defaults to <code>true</code>, which means that if any of the languages
specified is not found, Meson will halt. <em>(since 0.47.0)</em> The value of a
<a href="Build-options.html#features"><code>feature</code></a> option can also be passed.</p>
</li>
<li>
<p><code>native</code> <em>(since 0.54.0)</em>: if set to <code>true</code>, the language will be used to compile for the build
machine, if <code>false</code>, for the host machine.</p>
</li>
</ul>
<p>Returns <code>true</code> if all languages specified were found and <code>false</code> otherwise.</p>
<p>If <code>native</code> is omitted, the languages may be used for either build or host
machine, but are never required for the build machine.  (i.e. it is equivalent
to <code>add_languages(*langs*, native: false, required: *required*) and add_languages(*langs*, native: true, required: false)</code>. This default behaviour
may change to <code>native: false</code> in a future Meson version.</p>
<h3 id="add_project_arguments">add_project_arguments()</h3>
<pre><code class="language-meson">  void add_project_arguments(arg1, arg2, ...)
</code></pre>
<p>This function behaves in the same way as <code>add_global_arguments</code> except
that the arguments are only used for the current project, they won't
be used in any other subproject.</p>
<h3 id="add_project_link_arguments">add_project_link_arguments()</h3>
<pre><code class="language-meson">  void add_project_link_arguments(*arg1*, *arg2*, ...)
</code></pre>
<p>Like <code>add_project_arguments</code> but the arguments are passed to the linker.</p>
<h3 id="add_test_setup">add_test_setup()</h3>
<pre><code class="language-meson">  void add_test_setup(*name*, ...)
</code></pre>
<p>Add a custom test setup that can be used to run the tests with a
custom setup, for example under Valgrind. The keyword arguments are
the following:</p>
<ul>
<li>
<code>env</code>: environment variables to set, such as <code>['NAME1=value1', 'NAME2=value2']</code>, or an <a href="Reference-manual.html#environment-object"><code>environment()</code>
object</a> which allows more sophisticated
environment juggling. <em>(since 0.52.0)</em> A dictionary is also accepted.</li>
<li>
<code>exe_wrapper</code>: a list containing the wrapper command or script followed by the arguments to it</li>
<li>
<code>gdb</code>: if <code>true</code>, the tests are also run under <code>gdb</code>
</li>
<li>
<code>timeout_multiplier</code>: a number to multiply the test timeout with.
<em>Since 0.57</em> if timeout_multiplier is <code>&lt;= 0</code> the test has infinite duration,
in previous versions of Meson the test would fail with a timeout immediately.</li>
<li>
<code>is_default</code> <em>(since 0.49.0)</em>: a bool to set whether this is the default test setup.
If <code>true</code>, the setup will be used whenever <code>meson test</code> is run
without the <code>--setup</code> option.</li>
<li>
<code>exclude_suites</code> <em>(since 0.57.0)</em>: a list of test suites that should be
excluded when using this setup.  Suites specified in the <code>--suite</code> option
to <code>meson test</code> will always run, overriding <code>add_test_setup</code> if necessary.</li>
</ul>
<p>To use the test setup, run <code>meson test --setup=*name*</code> inside the
build dir.</p>
<p>Note that all these options are also available while running the
<code>meson test</code> script for running tests instead of <code>ninja test</code> or
<code>msbuild RUN_TESTS.vcxproj</code>, etc depending on the backend.</p>
<h3 id="alias_target">alias_target</h3>
<pre><code class="language-meson">runtarget alias_target(target_name, dep1, ...)
</code></pre>
<p><em>(since 0.52.0)</em></p>
<p>This function creates a new top-level target. Like all top-level
targets, this integrates with the selected backend. For instance, with
you can run it as <code>meson compile target_name</code>. This is a dummy target
that does not execute any command, but ensures that all dependencies
are built. Dependencies can be any build target (e.g. return value of
<a href="Reference-manual.html#executable">executable()</a>, custom_target(), etc)</p>
<h3 id="assert">assert()</h3>
<pre><code class="language-meson">    void assert(*condition*, *message*)
</code></pre>
<p>Abort with an error message if <code>condition</code> evaluates to <code>false</code>.</p>
<p><em>(since 0.53.0)</em> <code>message</code> argument is optional and defaults to print the condition
statement instead.</p>
<h3 id="benchmark">benchmark()</h3>
<pre><code class="language-meson">    void benchmark(name, executable, ...)
</code></pre>
<p>Creates a benchmark item that will be run when the benchmark target is
run. The behavior of this function is identical to <a href="Reference-manual.html#test"><code>test()</code></a>
except for:</p>
<ul>
<li>benchmark() has no <code>is_parallel</code> keyword because benchmarks are not run in parallel</li>
<li>benchmark() does not automatically add the <code>MALLOC_PERTURB_</code> environment variable</li>
</ul>
<p><em>Note:</em> Prior to 0.52.0 benchmark would warn that <code>depends</code> and
<code>priority</code> were unsupported, this is incorrect.</p>
<h3 id="both_libraries">both_libraries()</h3>
<pre><code class="language-meson">    buildtarget = both_libraries(library_name, list_of_sources, ...)
</code></pre>
<p><em>(since 0.46.0)</em></p>
<p>Builds both a static and shared library with the given sources.
Positional and keyword arguments are otherwise the same as for
<a href="Reference-manual.html#library"><code>library</code></a>. Source files will be compiled only once and
object files will be reused to build both shared and static libraries,
unless <code>b_staticpic</code> user option or <code>pic</code> argument are set to false in
which case sources will be compiled twice.</p>
<p>The returned <a href="Reference-manual.html#build-target-object">buildtarget</a> always represents the
shared library. In addition it supports the following extra methods:</p>
<ul>
<li>
<code>get_shared_lib()</code> returns the shared library build target</li>
<li>
<code>get_static_lib()</code> returns the static library build target</li>
</ul>
<h3 id="build_target">build_target()</h3>
<p>Creates a build target whose type can be set dynamically with the
<code>target_type</code> keyword argument.</p>
<p><code>target_type</code> may be set to one of:</p>
<ul>
<li><code>executable</code></li>
<li><code>shared_library</code></li>
<li><code>shared_module</code></li>
<li><code>static_library</code></li>
<li><code>both_libraries</code></li>
<li><code>library</code></li>
<li><code>jar</code></li>
</ul>
<p>This declaration:</p>
<pre><code class="language-meson">executable(&lt;arguments and keyword arguments&gt;)
</code></pre>
<p>is equivalent to this:</p>
<pre><code class="language-meson">build_target(&lt;arguments and keyword arguments&gt;, target_type : 'executable')
</code></pre>
<p>The object returned by <code>build_target</code> and all convenience wrappers for
<code>build_target</code> such as <a href="Reference-manual.html#executable"><code>executable</code></a> and
<a href="Reference-manual.html#library"><code>library</code></a> has methods that are documented in the <a href="Reference-manual.html#build-target-object">object
methods section</a> below.</p>
<h3 id="configuration_data">configuration_data()</h3>
<pre><code class="language-meson">    configuration_data_object = configuration_data(...)
</code></pre>
<p>Creates an empty configuration object. You should add your
configuration with <a href="Reference-manual.html#configuration-data-object">its method calls</a> and
finally use it in a call to <code>configure_file</code>.</p>
<p><em>(since 0.49.0)</em> Takes an optional dictionary as first argument. If
provided, each key/value pair is added into the <code>configuration_data</code>
as if <code>set()</code> method was called for each of them.</p>
<h3 id="configure_file">configure_file()</h3>
<pre><code class="language-meson">    generated_file = configure_file(...)
</code></pre>
<p>This function can run in three modes depending on the keyword arguments
passed to it.</p>
<p>When a <a href="Reference-manual.html#configuration_data"><code>configuration_data()</code></a> object is passed
to the <code>configuration:</code> keyword argument, it takes a template file as
the <code>input:</code> (optional) and produces the <code>output:</code> (required) by
substituting values from the configuration data as detailed in <a href="Configuration.html">the
configuration file documentation</a>. <em>(since 0.49.0)</em>
A dictionary can be passed instead of a
<a href="Reference-manual.html#configuration_data"><code>configuration_data()</code></a> object.</p>
<p>When a list of strings is passed to the <code>command:</code> keyword argument,
it takes any source or configured file as the <code>input:</code> and assumes
that the <code>output:</code> is produced when the specified command is run.</p>
<p><em>(since 0.47.0)</em> When the <code>copy:</code> keyword argument is set to <code>true</code>,
this function will copy the file provided in <code>input:</code> to a file in the
build directory with the name <code>output:</code> in the current directory.</p>
<p>These are all the supported keyword arguments:</p>
<ul>
<li>
<code>capture</code> <em>(since 0.41.0)</em>: when this argument is set to true,
Meson captures <code>stdout</code> of the <code>command</code> and writes it to the target
file specified as <code>output</code>.</li>
<li>
<code>command</code>: as explained above, if specified, Meson does not create
the file itself but rather runs the specified command, which allows
you to do fully custom file generation. <em>(since 0.52.0)</em> The command can contain
file objects and more than one file can be passed to the <code>input</code> keyword
argument, see <a href="Reference-manual.html#custom_target"><code>custom_target()</code></a> for details about string
substitutions.</li>
<li>
<code>copy</code> <em>(since 0.47.0)</em>: as explained above, if specified Meson only
copies the file from input to output.</li>
<li>
<code>depfile</code> <em>(since 0.52.0)</em>: a dependency file that the command can write listing
all the additional files this target depends on. A change
in any one of these files triggers a reconfiguration.</li>
<li>
<code>format</code> <em>(since 0.46.0)</em>: the format of defines. It defaults to <code>meson</code>, and so substitutes
<code>#mesondefine</code> statements and variables surrounded by <code>@</code> characters, you can also use <code>cmake</code>
to replace <code>#cmakedefine</code> statements and variables with the <code>${variable}</code> syntax. Finally you can use
<code>cmake@</code> in which case substitutions will apply on <code>#cmakedefine</code> statements and variables with
the <code>@variable@</code> syntax.</li>
<li>
<code>input</code>: the input file name. If it's not specified in configuration
mode, all the variables in the <code>configuration:</code> object (see above)
are written to the <code>output:</code> file.</li>
<li>
<code>install</code> <em>(since 0.50.0)</em>: when true, this generated file is installed during
the install step, and <code>install_dir</code> must be set and not empty. When false, this
generated file is not installed regardless of the value of <code>install_dir</code>.
When omitted it defaults to true when <code>install_dir</code> is set and not empty,
false otherwise.</li>
<li>
<code>install_dir</code>: the subdirectory to install the generated file to
(e.g. <code>share/myproject</code>), if omitted or given the value of empty
string, the file is not installed.</li>
<li>
<code>install_mode</code> <em>(since 0.47.0)</em>: specify the file mode in symbolic format
and optionally the owner/uid and group/gid for the installed files.</li>
<li>
<code>output</code>: the output file name. <em>(since 0.41.0)</em> may contain
<code>@PLAINNAME@</code> or <code>@BASENAME@</code> substitutions. In configuration mode,
the permissions of the input file (if it is specified) are copied to
the output file.</li>
<li>
<code>output_format</code> <em>(since 0.47.0)</em>: the format of the output to generate when no input
was specified. It defaults to <code>c</code>, in which case preprocessor directives
will be prefixed with <code>#</code>, you can also use <code>nasm</code>, in which case the
prefix will be <code>%</code>.</li>
<li>
<code>encoding</code> <em>(since 0.47.0)</em>: set the file encoding for the input and output file,
defaults to utf-8. The supported encodings are those of python3, see
<a href="https://docs.python.org/3/library/codecs.html#standard-encodings">standard-encodings</a>.</li>
</ul>
<h3 id="custom_target">custom_target()</h3>
<pre><code class="language-meson">    customtarget custom_target(*name*, ...)
</code></pre>
<p>Create a custom top level build target. The only positional argument
is the name of this target and the keyword arguments are the
following.</p>
<ul>
<li>
<code>build_by_default</code> <em>(since 0.38.0)</em>: causes, when set to true, to
have this target be built by default. This means it will be built when
<code>meson compile</code> is called without any arguments. The default value is <code>false</code>.
<em>(since 0.50.0)</em> If <code>build_by_default</code> is explicitly set to false, <code>install</code>
will no longer override it. If <code>build_by_default</code> is not set, <code>install</code> will
still determine its default.</li>
<li>
<code>build_always</code> <strong>(deprecated)</strong>: if <code>true</code> this target is always considered out of
date and is rebuilt every time.  Equivalent to setting both
<code>build_always_stale</code> and <code>build_by_default</code> to true.</li>
<li>
<code>build_always_stale</code> <em>(since 0.47.0)</em>: if <code>true</code> the target is always considered out of date.
Useful for things such as build timestamps or revision control tags.
The associated command is run even if the outputs are up to date.</li>
<li>
<code>capture</code>: there are some compilers that can't be told to write
their output to a file but instead write it to standard output. When
this argument is set to true, Meson captures <code>stdout</code> and writes it
to the target file. Note that your command argument list may not
contain <code>@OUTPUT@</code> when capture mode is active.</li>
<li>
<code>console</code> <em>(since 0.48.0)</em>: keyword argument conflicts with <code>capture</code>, and is meant
for commands that are resource-intensive and take a long time to
finish. With the Ninja backend, setting this will add this target
to <a href="https://ninja-build.org/manual.html#_the_literal_console_literal_pool">Ninja's <code>console</code> pool</a>,
which has special properties such as not buffering stdout and
serializing all targets in this pool.</li>
<li>
<code>command</code>: command to run to create outputs from inputs. The command
may be strings or the return value of functions that return file-like
objects such as <a href="Reference-manual.html#find_program"><code>find_program()</code></a>,
<a href="Reference-manual.html#executable"><code>executable()</code></a>, <a href="Reference-manual.html#configure_file"><code>configure_file()</code></a>,
<a href="Reference-manual.html#files"><code>files()</code></a>, <a href="Reference-manual.html#custom_target"><code>custom_target()</code></a>, etc.
Meson will automatically insert the appropriate dependencies on
targets and files listed in this keyword argument.
Note: always specify commands in array form <code>['commandname', '-arg1', '-arg2']</code> rather than as a string <code>'commandname -arg1 -arg2'</code> as the latter will <em>not</em> work.</li>
<li>
<code>depend_files</code>: files (<a href="Reference-manual.html#string-object"><code>string</code></a>,
<a href="Reference-manual.html#files"><code>files()</code></a>, or <a href="Reference-manual.html#configure_file"><code>configure_file()</code></a>) that
this target depends on but are not listed in the <code>command</code> keyword
argument. Useful for adding regen dependencies.</li>
<li>
<code>depends</code>: specifies that this target depends on the specified
target(s), even though it does not take any of them as a command
line argument. This is meant for cases where you have a tool that
e.g. does globbing internally. Usually you should just put the
generated sources as inputs and Meson will set up all dependencies
automatically.</li>
<li>
<code>depfile</code>: a dependency file that the command can write listing
all the additional files this target depends on, for example a C
compiler would list all the header files it included, and a change
in any one of these files triggers a recompilation</li>
<li>
<code>input</code>: list of source files. <em>(since 0.41.0)</em> the list is flattened.</li>
<li>
<code>install</code>: when true, this target is installed during the install step</li>
<li>
<code>install_dir</code>: directory to install to</li>
<li>
<code>install_mode</code> <em>(since 0.47.0)</em>: the file mode and optionally the
owner/uid and group/gid</li>
<li>
<code>output</code>: list of output files</li>
<li>
<code>env</code> <em>(since 0.57.0)</em>: environment variables to set, such as
<code>{'NAME1': 'value1', 'NAME2': 'value2'}</code> or <code>['NAME1=value1', 'NAME2=value2']</code>,
or an <a href="Reference-manual.html#environment-object"><code>environment()</code> object</a> which allows more
sophisticated environment juggling.</li>
</ul>
<p>The list of strings passed to the <code>command</code> keyword argument accept
the following special string substitutions:</p>
<ul>
<li>
<code>@INPUT@</code>: the full path to the input passed to <code>input</code>. If more than
one input is specified, all of them will be substituted as separate
arguments only if the command uses <code>'@INPUT@'</code> as a
standalone-argument. For instance, this would not work: <code>command : ['cp', './@INPUT@']</code>, but this would: <code>command : ['cp', '@INPUT@']</code>.</li>
<li>
<code>@OUTPUT@</code>: the full path to the output passed to <code>output</code>. If more
than one outputs are specified, the behavior is the same as
<code>@INPUT@</code>.</li>
<li>
<code>@INPUT0@</code> <code>@INPUT1@</code> <code>...</code>: the full path to the input with the specified array index in <code>input</code>
</li>
<li>
<code>@OUTPUT0@</code> <code>@OUTPUT1@</code> <code>...</code>: the full path to the output with the specified array index in <code>output</code>
</li>
<li>
<code>@OUTDIR@</code>: the full path to the directory where the output(s) must be written</li>
<li>
<code>@DEPFILE@</code>: the full path to the dependency file passed to <code>depfile</code>
</li>
<li>
<code>@PLAINNAME@</code>: the input filename, without a path</li>
<li>
<code>@BASENAME@</code>: the input filename, with extension removed</li>
<li>
<code>@PRIVATE_DIR@</code> <em>(since 0.50.1)</em>: path to a directory where the custom target must store all its intermediate files.</li>
<li>
<code>@SOURCE_ROOT@</code>: the path to the root of the source tree. Depending on the backend,
this may be an absolute or a relative to current workdir path.</li>
<li>
<code>@BUILD_ROOT@</code>: the path to the root of the build tree. Depending on the backend,
this may be an absolute or a relative to current workdir path.</li>
<li>
<code>@CURRENT_SOURCE_DIR@</code>: this is the directory where the currently
processed meson.build is located in.  Depending on the backend,
this may be an absolute or a relative to current workdir path.</li>
</ul>
<p><em>(since 0.47.0)</em> The <code>depfile</code> keyword argument also accepts the
<code>@BASENAME@</code> and <code>@PLAINNAME@</code> substitutions.</p>
<p>The returned object also has methods that are documented in the
<a href="Reference-manual.html#custom-target-object">object methods section</a> below.</p>
<p><strong>Note:</strong> Assuming that <code>command:</code> is executed by a POSIX <code>sh</code> shell
is not portable, notably to Windows. Instead, consider using a
<code>native: true</code> <a href="Reference-manual.html#executable">executable()</a>, or a python script.</p>
<h3 id="declare_dependency">declare_dependency()</h3>
<pre><code class="language-meson">    dependency_object declare_dependency(...)
</code></pre>
<p>This function returns a <a href="Reference-manual.html#dependency-object">dependency object</a> that
behaves like the return value of <a href="Reference-manual.html#dependency"><code>dependency</code></a> but is
internal to the current build. The main use case for this is in
subprojects. This allows a subproject to easily specify how it should
be used. This makes it interchangeable with the same dependency that
is provided externally by the system. This function has the following
keyword arguments:</p>
<ul>
<li>
<code>compile_args</code>: compile arguments to use.</li>
<li>
<code>dependencies</code>: other dependencies needed to use this dependency.</li>
<li>
<code>include_directories</code>: the directories to add to header search path,
must be include_directories objects or <em>(since 0.50.0)</em> plain strings</li>
<li>
<code>link_args</code>: link arguments to use.</li>
<li>
<code>link_with</code>: libraries to link against.</li>
<li>
<code>link_whole</code> <em>(since 0.46.0)</em>: libraries to link fully, same as <a href="Reference-manual.html#executable"><code>executable</code></a>.</li>
<li>
<code>sources</code>: sources to add to targets (or generated header files
that should be built before sources including them are built)</li>
<li>
<code>version</code>: the version of this dependency, such as <code>1.2.3</code>
</li>
<li>
<code>variables</code> <em>(since 0.54.0)</em>: a dictionary of arbitrary strings, this is meant to be used
in subprojects where special variables would be provided via cmake or
pkg-config. <em>since 0.56.0</em> it can also be a list of <code>'key=value'</code> strings.</li>
</ul>
<h3 id="dependency">dependency()</h3>
<pre><code class="language-meson">    dependency_object dependency(*dependency_name*, ...)
</code></pre>
<p>Finds an external dependency (usually a library installed on your
system) with the given name with <code>pkg-config</code> and <a href="Dependencies.html#cmake">with
CMake</a> if <code>pkg-config</code> fails. Additionally,
frameworks (OSX only) and <a href="Dependencies.html#dependencies-with-custom-lookup-functionality">library-specific fallback detection
logic</a>
are also supported.</p>
<p>Dependencies can also be resolved in two other ways:</p>
<ul>
<li>
<p>if the same name was used in a <code>meson.override_dependency</code> prior to
the call to <code>dependency</code>, the overriding dependency will be returned
unconditionally; that is, the overriding dependency will be used
independent of whether an external dependency is installed in the system.
Typically, <code>meson.override_dependency</code> will have been used by a
subproject.</p>
</li>
<li>
<p>by a fallback subproject which, if needed, will be brought into the current
build specification as if <a href="Reference-manual.html#subproject"><code>subproject()</code></a> had been called.
The subproject can be specified with the <code>fallback</code> argument.  Alternatively,
if the <code>fallback</code> argument is absent, <em>since 0.55.0</em> Meson can
automatically identify a subproject as a fallback if a wrap file
<a href="Wrap-dependency-system-manual.html#provide-section">provides</a> the
dependency, or if a subproject has the same name as the dependency.
In the latter case, the subproject must use <code>meson.override_dependency</code> to
specify the replacement, or Meson will report a hard error.  See the
<a href="Wrap-dependency-system-manual.html#provide-section">Wrap documentation</a>
for more details.  This automatic search can be controlled using the
<code>allow_fallback</code> keyword argument.</p>
</li>
</ul>
<p>This function supports the following keyword arguments:</p>
<ul>
<li>
<code>default_options</code> <em>(since 0.37.0)</em>: an array of default option values
that override those set in the subproject's <code>meson_options.txt</code>
(like <code>default_options</code> in <a href="Reference-manual.html#project"><code>project()</code></a>, they only have
effect when Meson is run for the first time, and command line
arguments override any default options in build files)</li>
<li>
<code>allow_fallback</code> (boolean argument, <em>since 0.56.0</em>): specifies whether Meson
should automatically pick a fallback subproject in case the dependency
is not found in the system.  If <code>true</code> and the dependency is not found
on the system, Meson will fallback to a subproject that provides this
dependency. If <code>false</code>, Meson will not fallback even if a subproject
provides this dependency.  By default, Meson will do so if <code>required</code>
is <code>true</code> or  <a href="Build-options.html#features"><code>enabled</code></a>; see the <a href="Wrap-dependency-system-manual.html#provide-section">Wrap
documentation</a>
for more details.</li>
<li>
<code>fallback</code> (string or array argument): manually specifies a subproject
fallback to use in case the dependency is not found in the system.
This is useful if the automatic search is not applicable or if you
want to support versions of Meson older than 0.55.0.  If the value is an
array <code>['subproj_name', 'subproj_dep']</code>, the first value is the name
of the subproject and the second is the variable name in that
subproject that contains a dependency object such as the return
value of <a href="Reference-manual.html#declare_dependency"><code>declare_dependency</code></a> or
<a href="Reference-manual.html#dependency"><code>dependency()</code></a>, etc. Note that this means the
fallback dependency may be a not-found dependency, in which
case the value of the <code>required:</code> kwarg will be obeyed.
<em>Since 0.54.0</em> the value can be a single string, the subproject name;
in this case the subproject must use
<code>meson.override_dependency('dependency_name', subproj_dep)</code>
to specify the dependency object used in the superproject.</li>
<li>
<code>language</code> <em>(since 0.42.0)</em>: defines what language-specific
dependency to find if it's available for multiple languages.</li>
<li>
<code>method</code>: defines the way the dependency is detected, the default is
<code>auto</code> but can be overridden to be e.g. <code>qmake</code> for Qt development,
and <a href="Dependencies.html#dependencies-with-custom-lookup-functionality">different dependencies support different values</a>
for this (though <code>auto</code> will work on all of them)</li>
<li>
<code>native</code>: if set to <code>true</code>, causes Meson to find the dependency on
the build machine system rather than the host system (i.e. where the
cross compiled binary will run on), usually only needed if you build
a tool to be used during compilation.</li>
<li>
<code>not_found_message</code> <em>(since 0.50.0)</em>: an optional string that will
be printed as a <code>message()</code> if the dependency was not found.</li>
<li>
<code>required</code>: when set to false, Meson will proceed with the build
even if the dependency is not found. <em>(since 0.47.0)</em> The value of a
<a href="Build-options.html#features"><code>feature</code></a> option can also be passed.</li>
<li>
<code>static</code>: tells the dependency provider to try to get static
libraries instead of dynamic ones (note that this is not supported
by all dependency backends)</li>
<li>
<code>version</code> <em>(since 0.37.0)</em>: specifies the required version, a string containing a
comparison operator followed by the version string, examples include
<code>&gt;1.0.0</code>, <code>&lt;=2.3.5</code> or <code>3.1.4</code> for exact matching.
You can also specify multiple restrictions by passing a list to this
keyword argument, such as: <code>['&gt;=3.14.0', '&lt;=4.1.0']</code>.
These requirements are never met if the version is unknown.</li>
<li>
<code>include_type</code> <em>(since 0.52.0)</em>: an enum flag, marking how the dependency
flags should be converted. Supported values are <code>'preserve'</code>, <code>'system'</code> and
<code>'non-system'</code>. System dependencies may be handled differently on some
platforms, for instance, using <code>-isystem</code> instead of <code>-I</code>, where possible.
If <code>include_type</code> is set to <code>'preserve'</code>, no additional conversion will be
performed. The default value is <code>'preserve'</code>.</li>
<li>other
<a href="Dependencies.html#dependencies-with-custom-lookup-functionality">library-specific</a>
keywords may also be accepted (e.g. <code>modules</code> specifies submodules to use for
dependencies such as Qt5 or Boost. <code>components</code> allows the user to manually
add CMake <code>COMPONENTS</code> for the <code>find_package</code> lookup)</li>
<li>
<code>disabler</code> <em>(since 0.49.0)</em>: if <code>true</code> and the dependency couldn't be found,
returns a <a href="Reference-manual.html#disabler-object">disabler object</a> instead of a not-found dependency.</li>
</ul>
<p>If dependency_name is <code>''</code>, the dependency is always not found. So
with <code>required: false</code>, this always returns a dependency object for
which the <code>found()</code> method returns <code>false</code>, and which can be passed
like any other dependency to the <code>dependencies:</code> keyword argument of a
<code>build_target</code>. This can be used to implement a dependency which is
sometimes not required e.g. in some branches of a conditional, or with
a <code>fallback:</code> kwarg, can be used to declare an optional dependency
that only looks in the specified subproject, and only if that's
allowed by <code>--wrap-mode</code>.</p>
<p>The returned object also has methods that are documented in the
<a href="Reference-manual.html#dependency-object">object methods section</a> below.</p>
<h3 id="disabler">disabler()</h3>
<p><em>(since 0.44.0)</em></p>
<p>Returns a <a href="Reference-manual.html#disabler-object">disabler object</a>.</p>
<h3 id="error">error()</h3>
<pre><code class="language-meson">    void error(message)
</code></pre>
<p>Print the argument string and halts the build process.</p>
<p><em>(since 0.58.0)</em> Can take more than one argument that will be separated by
space.</p>
<h3 id="environment">environment()</h3>
<pre><code class="language-meson">    environment_object environment(...)
</code></pre>
<p><em>(since 0.35.0)</em></p>
<p>Returns an empty <a href="Reference-manual.html#environment-object">environment variable object</a>.</p>
<p><em>(since 0.52.0)</em> Takes an optional dictionary as first argument. If
provided, each key/value pair is added into the <code>environment_object</code>
as if <code>set()</code> method was called for each of them.</p>
<h3 id="executable">executable()</h3>
<pre><code class="language-meson">    buildtarget executable(*exe_name*, *sources*, ...)
</code></pre>
<p>Creates a new executable. The first argument specifies its name and
the remaining positional arguments define the input files to use. They
can be of the following types:</p>
<ul>
<li>Strings relative to the current source directory</li>
<li>
<a href="Reference-manual.html#files"><code>files()</code></a> objects defined in any preceding build file</li>
<li>The return value of configure-time generators such as <a href="Reference-manual.html#configure_file"><code>configure_file()</code></a>
</li>
<li>The return value of build-time generators such as
<a href="Reference-manual.html#custom_target"><code>custom_target()</code></a> or
<a href="Reference-manual.html#generator-object"><code>generator.process()</code></a>
</li>
</ul>
<p>These input files can be sources, objects, libraries, or any other
file. Meson will automatically categorize them based on the extension
and use them accordingly. For instance, sources (<code>.c</code>, <code>.cpp</code>,
<code>.vala</code>, <code>.rs</code>, etc) will be compiled and objects (<code>.o</code>, <code>.obj</code>) and
libraries (<code>.so</code>, <code>.dll</code>, etc) will be linked.</p>
<p>With the Ninja backend, Meson will create a build-time <a href="https://ninja-build.org/manual.html#ref_dependencies">order-only
dependency</a> on
all generated input files, including unknown files. This is needed to
bootstrap the generation of the real dependencies in the
<a href="https://ninja-build.org/manual.html#ref_headers">depfile</a> generated
by your compiler to determine when to rebuild sources. Ninja relies on
this dependency file for all input files, generated and non-generated.
The behavior is similar for other backends.</p>
<p>Executable supports the following keyword arguments. Note that just
like the positional arguments above, these keyword arguments can also
be passed to <a href="Reference-manual.html#library">shared and static libraries</a>.</p>
<ul>
<li>
<code>&lt;languagename&gt;_pch</code>: precompiled header file to use for the given language</li>
<li>
<code>&lt;languagename&gt;_args</code>: compiler flags to use for the given language;
eg: <code>cpp_args</code> for C++</li>
<li>
<code>build_by_default</code> <em>(since 0.38.0)</em>: causes, when set to true, to
have this target be built by default. This means it will be built when
<code>meson compile</code> is called without any arguments. The default value is
<code>true</code> for all built target types.</li>
<li>
<code>build_rpath</code>: a string to add to target's rpath definition in the
build dir, but which will be removed on install</li>
<li>
<code>dependencies</code>: one or more objects created with
<a href="Reference-manual.html#dependency"><code>dependency</code></a> or <a href="Reference-manual.html#compiler-object"><code>find_library</code></a>
(for external deps) or <a href="Reference-manual.html#declare_dependency"><code>declare_dependency</code></a>
(for deps built by the project)</li>
<li>
<code>extra_files</code>: not used for the build itself but are shown as
source files in IDEs that group files by targets (such as Visual
Studio)</li>
<li>
<code>gui_app</code>: when set to true flags this target as a GUI application
on platforms where this makes a differerence, <strong>deprecated</strong> since
0.56.0, use <code>win_subsystem</code> instead.</li>
<li>
<code>link_args</code>: flags to use during linking. You can use UNIX-style
flags here for all platforms.</li>
<li>
<code>link_depends</code>: strings, files, or custom targets the link step
depends on such as a symbol visibility map. The purpose is to
automatically trigger a re-link (but not a re-compile) of the target
when this file changes.</li>
<li>
<code>link_language</code> <em>(since 0.51.0)</em> <em>(broken until 0.55.0)</em>: makes the linker for this
target be for the specified language. It is generally unnecessary to set
this, as Meson will detect the right linker to use in most cases. There are
only two cases where this is needed. One, your main function in an
executable is not in the language Meson picked, or second you want to force
a library to use only one ABI.</li>
<li>
<code>link_whole</code> <em>(since 0.40.0)</em>: links all contents of the given static libraries
whether they are used by not, equivalent to the <code>-Wl,--whole-archive</code> argument flag of GCC.
<em>(since 0.41.0)</em> If passed a list that list will be flattened.
<em>(since 0.51.0)</em> This argument also accepts outputs produced by
custom targets. The user must ensure that the output is a library in
the correct format.</li>
<li>
<code>link_with</code>: one or more shared or static libraries (built by this
project) that this target should be linked with. <em>(since 0.41.0)</em> If passed a
list this list will be flattened. <em>(since 0.51.0)</em> The arguments can also be custom targets.
In this case Meson will assume that merely adding the output file in the linker command
line is sufficient to make linking work. If this is not sufficient,
then the build system writer must write all other steps manually.</li>
<li>
<code>export_dynamic</code> <em>(since 0.45.0)</em>: when set to true causes the target's symbols to be
dynamically exported, allowing modules built using the
<a href="Reference-manual.html#shared_module"><code>shared_module</code></a> function to refer to functions,
variables and other symbols defined in the executable itself. Implies
the <code>implib</code> argument.</li>
<li>
<code>implib</code> <em>(since 0.42.0)</em>: when set to true, an import library is generated for the
executable (the name of the import library is based on <em>exe_name</em>).
Alternatively, when set to a string, that gives the base name for
the import library.  The import library is used when the returned
build target object appears in <code>link_with:</code> elsewhere.  Only has any
effect on platforms where that is meaningful (e.g. Windows). Implies
the <code>export_dynamic</code> argument.</li>
<li>
<code>implicit_include_directories</code> <em>(since 0.42.0)</em>: a boolean telling whether Meson
adds the current source and build directories to the include path,
defaults to <code>true</code>.</li>
<li>
<code>include_directories</code>: one or more objects created with the
<code>include_directories</code> function, or <em>(since 0.50.0)</em> strings, which
will be transparently expanded to include directory objects</li>
<li>
<code>install</code>: when set to true, this executable should be installed, defaults to <code>false</code>
</li>
<li>
<code>install_dir</code>: override install directory for this file. The value is
relative to the <code>prefix</code> specified. F.ex, if you want to install
plugins into a subdir, you'd use something like this: <code>install_dir : get_option('libdir') / 'projectname-1.0'</code>.</li>
<li>
<code>install_mode</code> <em>(since 0.47.0)</em>: specify the file mode in symbolic format
and optionally the owner/uid and group/gid for the installed files.</li>
<li>
<code>install_rpath</code>: a string to set the target's rpath to after install
(but <em>not</em> before that). On Windows, this argument has no effect.</li>
<li>
<code>objects</code>: list of prebuilt object files (usually for third party
products you don't have source to) that should be linked in this
target, <strong>never</strong> use this for object files that you build yourself.</li>
<li>
<code>name_suffix</code>: the string that will be used as the extension for the
target by overriding the default. By default on Windows this is
<code>exe</code> and on other platforms it is omitted. Set this to <code>[]</code>, or omit
the keyword argument for the default behaviour.</li>
<li>
<code>override_options</code> <em>(since 0.40.0)</em>: takes an array of strings in the same format as
<code>project</code>'s <code>default_options</code> overriding the values of these options
for this target only.</li>
<li>
<code>gnu_symbol_visibility</code> <em>(since 0.48.0)</em>: specifies how symbols should be exported, see
e.g <a href="https://gcc.gnu.org/wiki/Visibility">the GCC Wiki</a> for more
information. This value can either be an empty string or one of
<code>default</code>, <code>internal</code>, <code>hidden</code>, <code>protected</code> or <code>inlineshidden</code>, which
is the same as <code>hidden</code> but also includes things like C++ implicit
constructors as specified in the GCC manual. Ignored on compilers that
do not support GNU visibility arguments.</li>
<li>
<code>d_import_dirs</code>: list of directories to look in for string imports used
in the D programming language</li>
<li>
<code>d_unittest</code>: when set to true, the D modules are compiled in debug mode</li>
<li>
<code>d_module_versions</code>: list of module version identifiers set when compiling D sources</li>
<li>
<code>d_debug</code>: list of module debug identifiers set when compiling D sources</li>
<li>
<code>pie</code> <em>(since 0.49.0)</em>: build a position-independent executable</li>
<li>
<code>native</code>: is a boolean controlling whether the target is compiled for the
build or host machines. Defaults to false, building for the host machine.</li>
<li>
<code>win_subsystem</code> <em>(since 0.56.0)</em> specifies the subsystem type to use
on the Windows platform. Typical values include <code>console</code> for text
mode programs and <code>windows</code> for gui apps. The value can also contain
version specification such as <code>windows,6.0</code>. See <a href="https://docs.microsoft.com/en-us/cpp/build/reference/subsystem-specify-subsystem">MSDN
documentation</a>
for the full list. The default value is <code>console</code>.</li>
</ul>
<p>The list of <code>sources</code>, <code>objects</code>, and <code>dependencies</code> is always
flattened, which means you can freely nest and add lists while
creating the final list.</p>
<p>The returned object also has methods that are documented in the
<a href="Reference-manual.html#build-target-object">object methods section</a> below.</p>
<h3 id="find_library">find_library()</h3>
<p><em>(since 0.31.0)</em> <strong>(deprecated)</strong> Use <code>find_library()</code> method of
<a href="Reference-manual.html#compiler-object">the compiler object</a> as obtained from
<code>meson.get_compiler(lang)</code>.</p>
<h3 id="find_program">find_program()</h3>
<pre><code class="language-meson">    program find_program(program_name1, program_name2, ...)
</code></pre>
<p><code>program_name1</code> here is a string that can be an executable or script
to be searched for in <code>PATH</code> or other places inside the project.
The search order is:</p>
<ol>
<li>Program overrides set via <a href="Reference-manual.html#meson-object"><code>meson.override_find_program()</code></a>
</li>
<li>
<a href="Wrap-dependency-system-manual.html#provide-section"><code>[provide]</code> sections</a>
in subproject wrap files, if <a href="Builtin-options.html#core-options"><code>wrap_mode</code></a> is
set to <code>forcefallback</code>
</li>
<li>
<a href="Machine-files.html#binaries"><code>[binaries]</code> section</a> in your machine files</li>
<li>Directories provided using the <code>dirs:</code> kwarg (see below)</li>
<li>Project's source tree relative to the current subdir
<ul>
<li>If you use the return value of <a href="Reference-manual.html#configure_file"><code>configure_file()</code></a>, the
current subdir inside the build tree is used instead</li>
</ul>
</li>
<li>
<code>PATH</code> environment variable</li>
<li>
<a href="Wrap-dependency-system-manual.html#provide-section"><code>[provide]</code> sections</a> in
subproject wrap files, if <a href="Builtin-options.html#core-options"><code>wrap_mode</code></a> is
set to anything other than <code>nofallback</code>
</li>
</ol>
<p><em>(since 0.37.0)</em> <code>program_name2</code> and later positional arguments are used as fallback
strings to search for. This is meant to be used for cases where the
program may have many alternative names, such as <code>foo</code> and
<code>foo.py</code>. The function will check for the arguments one by one and the
first one that is found is returned.</p>
<p>Keyword arguments are the following:</p>
<ul>
<li>
<p><code>required</code> By default, <code>required</code> is set to <code>true</code> and Meson will
abort if no program can be found. If <code>required</code> is set to <code>false</code>,
Meson continue even if none of the programs can be found. You can
then use the <code>.found()</code> method on the <a href="Reference-manual.html#external-program-object">returned object</a> to check
whether it was found or not. <em>(since 0.47.0)</em> The value of a
<a href="Build-options.html#features"><code>feature</code></a> option can also be passed to the
<code>required</code> keyword argument.</p>
</li>
<li>
<p><code>native</code> <em>(since 0.43.0)</em>: defines how this executable should be searched. By default
it is set to <code>false</code>, which causes Meson to first look for the
executable in the cross file (when cross building) and if it is not
defined there, then from the system. If set to <code>true</code>, the cross
file is ignored and the program is only searched from the system.</p>
</li>
<li>
<p><code>disabler</code> <em>(since 0.49.0)</em>: if <code>true</code> and the program couldn't be found, return a
<a href="Reference-manual.html#disabler-object">disabler object</a> instead of a not-found object.</p>
</li>
<li>
<p><code>version</code> <em>(since 0.52.0)</em>: specifies the required version, see
<a href="Reference-manual.html#dependency"><code>dependency()</code></a> for argument format. The version of the program
is determined by running <code>program_name --version</code> command. If stdout is empty
it fallbacks to stderr. If the output contains more text than simply a version
number, only the first occurrence of numbers separated by dots is kept.
If the output is more complicated than that, the version checking will have to
be done manually using <a href="Reference-manual.html#run_command"><code>run_command()</code></a>.</p>
</li>
<li>
<p><code>dirs</code> <em>(since 0.53.0)</em>: extra list of absolute paths where to look for program
names.</p>
</li>
</ul>
<p>Meson will also autodetect scripts with a shebang line and run them
with the executable/interpreter specified in it both on Windows
(because the command invocator will reject the command otherwise) and
Unixes (if the script file does not have the executable bit set).
Hence, you <em>must not</em> manually add the interpreter while using this
script as part of a list of commands.</p>
<p>If you need to check for a program in a non-standard location, you can
just pass an absolute path to <code>find_program</code>, e.g.</p>
<pre><code class="language-meson">setcap = find_program('setcap', '/usr/sbin/setcap', '/sbin/setcap', required : false)
</code></pre>
<p>It is also possible to pass an array to <code>find_program</code> in case you
need to construct the set of paths to search on the fly:</p>
<pre><code class="language-meson">setcap = find_program(['setcap', '/usr/sbin/setcap', '/sbin/setcap'], required : false)
</code></pre>
<p>The returned object also has methods that are documented in the
<a href="Reference-manual.html#external-program-object">object methods section</a> below.</p>
<h3 id="files">files()</h3>
<pre><code class="language-meson">    file_array files(list_of_filenames)
</code></pre>
<p>This command takes the strings given to it in arguments and returns
corresponding File objects that you can use as sources for build
targets. The difference is that file objects remember the subdirectory
they were defined in and can be used anywhere in the source tree. As
an example suppose you have source file <code>foo.cpp</code> in subdirectory
<code>bar1</code> and you would like to use it in a build target that is defined
in <code>bar2</code>. To make this happen you first create the object in <code>bar1</code>
like this:</p>
<pre><code class="language-meson">    foofile = files('foo.cpp')
</code></pre>
<p>Then you can use it in <code>bar2</code> like this:</p>
<pre><code class="language-meson">    executable('myprog', 'myprog.cpp', foofile, ...)
</code></pre>
<p>Meson will then do the right thing.</p>
<h3 id="generator">generator()</h3>
<pre><code class="language-meson">    generator_object generator(*executable*, ...)
</code></pre>
<p>See also: <a href="Reference-manual.html#custom_target"><code>custom_target</code></a></p>
<p>This function creates a <a href="Reference-manual.html#generator-object">generator object</a> that can
be used to run custom compilation commands. The only positional
argument is the executable to use. It can either be a self-built
executable or one returned by find_program. Keyword arguments are the
following:</p>
<ul>
<li>
<code>arguments</code>: a list of template strings that will be the command line
arguments passed to the executable</li>
<li>
<code>depends</code> <em>(since 0.51.0)</em>: is an array of build targets that must be built before this
generator can be run. This is used if you have a generator that calls
a second executable that is built in this project.</li>
<li>
<code>depfile</code>: is a template string pointing to a dependency file that a
generator can write listing all the additional files this target
depends on, for example a C compiler would list all the header files
it included, and a change in any one of these files triggers a
recompilation</li>
<li>
<code>output</code>: a template string (or list of template strings) defining
how an output file name is (or multiple output names are) generated
from a single source file name</li>
<li>
<code>capture</code> <em>(since 0.43.0)</em>: when this argument is set to true, Meson
captures <code>stdout</code> of the <code>executable</code> and writes it to the target file
specified as <code>output</code>.</li>
</ul>
<p>The returned object also has methods that are documented in the
<a href="Reference-manual.html#generator-object">object methods section</a> below.</p>
<p>The template strings passed to all the above keyword arguments accept
the following special substitutions:</p>
<ul>
<li>
<code>@PLAINNAME@</code>: the complete input file name, e.g: <code>foo.c</code> becomes <code>foo.c</code> (unchanged)</li>
<li>
<code>@BASENAME@</code>: the base of the input filename, e.g.: <code>foo.c.y</code> becomes <code>foo.c</code> (extension is removed)</li>
</ul>
<p>Each string passed to the <code>output</code> keyword argument <em>must</em> be
constructed using one or both of these two substitutions.</p>
<p>In addition to the above substitutions, the <code>arguments</code> keyword
argument also accepts the following:</p>
<ul>
<li>
<code>@OUTPUT@</code>: the full path to the output file</li>
<li>
<code>@INPUT@</code>: the full path to the input file</li>
<li>
<code>@DEPFILE@</code>: the full path to the depfile</li>
<li>
<code>@SOURCE_DIR@</code>: the full path to the root of the source tree</li>
<li>
<code>@CURRENT_SOURCE_DIR@</code>: this is the directory where the currently processed meson.build is located in</li>
<li>
<code>@BUILD_DIR@</code>: the full path to the root of the build dir where the output will be placed</li>
</ul>
<p>NOTE: Generators should only be used for outputs that will <em><strong>only</strong></em>
be used as inputs for a <a href="Reference-manual.html#build_target">build target</a> or a <a href="Reference-manual.html#custom_target">custom
target</a>. When you use the processed output of a
generator in multiple targets, the generator will be run multiple
times to create outputs for each target. Each output will be created
in a target-private directory <code>@BUILD_DIR@</code>.</p>
<p>If you want to generate files for general purposes such as for
generating headers to be used by several sources, or data that will be
installed, and so on, use a <a href="Reference-manual.html#custom_target"><code>custom_target</code></a> instead.</p>
<h3 id="get_option">get_option()</h3>
<pre><code class="language-meson">    value get_option(option_name)
</code></pre>
<p>Obtains the value of the <a href="Build-options.html">project build option</a>
specified in the positional argument.</p>
<p>Note that the value returned for built-in options that end in <code>dir</code>
such as <code>bindir</code> and <code>libdir</code> is always a path relative to (and
inside) the <code>prefix</code>.</p>
<p>The only exceptions are: <code>sysconfdir</code>, <code>localstatedir</code>, and
<code>sharedstatedir</code> which will return the value passed during
configuration as-is, which may be absolute, or relative to <code>prefix</code>.
<a href="Installing.html"><code>install_dir</code> arguments</a> handles that as expected, but
if you need the absolute path to one of these e.g. to use in a define
etc., you should use <code>get_option('prefix') / get_option('localstatedir')</code></p>
<p>For options of type <code>feature</code> a
<a href="Reference-manual.html#feature-option-object">feature option object</a>
is returned instead of a string.
See <a href="Build-options.html#features"><code>feature</code> options</a>
documentation for more details.</p>
<h3 id="get_variable">get_variable()</h3>
<pre><code class="language-meson">    value get_variable(variable_name, fallback)
</code></pre>
<p>This function can be used to dynamically obtain a variable. <code>res = get_variable(varname, fallback)</code> takes the value of <code>varname</code> (which
must be a string) and stores the variable of that name into <code>res</code>. If
the variable does not exist, the variable <code>fallback</code> is stored to
<code>res</code>instead. If a fallback is not specified, then attempting to read
a non-existing variable will cause a fatal error.</p>
<h3 id="import">import()</h3>
<pre><code class="language-meson">    module_object import(module_name)
</code></pre>
<p>Imports the given extension module. Returns an opaque object that can
be used to call the methods of the module. Here's an example for a
hypothetical <code>testmod</code> module.</p>
<pre><code class="language-meson">    tmod = import('testmod')
    tmod.do_something()
</code></pre>
<h3 id="include_directories">include_directories()</h3>
<pre><code class="language-meson">    include_object include_directories(directory_names, ...)
</code></pre>
<p>Returns an opaque object which contains the directories (relative to
the current directory) given in the positional arguments. The result
can then be passed to the <code>include_directories:</code> keyword argument when
building executables or libraries. You can use the returned object in
any subdirectory you want, Meson will make the paths work
automatically.</p>
<p>Note that this function call itself does not add the directories into
the search path, since there is no global search path. For something
like that, see <a href="Reference-manual.html#add_project_arguments"><code>add_project_arguments()</code></a>.</p>
<p>See also <code>implicit_include_directories</code> parameter of
<a href="Reference-manual.html#executable">executable()</a>, which adds current source and build
directories to include path.</p>
<p>Each directory given is converted to two include paths: one that is
relative to the source root and one relative to the build root.</p>
<p>For example, with the following source tree layout in
<code>/home/user/project.git</code>:</p>
<p><code>meson.build</code>:</p>
<pre><code class="language-meson">project(...)

subdir('include')
subdir('src')

...
</code></pre>
<p><code>include/meson.build</code>:</p>
<pre><code class="language-meson">inc = include_directories('.')

...
</code></pre>
<p><code>src/meson.build</code>:</p>
<pre><code class="language-meson">sources = [...]

executable('some-tool', sources,
  include_directories : inc,
  ...)

...
</code></pre>
<p>If the build tree is <code>/tmp/build-tree</code>, the following include paths
will be added to the <code>executable()</code> call: <code>-I/tmp/build-tree/include -I/home/user/project.git/include</code>.</p>
<p>This function has one keyword argument <code>is_system</code> which, if set,
flags the specified directories as system directories. This means that
they will be used with the <code>-isystem</code> compiler argument rather than
<code>-I</code> on compilers that support this flag (in practice everything
except Visual Studio).</p>
<h3 id="install_data">install_data()</h3>
<pre><code class="language-meson">    void install_data(list_of_files, ...)
</code></pre>
<p>Installs files from the source tree that are listed as positional
arguments. The following keyword arguments are supported:</p>
<ul>
<li>
<p><code>install_dir</code>: the absolute or relative path to the installation
directory. If this is a relative path, it is assumed to be relative
to the prefix.</p>
<p>If omitted, the directory defaults to <code>{datadir}/{projectname}</code> <em>(since 0.45.0)</em>.</p>
</li>
<li>
<p><code>install_mode</code>: specify the file mode in symbolic format and
optionally the owner/uid and group/gid for the installed files. For
example:</p>
<p><code>install_mode: 'rw-r--r--'</code> for just the file mode</p>
<p><code>install_mode: ['rw-r--r--', 'nobody', 'nogroup']</code> for the file mode and the user/group</p>
<p><code>install_mode: ['rw-r-----', 0, 0]</code> for the file mode and uid/gid</p>
</li>
</ul>
<p>To leave any of these three as the default, specify <code>false</code>.</p>
<ul>
<li>
<code>rename</code> <em>(since 0.46.0)</em>: if specified renames each source file into corresponding
file from <code>rename</code> list. Nested paths are allowed and they are
joined with <code>install_dir</code>. Length of <code>rename</code> list must be equal to
the number of sources.</li>
</ul>
<p>See <a href="Installing.html">Installing</a> for more examples.</p>
<h3 id="install_headers">install_headers()</h3>
<pre><code class="language-meson">    void install_headers(list_of_headers, ...)
</code></pre>
<p>Installs the specified header files from the source tree into the
system header directory (usually <code>/{prefix}/include</code>) during the
install step. This directory can be overridden by specifying it with
the <code>install_dir</code> keyword argument. If you just want to install into a
subdirectory of the system header directory, then use the <code>subdir</code>
argument. As an example if this has the value <code>myproj</code> then the
headers would be installed to <code>/{prefix}/include/myproj</code>.</p>
<p>For example, this will install <code>common.h</code> and <code>kola.h</code> into
<code>/{prefix}/include</code>:</p>
<pre><code class="language-meson">install_headers('common.h', 'proj/kola.h')
</code></pre>
<p>This will install <code>common.h</code> and <code>kola.h</code> into <code>/{prefix}/include/myproj</code>:</p>
<pre><code class="language-meson">install_headers('common.h', 'proj/kola.h', subdir : 'myproj')
</code></pre>
<p>This will install <code>common.h</code> and <code>kola.h</code> into <code>/{prefix}/cust/myproj</code>:</p>
<pre><code class="language-meson">install_headers('common.h', 'proj/kola.h', install_dir : 'cust', subdir : 'myproj')
</code></pre>
<p>Accepts the following keywords:</p>
<ul>
<li>
<code>install_mode</code> <em>(since 0.47.0)</em>: can be used to specify the file mode in symbolic
format and optionally the owner/uid and group/gid for the installed files.
An example value could be <code>['rwxr-sr-x', 'root', 'root']</code>.</li>
</ul>
<h3 id="install_man">install_man()</h3>
<pre><code class="language-meson">    void install_man(list_of_manpages, ...)
</code></pre>
<p>Installs the specified man files from the source tree into system's
man directory during the install step. This directory can be
overridden by specifying it with the <code>install_dir</code> keyword argument.</p>
<p>Accepts the following keywords:</p>
<ul>
<li>
<p><code>install_mode</code> <em>(since 0.47.0)</em>: can be used to specify the file mode in symbolic
format and optionally the owner/uid and group/gid for the installed files.
An example value could be <code>['rwxr-sr-x', 'root', 'root']</code>.</p>
</li>
<li>
<p><code>locale</code> <em>(since 0.58.0)</em>: can be used to specify the locale into which the
man page will be installed within the manual page directory tree.
An example manual might be <code>foo.fr.1</code> with a locale of <code>fr</code>, such
that <code>{mandir}/{locale}/man{num}/foo.1</code> becomes the installed file.</p>
</li>
</ul>
<p><em>(since 0.49.0)</em> <a href="https://mesonbuild.com/Release-notes-for-0-49-0.html#manpages-are-no-longer-compressed-implicitly">manpages are no longer compressed
implicitly</a>.</p>
<h3 id="install_subdir">install_subdir()</h3>
<pre><code class="language-meson">    void install_subdir(subdir_name,
                        install_dir : ...,
                        exclude_files : ...,
                        exclude_directories : ...,
                        strip_directory : ...)
</code></pre>
<p>Installs the entire given subdirectory and its contents from the
source tree to the location specified by the keyword argument
<code>install_dir</code>.</p>
<p>If the subdirectory does not exist in the source tree, an empty directory is
created in the specified location. <em>(since 0.45.0)</em> A newly created
subdirectory may only be created in the keyword argument <code>install_dir</code>.</p>
<p>The following keyword arguments are supported:</p>
<ul>
<li>
<code>exclude_files</code>: a list of file names that should not be installed.
Names are interpreted as paths relative to the <code>subdir_name</code> location.</li>
<li>
<code>exclude_directories</code>: a list of directory names that should not be installed.
Names are interpreted as paths relative to the <code>subdir_name</code> location.</li>
<li>
<code>install_dir</code>: the location to place the installed subdirectory.</li>
<li>
<code>install_mode</code> <em>(since 0.47.0)</em>: the file mode in symbolic format and optionally
the owner/uid and group/gid for the installed files.</li>
<li>
<code>strip_directory</code> <em>(since 0.45.0)</em>: install directory contents. <code>strip_directory=false</code> by default.
If <code>strip_directory=true</code> only the last component of the source path is used.</li>
</ul>
<p>For a given directory <code>foo</code>:</p>
<pre><code class="language-text">foo/
  bar/
    file1
  file2
</code></pre>
<p><code>install_subdir('foo', install_dir : 'share', strip_directory : false)</code> creates</p>
<pre><code class="language-text">share/
  foo/
    bar/
      file1
    file2
</code></pre>
<p><code>install_subdir('foo', install_dir : 'share', strip_directory : true)</code> creates</p>
<pre><code class="language-text">share/
  bar/
    file1
  file2
</code></pre>
<p><code>install_subdir('foo/bar', install_dir : 'share', strip_directory : false)</code> creates</p>
<pre><code class="language-text">share/
  bar/
    file1
</code></pre>
<p><code>install_subdir('foo/bar', install_dir : 'share', strip_directory : true)</code> creates</p>
<pre><code class="language-text">share/
  file1
</code></pre>
<p><code>install_subdir('new_directory', install_dir : 'share')</code> creates</p>
<pre><code class="language-text">share/
  new_directory/
</code></pre>
<h3 id="is_disabler">is_disabler()</h3>
<pre><code class="language-meson">    bool is_disabler(var)
</code></pre>
<p><em>(since 0.52.0)</em></p>
<p>Returns true if a variable is a disabler and false otherwise.</p>
<h3 id="is_variable">is_variable()</h3>
<pre><code class="language-meson">    bool is_variable(varname)
</code></pre>
<p>Returns true if a variable of the given name exists and false otherwise.</p>
<h3 id="jar">jar()</h3>
<pre><code class="language-meson">   jar_object jar(name, list_of_sources, ...)
</code></pre>
<p>Build a jar from the specified Java source files. Keyword arguments
are the same as <a href="Reference-manual.html#executable"><code>executable</code></a>'s, with the addition of
<code>main_class</code> which specifies the main class to execute when running
the jar with <code>java -jar file.jar</code>.</p>
<h3 id="join_paths">join_paths()</h3>
<pre><code class="language-meson">string join_paths(string1, string2, ...)
</code></pre>
<p><em>(since 0.36.0)</em></p>
<p>Joins the given strings into a file system path segment. For example
<code>join_paths('foo', 'bar')</code> results in <code>foo/bar</code>. If any one of the
individual segments is an absolute path, all segments before it are
dropped. That means that <code>join_paths('foo', '/bar')</code> returns <code>/bar</code>.</p>
<p><strong>Warning</strong> Don't use <code>join_paths()</code> for sources in <a href="Reference-manual.html#library"><code>library</code></a> and
<a href="Reference-manual.html#executable"><code>executable</code></a>, you should use <a href="Reference-manual.html#files"><code>files</code></a> instead.</p>
<p><em>(since 0.49.0)</em> Using the<code>/</code> operator on strings is equivalent to calling
<code>join_paths</code>.</p>
<pre><code class="language-meson"># res1 and res2 will have identical values
res1 = join_paths(foo, bar)
res2 = foo / bar
</code></pre>
<h3 id="library">library()</h3>
<pre><code class="language-meson">    buildtarget library(library_name, list_of_sources, ...)
</code></pre>
<p>Builds a library that is either static, shared or both depending on
the value of <code>default_library</code>
user <a href="https://mesonbuild.com/Builtin-options.html">option</a>.
You should use this instead of <a href="Reference-manual.html#shared_library"><code>shared_library</code></a>,
<a href="Reference-manual.html#static_library"><code>static_library</code></a> or
<a href="Reference-manual.html#both_libraries"><code>both_libraries</code></a> most of the time. This allows you
to toggle your entire project (including subprojects) from shared to
static with only one option. This option applies to libraries being
built internal to the entire project. For external dependencies, the
default library type preferred is shared. This can be adapted on a per
library basis using the <a href="Reference-manual.html#dependency">dependency()</a>) <code>static</code> keyword.</p>
<p>The keyword arguments for this are the same as for
<a href="Reference-manual.html#executable"><code>executable</code></a> with the following additions:</p>
<ul>
<li>
<code>name_prefix</code>: the string that will be used as the prefix for the
target output filename by overriding the default (only used for
libraries). By default this is <code>lib</code> on all platforms and compilers,
except for MSVC shared libraries where it is omitted to follow
convention, and Cygwin shared libraries where it is <code>cyg</code>.</li>
<li>
<code>name_suffix</code>: the string that will be used as the suffix for the
target output filename by overriding the default (see also:
<a href="Reference-manual.html#executable">executable()</a>). By default, for shared libraries this
is <code>dylib</code> on macOS, <code>dll</code> on Windows, and <code>so</code> everywhere else.
For static libraries, it is <code>a</code> everywhere. By convention MSVC
static libraries use the <code>lib</code> suffix, but we use <code>a</code> to avoid a
potential name clash with shared libraries which also generate
import libraries with a <code>lib</code> suffix.</li>
<li>
<code>rust_crate_type</code>: specifies the crate type for Rust
libraries. Defaults to <code>dylib</code> for shared libraries and <code>rlib</code> for
static libraries.</li>
</ul>
<p><code>static_library</code>, <code>shared_library</code> and <code>both_libraries</code> also accept
these keyword arguments.</p>
<p>Note: You can set <code>name_prefix</code> and <code>name_suffix</code> to <code>[]</code>, or omit
them for the default behaviour for each platform.</p>
<h3 id="message">message()</h3>
<pre><code class="language-meson">    void message(text)
</code></pre>
<p>This function prints its argument to stdout.</p>
<p><em>(since 0.54.0)</em> Can take more than one argument that will be
separated by space.</p>
<h3 id="warning">warning()</h3>
<pre><code class="language-meson">    void warning(text)
</code></pre>
<p><em>(since 0.44.0)</em></p>
<p>This function prints its argument to stdout prefixed with WARNING:.</p>
<p><em>(since 0.54.0)</em> Can take more than one argument that will be separated by
space.</p>
<h3 id="summary">summary()</h3>
<pre><code class="language-meson">    void summary(key, value)
    void summary(dictionary)
</code></pre>
<p><em>(since 0.53.0)</em></p>
<p>This function is used to summarize build configuration at the end of the build
process. This function provides a way for projects (and subprojects) to report
this information in a clear way.</p>
<p>The content is a series of key/value pairs grouped into sections. If
the section keyword argument is omitted, those key/value pairs are
implicitly grouped into a section with no title. key/value pairs can
optionally be grouped into a dictionary, but keep in mind that
dictionaries does not guarantee ordering. <code>key</code> must be string,
<code>value</code> can be:</p>
<ul>
<li>an integer, boolean or string</li>
<li>
<em>since 0.57.0</em> an external program or a dependency</li>
<li>
<em>since 0.58.0</em> a feature option</li>
<li>a list of those.</li>
</ul>
<p><code>summary()</code> can be called multiple times as long as the same
section/key pair doesn't appear twice. All sections will be collected
and printed at the end of the configuration in the same order as they
have been called.</p>
<p>Keyword arguments:</p>
<ul>
<li>
<code>section</code>: title to group a set of key/value pairs.</li>
<li>
<code>bool_yn</code>: if set to true, all boolean values will be replaced by green YES
or red NO.</li>
<li>
<code>list_sep</code> <em>(since 0.54.0)</em>: string used to separate list values (e.g. <code>', '</code>).</li>
</ul>
<p>Example:</p>
<pre><code class="language-meson">project('My Project', version : '1.0')
summary({'bindir': get_option('bindir'),
         'libdir': get_option('libdir'),
         'datadir': get_option('datadir'),
        }, section: 'Directories')
summary({'Some boolean': false,
         'Another boolean': true,
         'Some string': 'Hello World',
         'A list': ['string', 1, true],
        }, section: 'Configuration')
</code></pre>
<p>Output:</p>
<pre><code>My Project 1.0

  Directories
    prefix         : /opt/gnome
    bindir         : bin
    libdir         : lib/x86_64-linux-gnu
    datadir        : share

  Configuration
    Some boolean   : False
    Another boolean: True
    Some string    : Hello World
    A list         : string
                     1
                     True
</code></pre>
<h3 id="project">project()</h3>
<pre><code class="language-meson">    void project(project_name, list_of_languages, ...)
</code></pre>
<p>The first argument to this function must be a string defining the name
of this project.</p>
<p>The project name can be any string you want, it's not used for
anything except descriptive purposes. However since it is written to
e.g. the dependency manifest is usually makes sense to have it be the
same as the project tarball or pkg-config name. So for example you
would probably want to use the name <em>libfoobar</em> instead of <em>The Foobar
Library</em>.</p>
<p>It may be followed by the list of programming languages that the project uses.</p>
<p><em>(since 0.40.0)</em> The list of languages is optional.</p>
<p>These languages may be used both for <code>native: false</code> (the default)
(host machine) targets and for <code>native: true</code> (build machine) targets.
<em>(since 0.56.0)</em> The build machine compilers for the specified
languages are not required.</p>
<p>Supported values for languages are <code>c</code>, <code>cpp</code> (for <code>C++</code>), <code>cuda</code>, <code>d</code>,
<code>objc</code>, <code>objcpp</code>, <code>fortran</code>, <code>java</code>, <code>cs</code> (for <code>C#</code>), <code>vala</code> and <code>rust</code>.</p>
<p>Project supports the following keyword arguments.</p>
<ul>
<li>
<p><code>default_options</code>: takes an array of strings. The strings are in the
form <code>key=value</code> and have the same format as options to
<code>meson configure</code>. For example to set the default project type you would
set this: <code>default_options : ['buildtype=debugoptimized']</code>. Note
that these settings are only used when running Meson for the first
time. Global options such as <code>buildtype</code> can only be specified in
the master project, settings in subprojects are ignored. Project
specific options are used normally even in subprojects.</p>
</li>
<li>
<p><code>license</code>: takes a string or array of strings describing the license(s) the
code is under. To avoid ambiguity it is recommended to use a standardized
license identifier from the <a href="https://spdx.org/licenses/">SPDX license list</a>.
Usually this would be something like <code>license : 'GPL-2.0-or-later'</code>, but if
the code has multiple licenses you can specify them as an array like this:
<code>license : ['proprietary', 'GPL-3.0-only']</code>. Note that the text is informal
and is only written to the dependency manifest. Meson does not do any license
validation, you are responsible for verifying that you abide by all licensing
terms. You can access the value in your Meson build files with
<code>meson.project_license()</code>.</p>
</li>
<li>
<p><code>meson_version</code>: takes a string describing which Meson version the
project requires. Usually something like <code>&gt;=0.28.0</code>.</p>
</li>
<li>
<p><code>subproject_dir</code>: specifies the top level directory name that holds
Meson subprojects. This is only meant as a compatibility option
for existing code bases that house their embedded source code in a
custom directory. All new projects should not set this but instead
use the default value. It should be noted that this keyword
argument is ignored inside subprojects. There can be only one
subproject dir and it is set in the top level Meson file.</p>
</li>
<li>
<p><code>version</code>: which is a free form string describing the version of
this project. You can access the value in your Meson build files
with <code>meson.project_version()</code>. Since 0.57.0 this can also be a
<code>File</code> object pointing to a file that contains exactly one line of
text.</p>
</li>
</ul>
<h3 id="run_command">run_command()</h3>
<pre><code class="language-meson">    runresult run_command(command, list_of_args, ...)
</code></pre>
<p>Runs the command specified in positional arguments. <code>command</code> can be a
string, or the output of <a href="Reference-manual.html#find_program"><code>find_program()</code></a>,
<a href="Reference-manual.html#files"><code>files()</code></a> or <a href="Reference-manual.html#configure_file"><code>configure_file()</code></a>, or <a href="Reference-manual.html#compiler-object">a
compiler object</a>.</p>
<p>Returns <a href="Reference-manual.html#run-result-object">an opaque object</a> containing the result
of the invocation. The command is run from an <em>unspecified</em> directory,
and Meson will set three environment variables <code>MESON_SOURCE_ROOT</code>,
<code>MESON_BUILD_ROOT</code> and <code>MESON_SUBDIR</code> that specify the source
directory, build directory and subdirectory the target was defined in,
respectively.</p>
<p>This function supports the following keyword arguments:</p>
<ul>
<li>
<code>check</code> <em>(since 0.47.0)</em>: takes a boolean. If <code>true</code>, the exit status code of the command will
be checked, and the configuration will fail if it is non-zero. The default is
<code>false</code>.</li>
<li>
<code>env</code> <em>(since 0.50.0)</em>: environment variables to set, such as <code>['NAME1=value1', 'NAME2=value2']</code>, or an <a href="Reference-manual.html#environment-object"><code>environment()</code>
object</a> which allows more sophisticated
environment juggling. <em>(since 0.52.0)</em> A dictionary is also accepted.</li>
</ul>
<p>See also <a href="External-commands.html">External commands</a>.</p>
<h3 id="run_target">run_target</h3>
<pre><code class="language-meson">runtarget run_target(target_name, ...)
</code></pre>
<p>This function creates a new top-level target that runs a specified
command with the specified arguments. Like all top-level targets, this
integrates with the selected backend. For instance, you can run it as
<code>meson compile target_name</code>. Note that a run target produces no output
as far as Meson is concerned. It is only meant for tasks such as
running a code formatter or flashing an external device's firmware
with a built file.</p>
<p>The command is run from an <em>unspecified</em> directory, and Meson will set
three environment variables <code>MESON_SOURCE_ROOT</code>, <code>MESON_BUILD_ROOT</code>
and <code>MESON_SUBDIR</code> that specify the source directory, build directory
and subdirectory the target was defined in, respectively.</p>
<ul>
<li>
<code>command</code> is a list containing the command to run and the arguments
to pass to it. Each list item may be a string or a target. For
instance, passing the return value of <a href="Reference-manual.html#executable"><code>executable()</code></a>
as the first item will run that executable, or passing a string as
the first item will find that command in <code>PATH</code> and run it.</li>
<li>
<code>depends</code> is a list of targets that this target depends on but which
are not listed in the command array (because, for example, the
script does file globbing internally)</li>
<li>
<code>env</code> <em>(since 0.57.0)</em>: environment variables to set, such as
<code>{'NAME1': 'value1', 'NAME2': 'value2'}</code> or <code>['NAME1=value1', 'NAME2=value2']</code>,
or an <a href="Reference-manual.html#environment-object"><code>environment()</code> object</a> which allows more
sophisticated environment juggling.</li>
</ul>
<p><em>Since 0.57.0</em> The template strings passed to <code>command</code> keyword arguments accept
the following special substitutions:</p>
<ul>
<li>
<code>@SOURCE_ROOT@</code>: the path to the root of the source tree. Depending on the backend,
this may be an absolute or a relative to current workdir path.</li>
<li>
<code>@BUILD_ROOT@</code>: the path to the root of the build tree. Depending on the backend,
this may be an absolute or a relative to current workdir path.</li>
<li>
<code>@CURRENT_SOURCE_DIR@</code> <em>Since 0.57.1</em>: this is the directory where the currently
processed meson.build is located in. Depending on the backend,
this may be an absolute or a relative to current workdir path.</li>
</ul>
<h3 id="set_variable">set_variable()</h3>
<pre><code class="language-meson">    void set_variable(variable_name, value)
</code></pre>
<p>Assigns a value to the given variable name. Calling
<code>set_variable('foo', bar)</code> is equivalent to <code>foo = bar</code>.</p>
<p><em>(since 0.46.1)</em> The <code>value</code> parameter can be an array type.</p>
<h3 id="shared_library">shared_library()</h3>
<pre><code class="language-meson">    buildtarget shared_library(library_name, list_of_sources, ...)
</code></pre>
<p>Builds a shared library with the given sources. Positional and keyword
arguments are the same as for <a href="Reference-manual.html#library"><code>library</code></a> with the following
extra keyword arguments.</p>
<ul>
<li>
<code>soversion</code>: a string specifying the soversion of this shared
library, such as <code>0</code>. On Linux and Windows this is used to set the
soversion (or equivalent) in the filename. For example, if
<code>soversion</code> is <code>4</code>, a Windows DLL will be called <code>foo-4.dll</code> and one
of the aliases of the Linux shared library would be
<code>libfoo.so.4</code>. If this is not specified, the first part of <code>version</code>
is used instead (see below). For example, if <code>version</code> is <code>3.6.0</code> and
<code>soversion</code> is not defined, it is set to <code>3</code>.</li>
<li>
<code>version</code>: a string specifying the version of this shared library,
such as <code>1.1.0</code>. On Linux and OS X, this is used to set the shared
library version in the filename, such as <code>libfoo.so.1.1.0</code> and
<code>libfoo.1.1.0.dylib</code>. If this is not specified, <code>soversion</code> is used
instead (see above).</li>
<li>
<code>darwin_versions</code> <em>(since 0.48.0)</em>: an integer, string, or a list of
versions to use for setting dylib <code>compatibility version</code> and
<code>current version</code> on macOS. If a list is specified, it must be
either zero, one, or two elements. If only one element is specified
or if it's not a list, the specified value will be used for setting
both compatibility version and current version. If unspecified, the
<code>soversion</code> will be used as per the aforementioned rules.</li>
<li>
<code>vs_module_defs</code>: a string, a File object, or Custom Target for a
Microsoft module definition file for controlling symbol exports,
etc., on platforms where that is possible (e.g. Windows).</li>
</ul>
<h3 id="shared_module">shared_module()</h3>
<pre><code class="language-meson">    buildtarget shared_module(module_name, list_of_sources, ...)
</code></pre>
<p><em>(since 0.37.0)</em></p>
<p>Builds a shared module with the given sources. Positional and keyword
arguments are the same as for <a href="Reference-manual.html#library"><code>library</code></a>.</p>
<p>This is useful for building modules that will be <code>dlopen()</code>ed and
hence may contain undefined symbols that will be provided by the
library that is loading it.</p>
<p>If you want the shared module to be able to refer to functions and
variables defined in the <a href="Reference-manual.html#executable"><code>executable</code></a> it is loaded by,
you will need to set the <code>export_dynamic</code> argument of the executable to
<code>true</code>.</p>
<p>Supports the following extra keyword arguments:</p>
<ul>
<li>
<code>vs_module_defs</code> <em>(since 0.52.0)</em>: a string, a File object, or
Custom Target for a Microsoft module definition file for controlling
symbol exports, etc., on platforms where that is possible
(e.g. Windows).</li>
</ul>
<p><strong>Note:</strong> Linking to a shared module is not supported on some
platforms, notably OSX.  Consider using a
<a href="Reference-manual.html#shared_library"><code>shared_library</code></a> instead, if you need to both
<code>dlopen()</code> and link with a library.</p>
<h3 id="static_library">static_library()</h3>
<pre><code class="language-meson">    buildtarget static_library(library_name, list_of_sources, ...)
</code></pre>
<p>Builds a static library with the given sources. Positional and keyword
arguments are otherwise the same as for <a href="Reference-manual.html#library"><code>library</code></a>, but it
has one argument the others don't have:</p>
<ul>
<li>
<p><code>pic</code> <em>(since 0.36.0)</em>: builds the library as positional
independent code (so it can be linked into a shared library). This
option has no effect on Windows and OS X since it doesn't make
sense on Windows and PIC cannot be disabled on OS X.</p>
</li>
<li>
<p><code>prelink</code> <em>since0.57.0</em>: if <code>true</code> the object files in the target
will be prelinked, meaning that it will contain only one prelinked
object file rather than the individual object files.</p>
</li>
</ul>
<h3 id="subdir">subdir()</h3>
<pre><code class="language-meson">    void subdir(dir_name, ...)
</code></pre>
<p>Enters the specified subdirectory and executes the <code>meson.build</code> file
in it. Once that is done, it returns and execution continues on the
line following this <code>subdir()</code> command. Variables defined in that
<code>meson.build</code> file are then available for use in later parts of the
current build file and in all subsequent build files executed with
<code>subdir()</code>.</p>
<p>Note that this means that each <code>meson.build</code> file in a source tree can
and must only be executed once.</p>
<p>This function has one keyword argument.</p>
<ul>
<li>
<code>if_found</code>: takes one or several dependency objects and will only
recurse in the subdir if they all return <code>true</code> when queried with
<code>.found()</code>
</li>
</ul>
<h3 id="subdir_done">subdir_done()</h3>
<pre><code class="language-meson">    subdir_done()
</code></pre>
<p>Stops further interpretation of the Meson script file from the point
of the invocation. All steps executed up to this point are valid and
will be executed by Meson. This means that all targets defined before
the call of <code>subdir_done</code> will be build.</p>
<p>If the current script was called by <code>subdir</code> the execution returns to
the calling directory and continues as if the script had reached the
end. If the current script is the top level script Meson configures
the project as defined up to this point.</p>
<p>Example:</p>
<pre><code class="language-meson">project('example exit', 'cpp')
executable('exe1', 'exe1.cpp')
subdir_done()
executable('exe2', 'exe2.cpp')
</code></pre>
<p>The executable <code>exe1</code> will be build, while the executable <code>exe2</code> is not
build.</p>
<h3 id="subproject">subproject()</h3>
<pre><code class="language-meson">    subproject_object subproject(subproject_name, ...)
</code></pre>
<p>Takes the project specified in the positional argument and brings that
in the current build specification by returning a <a href="Reference-manual.html#subproject-object">subproject
object</a>. Subprojects must always be placed inside
the <code>subprojects</code> directory at the top source directory. So for
example a subproject called <code>foo</code> must be located in
<code>${MESON_SOURCE_ROOT}/subprojects/foo</code>. Supports the following keyword
arguments:</p>
<ul>
<li>
<code>default_options</code> <em>(since 0.37.0)</em>: an array of default option values
that override those set in the subproject's <code>meson_options.txt</code>
(like <code>default_options</code> in <code>project</code>, they only have effect when
Meson is run for the first time, and command line arguments override
any default options in build files). <em>(since 0.54.0)</em>: <code>default_library</code>
built-in option can also be overridden.</li>
<li>
<code>version</code>: works just like the same as in <code>dependency</code>.
It specifies what version the subproject should be, as an example <code>&gt;=1.0.1</code>
</li>
<li>
<code>required</code> <em>(since 0.48.0)</em>: By default, <code>required</code> is <code>true</code> and
Meson will abort if the subproject could not be setup. You can set
this to <code>false</code> and then use the <code>.found()</code> method on the <a href="Reference-manual.html#subproject-object">returned
object</a>. You may also pass the value of a
<a href="Build-options.html#features"><code>feature</code></a> option, same as
<a href="Reference-manual.html#dependency"><code>dependency()</code></a>.</li>
</ul>
<p>Note that you can use the returned <a href="Reference-manual.html#subproject-object">subproject
object</a> to access any variable in the
subproject. However, if you want to use a dependency object from
inside a subproject, an easier way is to use the <code>fallback:</code> keyword
argument to <a href="Reference-manual.html#dependency"><code>dependency()</code></a>.</p>
<p><a href="Subprojects.html">See additional documentation</a>.</p>
<h3 id="test">test()</h3>
<pre><code class="language-meson">    void test(name, executable, ...)
</code></pre>
<p>Defines a test to run with the test harness. Takes two positional
arguments, the first is the name of the test and the second is the
executable to run. The executable can be an <a href="Reference-manual.html#build-target-object">executable build target
object</a> returned by
<a href="Reference-manual.html#executable"><code>executable()</code></a> or an <a href="Reference-manual.html#external-program-object">external program
object</a> returned by
<a href="Reference-manual.html#find_program"><code>find_program()</code></a>.</p>
<p><em>(since 0.55.0)</em> When cross compiling, if an exe_wrapper is needed and
defined the environment variable <code>MESON_EXE_WRAPPER</code> will be set to
the string value of that wrapper (implementation detail: using
<code>mesonlib.join_args</code>). Test scripts may use this to run cross built
binaries. If your test needs <code>MESON_EXE_WRAPPER</code> in cross build
situations it is your responsibility to return code 77 to tell the
harness to report "skip".</p>
<p>By default, environment variable
<a href="http://man7.org/linux/man-pages/man3/mallopt.3.html"><code>MALLOC_PERTURB_</code></a>
is automatically set by <code>meson test</code> to a random value between 1..255.
This can help find memory leaks on configurations using glibc,
including with non-GCC compilers. However, this can have a performance
impact, and may fail a test due to external libraries whose internals
are out of the user's control. To check if this feature is causing an
expected runtime crash, disable the feature by temporarily setting
environment variable <code>MALLOC_PERTURB_=0</code>. While it's preferable to
only temporarily disable this check, if a project requires permanent
disabling of this check in meson.build do like:</p>
<pre><code class="language-meson">nomalloc = environment({'MALLOC_PERTURB_': '0'})

test(..., env: nomalloc, ...)
</code></pre>
<h4 id="test-keyword-arguments">test() Keyword arguments</h4>
<ul>
<li>
<p><code>args</code>: arguments to pass to the executable</p>
</li>
<li>
<p><code>env</code>: environment variables to set, such as <code>['NAME1=value1', 'NAME2=value2']</code>, or an <a href="Reference-manual.html#environment-object"><code>environment()</code>
object</a> which allows more sophisticated
environment juggling. <em>(since 0.52.0)</em> A dictionary is also accepted.</p>
</li>
<li>
<p><code>is_parallel</code>: when false, specifies that no other test must be
running at the same time as this test</p>
</li>
<li>
<p><code>should_fail</code>: when true the test is considered passed if the
executable returns a non-zero return value (i.e. reports an error)</p>
</li>
<li>
<p><code>suite</code>: <code>'label'</code> (or list of labels <code>['label1', 'label2']</code>)
attached to this test. The suite name is qualified by a (sub)project
name resulting in <code>(sub)project_name:label</code>. In the case of a list
of strings, the suite names will be <code>(sub)project_name:label1</code>,
<code>(sub)project_name:label2</code>, etc.</p>
</li>
<li>
<p><code>timeout</code>: the amount of seconds the test is allowed to run, a test
that exceeds its time limit is always considered failed, defaults to
30 seconds. <em>Since 0.57</em> if timeout is <code>&lt;= 0</code> the test has infinite duration,
in previous versions of Meson the test would fail with a timeout immediately.</p>
</li>
<li>
<p><code>workdir</code>: absolute path that will be used as the working directory
for the test</p>
</li>
<li>
<p><code>depends</code> <em>(since 0.46.0)</em>: specifies that this test depends on the specified
target(s), even though it does not take any of them as a command
line argument. This is meant for cases where test finds those
targets internally, e.g. plugins or globbing. Those targets are built
before test is executed even if they have <code>build_by_default : false</code>.</p>
</li>
<li>
<p><code>protocol</code> <em>(since 0.50.0)</em>: specifies how the test results are parsed and can
be one of <code>exitcode</code>, <code>tap</code>, or <code>gtest</code>. For more information about test
harness protocol read <a href="Unit-tests.html">Unit Tests</a>. The following values are
accepted:</p>
<ul>
<li>
<code>exitcode</code>: the executable's exit code is used by the test harness
to record the outcome of the test).</li>
<li>
<code>tap</code>: <a href="https://www.testanything.org/">Test Anything Protocol</a>.</li>
<li>
<code>gtest</code> <em>(since 0.55.0)</em>: for Google Tests.</li>
<li>
<code>rust</code> <em>(since 0.56.0)</em>: for native rust tests</li>
</ul>
</li>
<li>
<p><code>priority</code> <em>(since 0.52.0)</em>:specifies the priority of a test. Tests with a
higher priority are <em>started</em> before tests with a lower priority.
The starting order of tests with identical priorities is
implementation-defined. The default priority is 0, negative numbers are
permitted.</p>
</li>
</ul>
<p>Defined tests can be run in a backend-agnostic way by calling
<code>meson test</code> inside the build dir, or by using backend-specific
commands, such as <code>ninja test</code> or <code>msbuild RUN_TESTS.vcxproj</code>.</p>
<h3 id="vcs_tag">vcs_tag()</h3>
<pre><code class="language-meson">    customtarget vcs_tag(...)
</code></pre>
<p>This command detects revision control commit information at build time
and places it in the specified output file. This file is guaranteed to
be up to date on every build. Keywords are similar to <code>custom_target</code>.</p>
<ul>
<li>
<code>command</code>: string list with the command to execute, see
<a href="Reference-manual.html#custom_target"><code>custom_target</code></a> for details on how this command
must be specified</li>
<li>
<code>fallback</code>: version number to use when no revision control
information is present, such as when building from a release tarball
(defaults to <code>meson.project_version()</code>)</li>
<li>
<code>input</code>: file to modify (e.g. <code>version.c.in</code>) (required)</li>
<li>
<code>output</code>: file to write the results to (e.g. <code>version.c</code>) (required)</li>
<li>
<code>replace_string</code>: string in the input file to substitute with the
commit information (defaults to <code>@VCS_TAG@</code>)</li>
</ul>
<p>Meson will read the contents of <code>input</code>, substitute the
<code>replace_string</code> with the detected revision number, and write the
result to <code>output</code>. This method returns a
<a href="Reference-manual.html#custom_target"><code>custom_target</code></a> object that (as usual) should be
used to signal dependencies if other targets use the file outputted
by this.</p>
<p>For example, if you generate a header with this and want to use that
in a build target, you must add the return value to the sources of
that build target. Without that, Meson will not know the order in
which to build the targets.</p>
<p>If you desire more specific behavior than what this command provides,
you should use <code>custom_target</code>.</p>
<h3 id="range">range()</h3>
<pre><code class="language-meson">    rangeobject range(stop)
    rangeobject range(start, stop[, step])
</code></pre>
<p><em>Since 0.58.0</em></p>
<p>Return an opaque object that can be only be used in <code>foreach</code> statements.</p>
<ul>
<li>
<code>start</code> must be integer greater or equal to 0. Defaults to 0.</li>
<li>
<code>stop</code> must be integer greater or equal to <code>start</code>.</li>
<li>
<code>step</code> must be integer greater or equal to 1. Defaults to 1.</li>
</ul>
<p>It cause the <code>foreach</code> loop to be called with the value from <code>start</code> included
to <code>stop</code> excluded with an increment of <code>step</code> after each loop.</p>
<pre><code class="language-meson"># Loop 15 times with i from 0 to 14 included.
foreach i : range(15)
   ...
endforeach
</code></pre>
<p>The range object can also be assigned to a variable and indexed.</p>
<pre><code class="language-meson">r = range(5, 10, 2)
assert(r[2] == 9)
</code></pre>
<h2 id="builtin-objects">Built-in objects</h2>
<p>These are built-in objects that are always available.</p>
<h3 id="meson-object">
<code>meson</code> object</h3>
<p>The <code>meson</code> object allows you to introspect various properties of the
system. This object is always mapped in the <code>meson</code> variable. It has
the following methods.</p>
<ul>
<li>
<p><code>add_dist_script(script_name, arg1, arg2, ...)</code> <em>(since 0.48.0)</em>: causes the script
given as argument to run during <code>dist</code> operation after the
distribution source has been generated but before it is
archived. Note that this runs the script file that is in the
<em>staging</em> directory, not the one in the source directory. If the
script file can not be found in the staging directory, it is a hard
error. The <code>MESON_DIST_ROOT</code> environment variables is set when dist scripts is
run.
<em>(since 0.49.0)</em> Accepts multiple arguments for the script.
<em>(since 0.54.0)</em> The <code>MESON_SOURCE_ROOT</code> and <code>MESON_BUILD_ROOT</code>
environment variables are set when dist scripts are run. They are path to the
root source and build directory of the main project, even when the script
comes from a subproject.
<em>(since 0.55.0)</em> The output of <code>configure_file</code>, <code>files</code>, and <code>find_program</code>
as well as strings.
<em>(since 0.57.0)</em> <code>file</code> objects and the output of <code>configure_file</code> may be
used as the <code>script_name</code> parameter.
<em>(since 0.58.0)</em> This command can be invoked from a subproject, it was a hard
error in earlier versions. Subproject dist scripts will only be executed
when running <code>meson dist --include-subprojects</code>. <code>MESON_PROJECT_SOURCE_ROOT</code>,
<code>MESON_PROJECT_BUILD_ROOT</code> and <code>MESON_PROJECT_DIST_ROOT</code> environment
variables are set when dist scripts are run. They are identical to
<code>MESON_SOURCE_ROOT</code>, <code>MESON_BUILD_ROOT</code> and <code>MESON_DIST_ROOT</code> for main project
scripts, but for subproject scripts they have the path to the root of the
subproject appended, usually <code>subprojects/&lt;subproject-name&gt;</code>.</p>
</li>
<li>
<p><code>add_install_script(script_name, arg1, arg2, ...)</code>: causes the script
given as an argument to be run during the install step, this script
will have the environment variables <code>MESON_SOURCE_ROOT</code>,
<code>MESON_BUILD_ROOT</code>, <code>MESON_INSTALL_PREFIX</code>,
<code>MESON_INSTALL_DESTDIR_PREFIX</code>, and <code>MESONINTROSPECT</code> set.
All positional arguments are passed as parameters.
<em>since 0.57.0</em> <code>skip_if_destdir</code> boolean keyword argument (defaults to <code>false</code>)
can be specified. If <code>true</code> the script will not be run if DESTDIR is set during
installation. This is useful in the case the script updates system wide
cache that is only needed when copying files into final destination.</p>
<p><em>(since 0.54.0)</em> If <code>meson install</code> is called with the <code>--quiet</code> option, the
environment variable <code>MESON_INSTALL_QUIET</code> will be set.</p>
<p><em>(since 0.55.0)</em> The output of <code>configure_file</code>, <code>files</code>, <code>find_program</code>,
<code>custom_target</code>, indexes of <code>custom_target</code>, <code>executable</code>, <code>library</code>, and
other built targets as well as strings.</p>
<p><em>(since 0.57.0)</em> <code>file</code> objects and the output of <code>configure_file</code> may be
*used as the <code>script_name</code> parameter.</p>
<p>Meson uses the <code>DESTDIR</code> environment variable as set by the
inherited environment to determine the (temporary) installation
location for files. Your install script must be aware of this while
manipulating and installing files. The correct way to handle this is
with the <code>MESON_INSTALL_DESTDIR_PREFIX</code> variable which is always set
and contains <code>DESTDIR</code> (if set) and <code>prefix</code> joined together. This
is useful because both are usually absolute paths and there are
platform-specific edge-cases in joining two absolute paths.</p>
<p>In case it is needed, <code>MESON_INSTALL_PREFIX</code> is also always set and
has the value of the <code>prefix</code> option passed to Meson.</p>
<p><code>MESONINTROSPECT</code> contains the path to the introspect command that
corresponds to the <code>meson</code> executable that was used to configure the
build. (This might be a different path than the first executable
found in <code>PATH</code>.) It can be used to query build configuration. Note
that the value will contain many parts, f.ex., it may be <code>python3 /path/to/meson.py introspect</code>. The user is responsible for splitting
the string to an array if needed by splitting lexically like a UNIX
shell would. If your script uses Python, <code>shlex.split()</code> is the
easiest correct way to do this.</p>
</li>
<li>
<p><code>add_postconf_script(script_name, arg1, arg2, ...)</code>: runs the
executable given as an argument after all project files have been
generated. This script will have the environment variables
<code>MESON_SOURCE_ROOT</code> and <code>MESON_BUILD_ROOT</code> set.</p>
<p><em>(since 0.55.0)</em> The output of <code>configure_file</code>, <code>files</code>, and <code>find_program</code>
as well as strings.</p>
<p><em>(since 0.57.0)</em> <code>file</code> objects and the output of <code>configure_file</code> may be
*used as the <code>script_name</code> parameter.</p>
</li>
<li>
<p><code>backend()</code> <em>(since 0.37.0)</em>: returns a string representing the
current backend: <code>ninja</code>, <code>vs2010</code>, <code>vs2015</code>, <code>vs2017</code>, <code>vs2019</code>,
or <code>xcode</code>.</p>
</li>
<li>
<p><code>build_root()</code>: returns a string with the absolute path to the build
root directory. <em>(deprecated since 0.56.0)</em>: this function will return the
build root of the parent project if called from a subproject, which is usually
not what you want. Try using <code>current_build_dir()</code> or <code>project_build_root()</code>.</p>
</li>
<li>
<p><code>source_root()</code>: returns a string with the absolute path to the
source root directory. Note: you should use the <code>files()</code> function
to refer to files in the root source directory instead of
constructing paths manually with <code>meson.source_root()</code>.
<em>(deprecated since 0.56.0)</em>: This function will return the source root of the
parent project if called from a subproject, which is usually not what you want.
Try using <code>current_source_dir()</code> or <code>project_source_root()</code>.</p>
</li>
<li>
<p><code>project_build_root()</code> <em>(since 0.56.0)</em>: returns a string with the absolute path
to the build root directory of the current (sub)project.</p>
</li>
<li>
<p><code>project_source_root()</code> <em>(since 0.56.0)</em>: returns a string with the absolute path
to the source root directory of the current (sub)project.</p>
</li>
<li>
<p><code>current_build_dir()</code>: returns a string with the absolute path to the
current build directory.</p>
</li>
<li>
<p><code>current_source_dir()</code>: returns a string to the current source
directory. Note: <strong>you do not need to use this function</strong> when
passing files from the current source directory to a function since
that is the default. Also, you can use the <code>files()</code> function to
refer to files in the current or any other source directory instead
of constructing paths manually with <code>meson.current_source_dir()</code>.</p>
</li>
<li>
<p><code>get_compiler(language)</code>: returns <a href="Reference-manual.html#compiler-object">an object describing a
compiler</a>, takes one positional argument which is
the language to use. It also accepts one keyword argument, <code>native</code>
which when set to true makes Meson return the compiler for the build
machine (the "native" compiler) and when false it returns the host
compiler (the "cross" compiler). If <code>native</code> is omitted, Meson
returns the "cross" compiler if we're currently cross-compiling and
the "native" compiler if we're not.</p>
</li>
<li>
<p><code>get_cross_property(propname, fallback_value)</code>:
<em>Deprecated since 0.58.0, use <code>get_external_property()</code> instead</em>.
Returns the given property from a cross file, the optional fallback_value
is returned if not cross compiling or the given property is not found.</p>
</li>
<li>
<p><code>get_external_property(propname, fallback_value, native: true/false)</code>
<em>(since 0.54.0)</em>: returns the given property from a native or cross file.
The optional fallback_value is returned if the given property is not found.
The optional <code>native: true</code> forces retrieving a variable from the
native file, even when cross-compiling.
If <code>native: false</code> or not specified, variable is retrieved from the
cross-file if cross-compiling, and from the native-file when not cross-compiling.</p>
</li>
<li>
<p><code>has_external_property(propname, native: true/false)</code>
<em>(since 0.58.0)</em>: checks whether the given property exist in a native or
cross file. The optional <code>native: true</code> forces checking for the variable
in the native file, even when cross-compiling.
If <code>native: false</code> or not specified, the variable is checked for in the
cross-file if cross-compiling, and in the native-file when not cross-compiling.</p>
</li>
<li>
<p><code>can_run_host_binaries()</code> <em>(since 0.55.0)</em>: returns true if the build machine can run
binaries compiled for the host. This returns true unless you are
cross compiling, need a helper to run host binaries, and don't have one.
For example when cross compiling from Linux to Windows, one can use <code>wine</code>
as the helper.</p>
</li>
<li>
<p><code>has_exe_wrapper()</code>: <em>(since 0.55.0)</em> <strong>(deprecated)</strong>. Use <code>can_run_host_binaries</code> instead.</p>
</li>
<li>
<p><code>install_dependency_manifest(output_name)</code>: installs a manifest file
containing a list of all subprojects, their versions and license
files to the file name given as the argument.</p>
</li>
<li>
<p><code>is_cross_build()</code>: returns <code>true</code> if the current build is a <a href="Cross-compilation.html">cross
build</a> and <code>false</code> otherwise.</p>
</li>
<li>
<p><code>is_subproject()</code>: returns <code>true</code> if the current project is being
built as a subproject of some other project and <code>false</code> otherwise.</p>
</li>
<li>
<p><code>is_unity()</code>: returns <code>true</code> when doing a <a href="Unity-builds.html">unity
build</a> (multiple sources are combined before
compilation to reduce build time) and <code>false</code> otherwise.</p>
</li>
<li>
<p><code>override_find_program(progname, program)</code> <em>(since 0.46.0)</em>:
specifies that whenever <code>find_program</code> is used to find a program
named <code>progname</code>, Meson should not look it up on the system but
instead return <code>program</code>, which may either be the result of
<code>find_program</code>, <code>configure_file</code> or <code>executable</code>. <em>(since 0.55.0)</em> If a version
check is passed to <code>find_program</code> for a program that has been overridden with
an executable, the current project version is used.</p>
<p>If <code>program</code> is an <code>executable</code>, it cannot be used during configure.</p>
</li>
<li>
<p><code>override_dependency(name, dep_object)</code> <em>(since 0.54.0)</em>:
specifies that whenever <code>dependency(name, ...)</code> is used, Meson should not
look it up on the system but instead return <code>dep_object</code>, which may either be
the result of <code>dependency()</code> or <code>declare_dependency()</code>. It takes optional
<code>native</code> keyword arguments. Doing this in a subproject allows the parent
project to retrieve the dependency without having to know the dependency
variable name: <code>dependency(name, fallback : subproject_name)</code>.</p>
</li>
<li>
<p><code>project_version()</code>: returns the version string specified in
<code>project</code> function call.</p>
</li>
<li>
<p><code>project_license()</code>: returns the array of licenses specified in
<code>project</code> function call.</p>
</li>
<li>
<p><code>project_name()</code>: returns the project name specified in the <code>project</code>
function call.</p>
</li>
<li>
<p><code>version()</code>: return a string with the version of Meson.</p>
</li>
<li>
<p><code>add_devenv()</code>: <em>(Since 0.58.0)</em> add an <a href="Reference-manual.html#environment"><code>environment()</code></a> object
to the list of environments that will be applied when using <a href="Commands.html#devenv"><code>meson devenv</code></a>
command line. This is useful for developpers who wish to use the project without
installing it, it is often needed to set for example the path to plugins
directory, etc. Alternatively, a list or dictionary can be passed as first
argument.</p>
<pre><code class="language-meson">devenv = environment()
devenv.set('PLUGINS_PATH', meson.current_build_dir())
...
meson.add_devenv(devenv)
</code></pre>
</li>
</ul>
<h3 id="build_machine-object">
<code>build_machine</code> object</h3>
<p>Provides information about the build machine — the machine that is
doing the actual compilation. See
<a href="Cross-compilation.html">Cross-compilation</a>. It has the following
methods:</p>
<ul>
<li>
<p><code>cpu_family()</code>: returns the CPU family name. <a href="Reference-tables.html#cpu-families">This
table</a> contains all known CPU
families. These are guaranteed to continue working.</p>
</li>
<li>
<p><code>cpu()</code>: returns a more specific CPU name, such as <code>i686</code>, <code>amd64</code>,
etc.</p>
</li>
<li>
<p><code>system()</code>: returns the operating system name.  <a href="Reference-tables.html#operating-system-names">This
table</a> Lists all of
the currently known Operating System names, these are guaranteed to
continue working.</p>
</li>
<li>
<p><code>endian()</code>: returns <code>big</code> on big-endian systems and <code>little</code> on
little-endian systems.</p>
</li>
</ul>
<p>Currently, these values are populated using
<a href="https://docs.python.org/3.4/library/platform.html#platform.system"><code>platform.system()</code></a>
and
<a href="https://docs.python.org/3.4/library/platform.html#platform.machine"><code>platform.machine()</code></a>. If
you think the returned values for any of these are incorrect for your
system or CPU, or if your OS is not in the linked table, please file
<a href="https://github.com/mesonbuild/meson/issues/new">a bug report</a> with
details and we'll look into it.</p>
<h3 id="host_machine-object">
<code>host_machine</code> object</h3>
<p>Provides information about the host machine — the machine on which the
compiled binary will run. See
<a href="Cross-compilation.html">Cross-compilation</a>.</p>
<p>It has the same methods as <a href="Reference-manual.html#build_machine-object"><code>build_machine</code></a>.</p>
<p>When not cross-compiling, all the methods return the same values as
<code>build_machine</code> (because the build machine is the host machine)</p>
<p>Note that while cross-compiling, it simply returns the values defined
in the cross-info file.</p>
<h3 id="target_machine-object">
<code>target_machine</code> object</h3>
<p>Provides information about the target machine — the machine on which
the compiled binary's output will run. Hence, this object should only
be used while cross-compiling a compiler. See
<a href="Cross-compilation.html">Cross-compilation</a>.</p>
<p>It has the same methods as <a href="Reference-manual.html#build_machine-object"><code>build_machine</code></a>.</p>
<p>When all compilation is 'native', all the methods return the same
values as <code>build_machine</code> (because the build machine is the host
machine and the target machine).</p>
<p>Note that while cross-compiling, it simply returns the values defined
in the cross-info file. If <code>target_machine</code> values are not defined in
the cross-info file, <code>host_machine</code> values are returned instead.</p>
<h3 id="string-object">
<code>string</code> object</h3>
<p>All <a href="Syntax.html#strings">strings</a> have the following methods. Strings
are immutable, all operations return their results as a new string.</p>
<ul>
<li>
<p><code>contains(string)</code>: returns true if string contains the string
specified as the argument.</p>
</li>
<li>
<p><code>endswith(string)</code>: returns true if string ends with the string
specified as the argument.</p>
</li>
<li>
<p><code>format()</code>: formats text, see the <a href="Syntax.html#string-formatting">Syntax
manual</a> for usage info.</p>
</li>
<li>
<p><code>join(list_of_strings)</code>: the opposite of split, for example
<code>'.'.join(['a', 'b', 'c']</code> yields <code>'a.b.c'</code>.</p>
</li>
<li>
<p><code>replace('old_substr', 'new_str')</code>: replaces instances of <code>old_substr</code> in the
string with <code>new_str</code> and returns a new string</p>
</li>
<li>
<p><code>split(split_character)</code>: splits the string at the specified
character (or whitespace if not set) and returns the parts in an
array.</p>
</li>
<li>
<p><code>startswith(string)</code>: returns true if string starts with the string
specified as the argument</p>
</li>
<li>
<p><code>substring(start,end)</code> <em>(since 0.56.0)</em>: returns a substring specified from start to end.
Both <code>start</code> and <code>end</code> arguments are optional, so, for example, <code>'foobar'.substring()</code> will return <code>'foobar'</code>.</p>
</li>
<li>
<p><code>strip()</code>: removes whitespace at the beginning and end of the string.
<em>(since 0.43.0)</em> Optionally can take one positional string argument,
and all characters in that string will be stripped.</p>
</li>
<li>
<p><code>to_int()</code>: returns the string converted to an integer (error if string
is not a number).</p>
</li>
<li>
<p><code>to_lower()</code>: creates a lower case version of the string.</p>
</li>
<li>
<p><code>to_upper()</code>: creates an upper case version of the string.</p>
</li>
<li>
<p><code>underscorify()</code>: creates a string where every non-alphabetical
non-number character is replaced with <code>_</code>.</p>
</li>
<li>
<p><code>version_compare(comparison_string)</code>: does semantic version
comparison, if <code>x = '1.2.3'</code> then <code>x.version_compare('&gt;1.0.0')</code>
returns <code>true</code>.</p>
</li>
</ul>
<h3 id="number-object">
<code>Number</code> object</h3>
<p><a href="Syntax.html#numbers">Numbers</a> support these methods:</p>
<ul>
<li>
<code>is_even()</code>: returns true if the number is even</li>
<li>
<code>is_odd()</code>: returns true if the number is odd</li>
<li>
<code>to_string()</code>: returns the value of the number as a string.</li>
</ul>
<h3 id="boolean-object">
<code>boolean</code> object</h3>
<p>A <a href="Syntax.html#booleans">boolean</a> object has two simple methods:</p>
<ul>
<li>
<p><code>to_int()</code>: returns either <code>1</code> or <code>0</code>.</p>
</li>
<li>
<p><code>to_string()</code>: returns the string <code>'true'</code> if the boolean is true or
<code>'false'</code> otherwise. You can also pass it two strings as positional
arguments to specify what to return for true/false. For instance,
<code>bool.to_string('yes', 'no')</code> will return <code>yes</code> if the boolean is
true and <code>no</code> if it is false.</p>
</li>
</ul>
<h3 id="array-object">
<code>array</code> object</h3>
<p>The following methods are defined for all <a href="Syntax.html#arrays">arrays</a>:</p>
<ul>
<li>
<p><code>contains(item)</code>: returns <code>true</code> if the array contains the object
given as argument, <code>false</code> otherwise</p>
</li>
<li>
<p><code>get(index, fallback)</code>: returns the object at the given index,
negative indices count from the back of the array, indexing out of
bounds returns the <code>fallback</code> value <em>(since 0.38.0)</em> or, if it is
not specified, causes a fatal error</p>
</li>
<li>
<p><code>length()</code>: the size of the array</p>
</li>
</ul>
<p>You can also iterate over arrays with the <a href="Syntax.html#foreach-statements"><code>foreach</code>
statement</a>.</p>
<h3 id="dictionary-object">
<code>dictionary</code> object</h3>
<p><em>(since 0.47.0)</em></p>
<p>The following methods are defined for all <a href="Syntax.html#dictionaries">dictionaries</a>:</p>
<ul>
<li>
<p><code>has_key(key)</code>: returns <code>true</code> if the dictionary contains the key
given as argument, <code>false</code> otherwise</p>
</li>
<li>
<p><code>get(key, fallback)</code>: returns the value for the key given as first
argument if it is present in the dictionary, or the optional
fallback value given as the second argument. If a single argument
was given and the key was not found, causes a fatal error</p>
</li>
<li>
<p><code>keys()</code>: returns an array of keys in the dictionary</p>
</li>
</ul>
<p>You can also iterate over dictionaries with the <a href="Syntax.html#foreach-statements"><code>foreach</code>
statement</a>.</p>
<p><em>(since 0.48.0)</em> Dictionaries can be added (e.g. <code>d1 = d2 + d3</code> and <code>d1 += d2</code>).
Values from the second dictionary overrides values from the first.</p>
<h2 id="returned-objects">Returned objects</h2>
<p>These are objects returned by the <a href="Reference-manual.html#functions">functions listed above</a>.</p>
<h3 id="compiler-object">
<code>compiler</code> object</h3>
<p>This object is returned by
<a href="Reference-manual.html#meson-object"><code>meson.get_compiler(lang)</code></a>. It represents a compiler
for a given language and allows you to query its properties. It has
the following methods:</p>
<ul>
<li>
<p><code>alignment(typename)</code>: returns the alignment of the type specified in
the positional argument, you can specify external dependencies to
use with <code>dependencies</code> keyword argument.</p>
</li>
<li>
<p><code>cmd_array()</code>: returns an array containing the command(s) for the compiler.</p>
</li>
<li>
<p><code>compiles(code)</code>: returns true if the code fragment given in the
positional argument compiles, you can specify external dependencies
to use with <code>dependencies</code> keyword argument, <code>code</code> can be either a
string containing source code or a <code>file</code> object pointing to the
source code.</p>
</li>
<li>
<p><code>compute_int(expr, ...')</code>: computes the value of the given expression
(as an example <code>1 + 2</code>). When cross compiling this is evaluated with
an iterative algorithm, you can specify keyword arguments <code>low</code>
(defaults to -1024), <code>high</code> (defaults to 1024) and <code>guess</code> to
specify max and min values for the search and the value to try
first.</p>
</li>
<li>
<p><code>find_library(lib_name, ...)</code>: tries to find the library specified in
the positional argument. The <a href="Reference-manual.html#external-library-object">result
object</a> can be used just like the return
value of <code>dependency</code>. If the keyword argument <code>required</code> is false,
Meson will proceed even if the library is not found. By default the
library is searched for in the system library directory
(e.g. /usr/lib). This can be overridden with the <code>dirs</code> keyword
argument, which can be either a string or a list of strings.
<em>(since 0.47.0)</em> The value of a <a href="Build-options.html#features"><code>feature</code></a>
option can also be passed to the <code>required</code> keyword argument.
<em>(since 0.49.0)</em> If the keyword argument <code>disabler</code> is <code>true</code> and the
dependency couldn't be found, return a <a href="Reference-manual.html#disabler-object">disabler object</a>
instead of a not-found dependency. <em>(since 0.50.0)</em> The <code>has_headers</code> keyword
argument can be a list of header files that must be found as well, using
<code>has_header()</code> method. All keyword arguments prefixed with <code>header_</code> will be
passed down to <code>has_header()</code> method with the prefix removed. <em>(since 0.51.0)</em>
The <code>static</code> keyword (boolean) can be set to <code>true</code> to limit the search to
static libraries and <code>false</code> for dynamic/shared.</p>
</li>
<li>
<p><code>first_supported_argument(list_of_strings)</code>: given a list of
strings, returns the first argument that passes the <code>has_argument</code>
test or an empty array if none pass.</p>
</li>
<li>
<p><code>first_supported_link_argument(list_of_strings)</code> <em>(since 0.46.0)</em>:
given a list of strings, returns the first argument that passes the
<code>has_link_argument</code> test or an empty array if none pass.</p>
</li>
<li>
<p><code>get_define(definename)</code>: returns the given preprocessor symbol's
value as a string or empty string if it is not defined.
<em>(since 0.47.0)</em> This method will concatenate string literals as
the compiler would. E.g. <code>"a" "b"</code> will become <code>"ab"</code>.</p>
</li>
<li>
<p><code>get_id()</code>: returns a string identifying the compiler. For example,
<code>gcc</code>, <code>msvc</code>, <a href="Reference-tables.html#compiler-ids">and more</a>.</p>
</li>
<li>
<p><code>get_argument_syntax()</code> <em>(since 0.49.0)</em>: returns a string identifying the type
of arguments the compiler takes. Can be one of <code>gcc</code>, <code>msvc</code>, or an undefined
string value. This method is useful for identifying compilers that are not
gcc or msvc, but use the same argument syntax as one of those two compilers
such as clang or icc, especially when they use different syntax on different
operating systems.</p>
</li>
<li>
<p><code>get_linker_id()</code> <em>(since 0.53.0)</em>: returns a string identifying the linker.
For example, <code>ld.bfd</code>, <code>link</code>, <a href="Reference-tables.html#linker-ids">and more</a>.</p>
</li>
<li>
<p><code>get_supported_arguments(list_of_string)</code> <em>(since 0.43.0)</em>: returns
an array containing only the arguments supported by the compiler,
as if <code>has_argument</code> were called on them individually.</p>
</li>
<li>
<p><code>get_supported_link_arguments(list_of_string)</code> <em>(since 0.46.0)</em>: returns
an array containing only the arguments supported by the linker,
as if <code>has_link_argument</code> were called on them individually.</p>
</li>
<li>
<p><code>has_argument(argument_name)</code>: returns true if the compiler accepts
the specified command line argument, that is, can compile code
without erroring out or printing a warning about an unknown flag.</p>
</li>
<li>
<p><code>has_link_argument(argument_name)</code> <em>(since 0.46.0)</em>: returns true if
the linker accepts the specified command line argument, that is, can
compile and link code without erroring out or printing a warning
about an unknown flag. Link arguments will be passed to the
compiler, so should usually have the <code>-Wl,</code> prefix. On VisualStudio
a <code>/link</code> argument will be prepended.</p>
</li>
<li>
<p><code>has_function(funcname)</code>: returns true if the given function is
provided by the standard library or a library passed in with the
<code>args</code> keyword, you can specify external dependencies to use with
<code>dependencies</code> keyword argument.</p>
</li>
<li>
<p><code>check_header(header_name)</code> <em>(since 0.47.0)</em>: returns true if the
specified header is <em>usable</em> with the specified prefix,
dependencies, and arguments. You can specify external dependencies
to use with <code>dependencies</code> keyword argument and extra code to put
above the header test with the <code>prefix</code> keyword. In order to look
for headers in a specific directory you can use <code>args : '-I/extra/include/dir</code>, but this should only be used in exceptional
cases for includes that can't be detected via pkg-config and passed
via <code>dependencies</code>. <em>(since 0.50.0)</em> The <code>required</code> keyword argument
can be used to abort if the header cannot be found.</p>
</li>
<li>
<p><code>has_header(header_name)</code>: returns true if the specified header
<em>exists</em>, and is faster than <code>check_header()</code> since it only does a
pre-processor check. You can specify external dependencies to use
with <code>dependencies</code> keyword argument and extra code to put above the
header test with the <code>prefix</code> keyword. In order to look for headers
in a specific directory you can use <code>args : '-I/extra/include/dir</code>,
but this should only be used in exceptional cases for includes that
can't be detected via pkg-config and passed via <code>dependencies</code>.
<em>(since 0.50.0)</em> The <code>required</code> keyword argument can be used to
abort if the header cannot be found.</p>
</li>
<li>
<p><code>has_header_symbol(headername, symbolname)</code>: detects
whether a particular symbol (function, variable, #define, type
definition, etc) is declared in the specified header, you can
specify external dependencies to use with <code>dependencies</code> keyword
argument. <em>(since 0.50.0)</em> The <code>required</code> keyword argument can be
used to abort if the symbol cannot be found.</p>
</li>
<li>
<p><code>has_member(typename, membername)</code>: takes two arguments, type name
and member name and returns true if the type has the specified
member, you can specify external dependencies to use with
<code>dependencies</code> keyword argument.</p>
</li>
<li>
<p><code>has_members(typename, membername1, membername2, ...)</code>: takes at
least two arguments, type name and one or more member names, returns
true if the type has all the specified members, you can specify
external dependencies to use with <code>dependencies</code> keyword argument.</p>
</li>
<li>
<p><code>has_multi_arguments(arg1, arg2, arg3, ...)</code> <em>(since 0.37.0)</em>: the same as
<code>has_argument</code> but takes multiple arguments and uses them all in a
single compiler invocation.</p>
</li>
<li>
<p><code>has_multi_link_arguments(arg1, arg2, arg3, ...)</code> <em>(since 0.46.0)</em>:
the same as <code>has_link_argument</code> but takes multiple arguments and
uses them all in a single compiler invocation.</p>
</li>
<li>
<p><code>has_type(typename)</code>: returns true if the specified token is a type,
you can specify external dependencies to use with <code>dependencies</code>
keyword argument.</p>
</li>
<li>
<p><code>links(code)</code>: returns true if the code fragment given in the
positional argument compiles and links, you can specify external
dependencies to use with <code>dependencies</code> keyword argument, <code>code</code> can
be either a string containing source code or a <code>file</code> object
pointing to the source code.</p>
</li>
<li>
<p><code>run(code)</code>: attempts to compile and execute the given code fragment,
returns a run result object, you can specify external dependencies
to use with <code>dependencies</code> keyword argument, <code>code</code> can be either a
string containing source code or a <code>file</code> object pointing to the
source code.</p>
</li>
<li>
<p><code>symbols_have_underscore_prefix()</code> <em>(since 0.37.0)</em>: returns <code>true</code>
if the C symbol mangling is one underscore (<code>_</code>) prefixed to the symbol.</p>
</li>
<li>
<p><code>sizeof(typename, ...)</code>: returns the size of the given type
(e.g. <code>'int'</code>) or -1 if the type is unknown, to add includes set
them in the <code>prefix</code> keyword argument, you can specify external
dependencies to use with <code>dependencies</code> keyword argument.</p>
</li>
<li>
<p><code>version()</code>: returns the compiler's version number as a string.</p>
</li>
<li>
<p><code>has_function_attribute(name)</code> <em>(since 0.48.0)</em>: returns <code>true</code> if the
compiler supports the GNU style (<code>__attribute__(...)</code>) <code>name</code>. This is
preferable to manual compile checks as it may be optimized for compilers that
do not support such attributes.
<a href="Reference-tables.html#gcc-__attribute__">This table</a> lists all of the
supported attributes.</p>
</li>
<li>
<p><code>get_supported_function_attributes(list_of_names)</code> <em>(since 0.48.0)</em>:
returns an array containing any names that are supported GCC style
attributes. Equivalent to <code>has_function_attribute</code> was called on each of them
individually.</p>
</li>
</ul>
<p>The following keyword arguments can be used:</p>
<ul>
<li>
<p><code>args</code>: used to pass a list of compiler arguments that are
required to find the header or symbol. For example, you might need
to pass the include path <code>-Isome/path/to/header</code> if a header is not
in the default include path. <em>(since 0.38.0)</em> you should use the
<code>include_directories</code> keyword described below. You may also want to
pass a library name <code>-lfoo</code> for <code>has_function</code> to check for a function.
Supported by all methods except <code>get_id</code>, <code>version</code>, and <code>find_library</code>.</p>
</li>
<li>
<p><code>include_directories</code> <em>(since 0.38.0)</em>: specifies extra directories for
header searches.</p>
</li>
<li>
<p><code>name</code>: the name to use for printing a message about the compiler
check. Supported by the methods <code>compiles()</code>, <code>links()</code>, and
<code>run()</code>. If this keyword argument is not passed to those methods, no
message will be printed about the check.</p>
</li>
<li>
<p><code>no_builtin_args</code>: when set to true, the compiler arguments controlled
by built-in configuration options are not added.</p>
</li>
<li>
<p><code>prefix</code>: adds #includes and other things that are
required for the symbol to be declared. System definitions should be
passed via compiler args (eg: <code>_GNU_SOURCE</code> is often required for
some symbols to be exposed on Linux, and it should be passed via
<code>args</code> keyword argument, see below). Supported by the methods
<code>sizeof</code>, <code>has_type</code>, <code>has_function</code>, <code>has_member</code>, <code>has_members</code>,
<code>check_header</code>, <code>has_header</code>, <code>has_header_symbol</code>, <code>get_define</code></p>
</li>
</ul>
<p><strong>Note:</strong> These compiler checks do not use compiler arguments added
with <code>add_*_arguments()</code>, via <code>-Dlang_args</code> on the command-line, or
through <code>CFLAGS</code>/<code>LDFLAGS</code>, etc in the environment. Hence, you can
trust that the tests will be fully self-contained, and won't fail
because of custom flags added by other parts of the build file or by
users.</p>
<p>Note that if you have a single prefix with all your dependencies, you
might find it easier to append to the environment variables
<code>C_INCLUDE_PATH</code> with GCC/Clang and <code>INCLUDE</code> with MSVC to expand the
default include path, and <code>LIBRARY_PATH</code> with GCC/Clang and <code>LIB</code> with
MSVC to expand the default library search path.</p>
<p>However, with GCC, these variables will be ignored when
cross-compiling. In that case you need to use a specs file. See:
<a href="http://www.mingw.org/wiki/SpecsFileHOWTO">http://www.mingw.org/wiki/SpecsFileHOWTO</a></p>
<h3 id="build-target-object">
<code>build target</code> object</h3>
<p>A build target is either an <a href="Reference-manual.html#executable">executable</a>, <a href="Reference-manual.html#shared_library">shared
library</a>, <a href="Reference-manual.html#static_library">static library</a>, <a href="Reference-manual.html#both_libraries">both
shared and static library</a> or <a href="Reference-manual.html#shared_module">shared
module</a>.</p>
<ul>
<li>
<p><code>extract_all_objects()</code>: is same as <code>extract_objects</code> but returns all
object files generated by this target. <em>(since 0.46.0)</em> keyword argument
<code>recursive</code> must be set to <code>true</code> to also return objects passed to
the <code>object</code> argument of this target. By default only objects built
for this target are returned to maintain backward compatibility with
previous versions.  The default will eventually be changed to <code>true</code>
in a future version.</p>
</li>
<li>
<p><code>extract_objects(source1, source2, ...)</code>: takes as its arguments
a number of source files as <a href="Reference-manual.html#string-object"><code>string</code></a> or
<a href="Reference-manual.html#files"><code>files()</code></a> and returns an opaque value representing the
object files generated for those source files. This is typically used
to take single object files and link them to unit tests or to compile
some source files with custom flags. To use the object file(s)
in another build target, use the <code>objects:</code> keyword argument.</p>
</li>
<li>
<p><code>full_path()</code>: returns a full path pointing to the result target file.
NOTE: In most cases using the object itself will do the same job as
this and will also allow Meson to setup inter-target dependencies
correctly. Please file a bug if that doesn't work for you.</p>
</li>
<li>
<p><code>private_dir_include()</code>: returns a opaque value that works like
<code>include_directories</code> but points to the private directory of this
target, usually only needed if an another target needs to access
some generated internal headers of this target</p>
</li>
<li>
<p><code>name()</code> <em>(since 0.54.0)</em>: returns the target name.</p>
</li>
</ul>
<h3 id="configuration-data-object">
<code>configuration</code> data object</h3>
<p>This object is returned by
<a href="Reference-manual.html#configuration_data"><code>configuration_data()</code></a> and encapsulates
configuration values to be used for generating configuration files. A
more in-depth description can be found in the <a href="Configuration.html">the configuration wiki
page</a> It has three methods:</p>
<ul>
<li>
<p><code>get(varname, default_value)</code>: returns the value of <code>varname</code>, if the
value has not been set returns <code>default_value</code> if it is defined
<em>(since 0.38.0)</em> and errors out if not</p>
</li>
<li>
<p><code>get_unquoted(varname, default_value)</code> <em>(since 0.44.0)</em>: returns the value
of <code>varname</code> but without surrounding double quotes (<code>"</code>). If the value has
not been set returns <code>default_value</code> if it is defined and errors out if not.</p>
</li>
<li>
<p><code>has(varname)</code>: returns <code>true</code> if the specified variable is set</p>
</li>
<li>
<p><code>keys()</code><em>(since 0.57.0)</em>: returns an array of keys of
the configuration data object.</p>
<p>You can iterate over this array with the <a href="Syntax.html#foreach-statements"><code>foreach</code>
statement</a>.</p>
</li>
<li>
<p><code>merge_from(other)</code> <em>(since 0.42.0)</em>: takes as argument a different
configuration data object and copies all entries from that object to
the current.</p>
</li>
<li>
<p><code>set(varname, value)</code>, sets a variable to a given value</p>
</li>
<li>
<p><code>set10(varname, boolean_value)</code> is the same as above but the value
is either <code>true</code> or <code>false</code> and will be written as 1 or 0,
respectively</p>
</li>
<li>
<p><code>set_quoted(varname, value)</code> is same as <code>set</code> but quotes the value
in double quotes (<code>"</code>)</p>
</li>
</ul>
<p>They all take the <code>description</code> keyword that will be written in the
result file. The replacement assumes a file with C syntax. If your
generated file is source code in some other language, you probably
don't want to add a description field because it most likely will
cause a syntax error.</p>
<h3 id="custom-target-object">
<code>custom target</code> object</h3>
<p>This object is returned by <a href="Reference-manual.html#custom_target"><code>custom_target</code></a> and
contains a target with the following methods:</p>
<ul>
<li>
<p><code>full_path()</code>: returns a full path pointing to the result target file
NOTE: In most cases using the object itself will do the same job as
this and will also allow Meson to setup inter-target dependencies
correctly. Please file a bug if that doesn't work for you.
<em>(since 0.54.0)</em> It can be also called on indexes objects:
<code>custom_targets[i].full_path()</code>.</p>
</li>
<li>
<p><code>[index]</code>: returns an opaque object that references this target, and
can be used as a source in other targets. When it is used as such it
will make that target depend on this custom target, but the only
source added will be the one that corresponds to the index of the
custom target's output argument.</p>
</li>
<li>
<p><code>to_list()</code> <em>(since 0.54.0)</em>: returns a list of opaque objects that references
this target, and can be used as a source in other targets. This can be used to
iterate outputs with <code>foreach</code> loop.</p>
</li>
</ul>
<h3 id="dependency-object">
<code>dependency</code> object</h3>
<p>This object is returned by <a href="Reference-manual.html#dependency"><code>dependency()</code></a> and contains
an external dependency with the following methods:</p>
<ul>
<li>
<p><code>found()</code>: returns whether the dependency was found.</p>
</li>
<li>
<p><code>name()</code> <em>(since 0.48.0)</em>: returns the name of the dependency that was
searched. Returns <code>internal</code> for dependencies created with
<code>declare_dependency()</code>.</p>
</li>
<li>
<p><code>get_pkgconfig_variable(varname)</code> <em>(since 0.36.0)</em>: gets the
pkg-config variable specified, or, if invoked on a non pkg-config
dependency, error out. <em>(since 0.44.0)</em> You can also redefine a
variable by passing a list to the <code>define_variable</code> parameter
that can affect the retrieved variable: <code>['prefix', '/'])</code>.
<em>(since 0.45.0)</em> A warning is issued if the variable is not defined,
unless a <code>default</code> parameter is specified.</p>
<p><em>(Deprecated since 0.56.0</em>) use <code>get_variable(pkgconfig : ...)</code> instead</p>
</li>
<li>
<p><code>get_configtool_variable(varname)</code> <em>(since 0.44.0)</em>: gets the
command line argument from the config tool (with <code>--</code> prepended), or,
if invoked on a non config-tool dependency, error out.</p>
<p><em>(Deprecated since 0.56.0</em>) use <code>get_variable(configtool : ...)</code> instead</p>
</li>
<li>
<p><code>type_name()</code>: returns a string describing the type of the
dependency, the most common values are <code>internal</code> for deps created
with <code>declare_dependency()</code> and <code>pkgconfig</code> for system dependencies
obtained with Pkg-config.</p>
</li>
<li>
<p><code>version()</code>: the version number as a string, for example <code>1.2.8</code>.
<code>unknown</code> if the dependency provider doesn't support determining the
version.</p>
</li>
<li>
<p><code>include_type()</code>: returns whether the value set by the <code>include_type</code> kwarg</p>
</li>
<li>
<p><code>as_system(value)</code>: returns a copy of the dependency object, which has changed
the value of <code>include_type</code> to <code>value</code>. The <code>value</code> argument is optional and
defaults to <code>'preserve'</code>.</p>
</li>
<li>
<p><code>as_link_whole()</code> <em>Since 0.56.0</em> Only dependencies created with
<code>declare_dependency()</code>, returns a copy of the dependency object with all
link_with arguments changed to link_whole. This is useful for example for
fallback dependency from a subproject built with <code>default_library=static</code>.
Note that all <code>link_with</code> objects must be static libraries otherwise an error
will be raised when trying to <code>link_whole</code> a shared library.</p>
</li>
<li>
<p><code>partial_dependency(compile_args : false, link_args : false, links : false, includes : false, sources : false)</code> <em>(since 0.46.0)</em>: returns
a new dependency object with the same name, version, found status,
type name, and methods as the object that called it. This new
object will only inherit other attributes from its parent as
controlled by keyword arguments.</p>
<p>If the parent has any dependencies, those will be applied to the new
partial dependency with the same rules. So, given:</p>
<pre><code class="language-meson">dep1 = declare_dependency(compile_args : '-Werror=foo', link_with : 'libfoo')
dep2 = declare_dependency(compile_args : '-Werror=bar', dependencies : dep1)
dep3 = dep2.partial_dependency(compile_args : true)
</code></pre>
<p>dep3 will add <code>['-Werror=foo', '-Werror=bar']</code> to the compiler args
of any target it is added to, but libfoo will not be added to the
link_args.</p>
<p><em>Note</em>: A bug present until 0.50.1 results in the above behavior
not working correctly.</p>
<p>The following arguments will add the following attributes:</p>
<ul>
<li>compile_args: any arguments passed to the compiler</li>
<li>link_args: any arguments passed to the linker</li>
<li>links: anything passed via link_with or link_whole</li>
<li>includes: any include_directories</li>
<li>sources: any compiled or static sources the dependency has</li>
</ul>
</li>
<li>
<p><code>get_variable(varname, cmake : str, pkgconfig : str, configtool : str, internal: str, default_value : str, pkgconfig_define : [str, str])</code>
<em>(since 0.51.0)</em>: a generic variable getter method, which replaces the
get_<em>type</em>_variable methods. This allows one to get the variable
from a dependency without knowing specifically how that dependency
was found. If default_value is set and the value cannot be gotten
from the object then default_value is returned, if it is not set
then an error is raised.
<em>(since 0.54.0)</em> added <code>internal</code> keyword.
<em>(since 0.58.0)</em> added <code>varname</code> as first positional argument. It is used as
default value for <code>cmake</code>, <code>pkgconfig</code>, <code>configtool</code> and <code>internal</code> keyword
arguments. It is useful in the common case where <code>pkgconfig</code> and <code>internal</code>
use the same variable name, in which case it's easier to write <code>dep.get_variable('foo')</code>
instead of <code>dep.get_variable(pkgconfig: 'foo', internal: 'foo')</code>.</p>
</li>
</ul>
<h3 id="disabler-object">
<code>disabler</code> object</h3>
<p>A disabler object is an object that behaves in much the same way as
NaN numbers do in floating point math. That is when used in any
statement (function call, logical op, etc) they will cause the
statement evaluation to immediately short circuit to return a disabler
object. A disabler object has one method:</p>
<ul>
<li>
<code>found()</code>: always returns <code>false</code>.</li>
</ul>
<h3 id="external-program-object">
<code>external program</code> object</h3>
<p>This object is returned by <a href="Reference-manual.html#find_program"><code>find_program()</code></a> and
contains an external (i.e. not built as part of this project) program
and has the following methods:</p>
<ul>
<li>
<p><code>found()</code>: returns whether the executable was found.</p>
</li>
<li>
<p><code>path()</code>: <em>(since 0.55.0)</em> <strong>(deprecated)</strong> use <code>full_path()</code> instead.
Returns a string pointing to the script or executable
<strong>NOTE:</strong> You should not need to use this method. Passing the object
itself should work in all cases. For example: <code>run_command(obj, arg1, arg2)</code>.</p>
</li>
<li>
<p><code>full_path()</code> (<em>since 0.55.0</em>): which returns a string pointing to the script or
executable <strong>NOTE:</strong> You should not need to use this method. Passing the object
itself should work in all cases. For example: <code>run_command(obj, arg1, arg2)</code>.</p>
</li>
</ul>
<h3 id="environment-object">
<code>environment</code> object</h3>
<p>This object is returned by <a href="Reference-manual.html#environment"><code>environment()</code></a> and stores
detailed information about how environment variables should be set
during tests. It should be passed as the <code>env</code> keyword argument to
tests and other functions. It has the following methods.</p>
<ul>
<li>
<p><code>append(varname, value1, value2, ...)</code>: appends the given values to
the old value of the environment variable, e.g.  <code>env.append('FOO', 'BAR', 'BAZ', separator : ';')</code> produces <code>BOB;BAR;BAZ</code> if <code>FOO</code> had
the value <code>BOB</code> and plain <code>BAR;BAZ</code> if the value was not defined. If
the separator is not specified explicitly, the default path
separator for the host operating system will be used, i.e. ';' for
Windows and ':' for UNIX/POSIX systems.</p>
</li>
<li>
<p><code>prepend(varname, value1, value2, ...)</code>: same as <code>append</code>
except that it writes to the beginning of the variable.</p>
</li>
<li>
<p><code>set(varname, value1, value2)</code>: sets the environment variable
specified in the first argument to the values in the second argument
joined by the separator, e.g.  <code>env.set('FOO', 'BAR'),</code> sets envvar
<code>FOO</code> to value <code>BAR</code>. See <code>append()</code> above for how separators work.</p>
</li>
</ul>
<p><em>Since 0.58.0</em> <code>append()</code> and <code>prepend()</code> methods can be called multiple times
on the same <code>varname</code>. Earlier Meson versions would warn and only the last
operation took effect.</p>
<pre><code class="language-meson">env = environment()

# MY_PATH will be '0:1:2:3'
env.set('MY_PATH', '1')
env.append('MY_PATH', '2')
env.append('MY_PATH', '3')
env.prepend('MY_PATH', '0')
</code></pre>
<h3 id="external-library-object">
<code>external library</code> object</h3>
<p>This object is returned by <a href="Reference-manual.html#find_library"><code>find_library()</code></a> and
contains an external (i.e. not built as part of this project)
library. This object has the following methods:</p>
<ul>
<li>
<p><code>found()</code>: returns whether the library was found.</p>
</li>
<li>
<p><code>type_name()</code> <em>(since 0.48.0)</em>: returns a string describing
the type of the dependency, which will be <code>library</code> in this case.</p>
</li>
<li>
<p><code>partial_dependency(compile_args : false, link_args : false, links : false, includes : false, source : false)</code> <em>(since 0.46.0)</em>: returns
a new dependency object with the same name, version, found status,
type name, and methods as the object that called it. This new
object will only inherit other attributes from its parent as
controlled by keyword arguments.</p>
</li>
</ul>
<h3 id="feature-option-object">Feature option object</h3>
<p><em>(since 0.47.0)</em></p>
<p>The following methods are defined for all <a href="Build-options.html#features"><code>feature</code> options</a>:</p>
<ul>
<li>
<code>enabled()</code>: returns whether the feature was set to <code>'enabled'</code>
</li>
<li>
<code>disabled()</code>: returns whether the feature was set to <code>'disabled'</code>
</li>
<li>
<code>auto()</code>: returns whether the feature was set to <code>'auto'</code>
</li>
</ul>
<h3 id="generator-object">
<code>generator</code> object</h3>
<p>This object is returned by <a href="Reference-manual.html#generator"><code>generator()</code></a> and contains a
generator that is used to transform files from one type to another by
an executable (e.g. <code>idl</code> files into source code and headers).</p>
<ul>
<li>
<code>process(list_of_files, ...)</code>: takes a list of files, causes them to
be processed and returns an object containing the result which can
then, for example, be passed into a build target definition. The
keyword argument <code>extra_args</code>, if specified, will be used to replace
an entry <code>@EXTRA_ARGS@</code> in the argument list. The keyword argument
<code>preserve_path_from</code>, if given, specifies that the output files need
to maintain their directory structure inside the target temporary
directory. The most common value for this is
<code>meson.current_source_dir()</code>. With this value when a file called
<code>subdir/one.input</code> is processed it generates a file <code>&lt;target private directory&gt;/subdir/one.out</code> as opposed to <code>&lt;target private directory&gt;/one.out</code>.</li>
</ul>
<h3 id="subproject-object">
<code>subproject</code> object</h3>
<p>This object is returned by <a href="Reference-manual.html#subproject"><code>subproject()</code></a> and is an
opaque object representing it.</p>
<ul>
<li>
<p><code>found()</code> <em>(since 0.48.0)</em>: returns whether the subproject was
successfully setup</p>
</li>
<li>
<p><code>get_variable(name, fallback)</code>: fetches the specified variable from
inside the subproject. This is useful to, for instance, get a
<a href="Reference-manual.html#declare_dependency">declared dependency</a> from the
<a href="Subprojects.html">subproject</a>.</p>
<p>If the variable does not exist, the variable <code>fallback</code> is returned.
If a fallback is not specified, then attempting to read a non-existing
variable will cause a fatal error.</p>
</li>
</ul>
<h3 id="run-result-object">
<code>run result</code> object</h3>
<p>This object encapsulates the result of trying to compile and run a
sample piece of code with <a href="Reference-manual.html#compiler-object"><code>compiler.run()</code></a> or
<a href="Reference-manual.html#run_command"><code>run_command()</code></a>. It has the following methods:</p>
<ul>
<li>
<code>compiled()</code>: if true, the compilation succeeded, if false it did not
and the other methods return unspecified data. This is only available
for <code>compiler.run()</code> results.</li>
<li>
<code>returncode()</code>: the return code of executing the compiled binary</li>
<li>
<code>stderr()</code>: the standard error produced when the command was run</li>
<li>
<code>stdout()</code>: the standard out produced when the command was run</li>
</ul>

    </div>
        




		
	</div>
	<div id="search_results">
		<p>The results of the search are</p>
	</div>
	<div id="footer">
		    
        
<hr>

<div class="license-description">
    Website licensing information are available on the <a href="legal.html">Legal</a> page.
</div>


	</div>
</div>

<div id="toc-column">
	
		<div class="edit-button">
		<a href="https://github.com/mesonbuild/meson/edit/master/docs/markdown/Reference-manual.md" data-hotdoc-role="edit-button">Edit on github</a>

	</div>
		<div id="toc-wrapper">
		<nav id="toc"></nav>
	</div>
</div>
</div>
</main>


<script src="assets/js/navbar_offset_scroller.js"></script>
</body>
</html>
